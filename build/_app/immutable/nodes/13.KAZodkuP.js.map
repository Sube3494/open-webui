{"version":3,"file":"13.KAZodkuP.js","sources":["../../../../../../src/lib/components/icons/PencilSolid.svelte","../../../../../../src/lib/components/admin/Settings/Database.svelte","../../../../../../src/lib/components/admin/Settings/General.svelte","../../../../../../src/lib/components/admin/Settings/Pipelines.svelte","../../../../../../src/lib/components/admin/Settings/Audio.svelte","../../../../../../src/lib/components/admin/Settings/Images.svelte","../../../../../../src/lib/components/admin/Settings/Interface.svelte","../../../../../../src/lib/components/admin/Settings/Models/ModelList.svelte","../../../../../../src/lib/components/admin/Settings/Models/ConfigureModelsModal.svelte","../../../../../../src/lib/components/admin/Settings/Models/Manage/ManageOllama.svelte","../../../../../../src/lib/components/admin/Settings/Models/Manage/ManageMultipleOllama.svelte","../../../../../../src/lib/components/admin/Settings/Models/ManageModelsModal.svelte","../../../../../../src/lib/components/admin/Settings/Models.svelte","../../../../../../src/lib/components/admin/Settings/Connections/OpenAIConnection.svelte","../../../../../../src/lib/components/admin/Settings/Connections/ManageOllamaModal.svelte","../../../../../../src/lib/components/admin/Settings/Connections/OllamaConnection.svelte","../../../../../../src/lib/components/admin/Settings/Connections.svelte","../../../../../../src/lib/components/admin/Settings/Documents.svelte","../../../../../../src/lib/components/admin/Settings/WebSearch.svelte","../../../../../../src/lib/components/icons/DocumentChartBar.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations/ArenaModelModal.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations/Model.svelte","../../../../../../src/lib/components/admin/Settings/Evaluations.svelte","../../../../../../src/lib/components/admin/Settings/CodeExecution.svelte","../../../../../../src/lib/components/admin/Settings.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\texport let className = 'w-4 h-4';\r\n\texport let strokeWidth = '1.5';\r\n</script>\r\n\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\r\n\t<path\r\n\t\td=\"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z\"\r\n\t/>\r\n</svg>\r\n","<script lang=\"ts\">\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { downloadDatabase, downloadLiteLLMConfig } from '$lib/apis/utils';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { config, user } from '$lib/stores';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { getAllUserChats } from '$lib/apis/chats';\r\n\timport { exportConfig, importConfig } from '$lib/apis/configs';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tconst exportAllUserChats = async () => {\r\n\t\tlet blob = new Blob([JSON.stringify(await getAllUserChats(localStorage.token))], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `all-chats-export-${Date.now()}.json`);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\t// permissions = await getUserPermissions(localStorage.token);\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Database')}</div>\r\n\r\n\t\t\t<input\r\n\t\t\t\tid=\"config-json-input\"\r\n\t\t\t\thidden\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\taccept=\".json\"\r\n\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\tconst file = e.target.files[0];\r\n\t\t\t\t\tconst reader = new FileReader();\r\n\r\n\t\t\t\t\treader.onload = async (e) => {\r\n\t\t\t\t\t\tconst res = await importConfig(localStorage.token, JSON.parse(e.target.result)).catch(\r\n\t\t\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\ttoast.success('Config imported successfully');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\te.target.value = null;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treader.readAsText(file);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tdocument.getElementById('config-json-input').click();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Import Config from JSON File')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={async () => {\r\n\t\t\t\t\tconst config = await exportConfig(localStorage.token);\r\n\t\t\t\t\tconst blob = new Blob([JSON.stringify(config)], {\r\n\t\t\t\t\t\ttype: 'application/json'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsaveAs(blob, `config-${Date.now()}.json`);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Export Config to JSON File')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t{#if $config?.features.enable_admin_export ?? true}\r\n\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t<!-- <div class=\" self-center text-xs font-medium\">{$i18n.t('Allow Chat Deletion')}</div> -->\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\" flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t// exportAllUserChats();\r\n\r\n\t\t\t\t\t\t\tdownloadDatabase(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Download Database')}</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\texportAllUserChats();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path d=\"M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z\" />\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Export All Chats (All Users)')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!-- <div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\r\n\t</div> -->\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getBackendConfig, getVersionUpdates, getWebhookUrl, updateWebhookUrl } from '$lib/apis';\r\n\timport {\r\n\t\tgetAdminConfig,\r\n\t\tgetLdapConfig,\r\n\t\tgetLdapServer,\r\n\t\tupdateAdminConfig,\r\n\t\tupdateLdapConfig,\r\n\t\tupdateLdapServer\r\n\t} from '$lib/apis/auths';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport { WEBUI_BUILD_HASH, WEBUI_VERSION } from '$lib/constants';\r\n\timport { config, showChangelog } from '$lib/stores';\r\n\timport { compareVersion } from '$lib/utils';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet updateAvailable = null;\r\n\tlet version = {\r\n\t\tcurrent: '',\r\n\t\tlatest: ''\r\n\t};\r\n\r\n\tlet adminConfig = null;\r\n\tlet webhookUrl = '';\r\n\r\n\t// LDAP\r\n\tlet ENABLE_LDAP = false;\r\n\tlet LDAP_SERVER = {\r\n\t\tlabel: '',\r\n\t\thost: '',\r\n\t\tport: '',\r\n\t\tattribute_for_mail: 'mail',\r\n\t\tattribute_for_username: 'uid',\r\n\t\tapp_dn: '',\r\n\t\tapp_dn_password: '',\r\n\t\tsearch_base: '',\r\n\t\tsearch_filters: '',\r\n\t\tuse_tls: false,\r\n\t\tcertificate_path: '',\r\n\t\tciphers: ''\r\n\t};\r\n\r\n\tconst checkForVersionUpdates = async () => {\r\n\t\tupdateAvailable = null;\r\n\t\tversion = await getVersionUpdates(localStorage.token).catch((error) => {\r\n\t\t\treturn {\r\n\t\t\t\tcurrent: WEBUI_VERSION,\r\n\t\t\t\tlatest: WEBUI_VERSION\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tconsole.log(version);\r\n\r\n\t\tupdateAvailable = compareVersion(version.latest, version.current);\r\n\t\tconsole.log(updateAvailable);\r\n\t};\r\n\r\n\tconst updateLdapServerHandler = async () => {\r\n\t\tif (!ENABLE_LDAP) return;\r\n\t\tconst res = await updateLdapServer(localStorage.token, LDAP_SERVER).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('LDAP server updated'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateHandler = async () => {\r\n\t\twebhookUrl = await updateWebhookUrl(localStorage.token, webhookUrl);\r\n\t\tconst res = await updateAdminConfig(localStorage.token, adminConfig);\r\n\t\tawait updateLdapServerHandler();\r\n\r\n\t\tif (res) {\r\n\t\t\tsaveHandler();\r\n\t\t} else {\r\n\t\t\ttoast.error(i18n.t('Failed to update settings'));\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tcheckForVersionUpdates();\r\n\r\n\t\tawait Promise.all([\r\n\t\t\t(async () => {\r\n\t\t\t\tadminConfig = await getAdminConfig(localStorage.token);\r\n\t\t\t})(),\r\n\r\n\t\t\t(async () => {\r\n\t\t\t\twebhookUrl = await getWebhookUrl(localStorage.token);\r\n\t\t\t})(),\r\n\t\t\t(async () => {\r\n\t\t\t\tLDAP_SERVER = await getLdapServer(localStorage.token);\r\n\t\t\t})()\r\n\t\t]);\r\n\r\n\t\tconst ldapConfig = await getLdapConfig(localStorage.token);\r\n\t\tENABLE_LDAP = ldapConfig.ENABLE_LDAP;\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tupdateHandler();\r\n\t}}\r\n>\r\n\t<div class=\"mt-0.5 space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if adminConfig !== null}\r\n\t\t\t<div class=\"\">\r\n\t\t\t\t<div class=\"mb-3.5\">\r\n\t\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium flex space-x-2 items-center\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Version')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col text-xs text-gray-700 dark:text-gray-200\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip content={WEBUI_BUILD_HASH}>\r\n\t\t\t\t\t\t\t\t\t\tv{WEBUI_VERSION}\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui/releases/tag/v{version.latest}\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{updateAvailable === null\r\n\t\t\t\t\t\t\t\t\t\t\t? $i18n.t('Checking for updates...')\r\n\t\t\t\t\t\t\t\t\t\t\t: updateAvailable\r\n\t\t\t\t\t\t\t\t\t\t\t\t? `(v${version.latest} ${$i18n.t('available!')})`\r\n\t\t\t\t\t\t\t\t\t\t\t\t: $i18n.t('(latest)')}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\" underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowChangelog.set(true);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div>{$i18n.t(\"See what's new\")}</div>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\" text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tcheckForVersionUpdates();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Check for updates')}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Help')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Discover how to use Open WebUI and seek support from the community.')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\"flex-shrink-0 text-xs font-medium underline\"\r\n\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Documentation')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t\t<div class=\"flex space-x-1\">\r\n\t\t\t\t\t\t\t\t<a href=\"https://discord.gg/5rJgQTnV4s\" target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"Discord\"\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&logoColor=white\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t<a href=\"https://twitter.com/OpenWebUI\" target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"X (formerly Twitter) Follow\"\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/twitter/follow/OpenWebUI\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t<a href=\"https://github.com/open-webui/open-webui\" target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"Github Repo\"\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"https://img.shields.io/github/stars/open-webui/open-webui?style=social&label=Star us on Github\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"text-xs pr-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('License')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-500 hover:underline\"\r\n\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/enterprise\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t'Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<!-- <button\r\n\t\t\t\t\t\t\t\tclass=\"flex-shrink-0 text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Activate')}\r\n\t\t\t\t\t\t\t</button> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('Authentication')}</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"  mb-2.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Default User Role')}</div>\r\n\t\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\t\tbind:value={adminConfig.DEFAULT_USER_ROLE}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Select a role\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"pending\">{$i18n.t('pending')}</option>\r\n\t\t\t\t\t\t\t\t<option value=\"user\">{$i18n.t('user')}</option>\r\n\t\t\t\t\t\t\t\t<option value=\"admin\">{$i18n.t('admin')}</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" mb-2.5 flex w-full justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable New Sign Ups')}</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_SIGNUP} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Show Admin Details in Account Pending Overlay')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.SHOW_ADMIN_DETAILS} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable API Key')}</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_API_KEY} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if adminConfig?.ENABLE_API_KEY}\r\n\t\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between pr-2\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('API Key Endpoint Restrictions')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if adminConfig?.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS}\r\n\t\t\t\t\t\t\t<div class=\" flex w-full flex-col pr-2\">\r\n\t\t\t\t\t\t\t\t<div class=\" text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Allowed Endpoints')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full mt-1 rounded-lg text-sm dark:text-gray-300 bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={`e.g.) /api/v1/messages, /api/v1/channels`}\r\n\t\t\t\t\t\t\t\t\tbind:value={adminConfig.API_KEY_ALLOWED_ENDPOINTS}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t<!-- https://docs.openwebui.com/getting-started/advanced-topics/api-endpoints -->\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref=\"https://docs.openwebui.com/getting-started/api-endpoints\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('To learn more about available endpoints, visit our documentation.')}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t<div class=\" mb-2.5 w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('JWT Expiration')}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={`e.g.) \"30m\",\"1h\", \"10d\". `}\r\n\t\t\t\t\t\t\t\tbind:value={adminConfig.JWT_EXPIRES_IN}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Valid time units:')}\r\n\t\t\t\t\t\t\t<span class=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t\t>{$i18n.t(\"'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.\")}</span\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" space-y-3\">\r\n\t\t\t\t\t\t<div class=\"mt-2 space-y-2 pr-1.5\">\r\n\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('LDAP')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tbind:state={ENABLE_LDAP}\r\n\t\t\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateLdapConfig(localStorage.token, ENABLE_LDAP);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if ENABLE_LDAP}\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col gap-1\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Label')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server label')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.label}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Host')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server host')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.host}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Port')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('Default to 389 or 636 if TLS is enabled')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter server port')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.port}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Application DN')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('The Application Account DN you bind with for search')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Application DN')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.app_dn}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Application DN Password')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Application DN Password')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.app_dn_password}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Attribute for Mail')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'The LDAP attribute that maps to the mail that users use to sign in.'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: mail')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.attribute_for_mail}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Attribute for Username')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'The LDAP attribute that maps to the username that users use to sign in.'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Example: sAMAccountName or uid or userPrincipalName'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.attribute_for_username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Search Base')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent={$i18n.t('The base to search for users')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: ou=users,dc=foo,dc=example')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.search_base}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Search Filters')}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: (&(objectClass=inetOrgPerson)(uid=%s))')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.search_filters}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\t\t\t\thref=\"https://ldap.com/ldap-filters/\"\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here for filter guides.')}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('TLS')}</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={LDAP_SERVER.use_tls} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{#if LDAP_SERVER.use_tls}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1 mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Certificate Path')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter certificate path')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.certificate_path}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Ciphers')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Default to ALL')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent outline-hidden py-0.5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Example: ALL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={LDAP_SERVER.ciphers}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-3\">\r\n\t\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('Features')}</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Enable Community Sharing')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_COMMUNITY_SHARING} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Enable Message Rating')}</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_MESSAGE_RATING} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between pr-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Channels')} ({$i18n.t('Beta')})\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={adminConfig.ENABLE_CHANNELS} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5 w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('WebUI URL')}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={`e.g.) \"http://localhost:3000\"`}\r\n\t\t\t\t\t\t\t\tbind:value={adminConfig.WEBUI_URL}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t'Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Webhook URL')}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={`https://example.com/webhook`}\r\n\t\t\t\t\t\t\t\tbind:value={webhookUrl}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { v4 as uuidv4 } from 'uuid';\r\n\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { config, models, settings } from '$lib/stores';\r\n\timport { getContext, onMount, tick } from 'svelte';\r\n\timport type { Writable } from 'svelte/store';\r\n\timport type { i18n as i18nType } from 'i18next';\r\n\timport {\r\n\t\tgetPipelineValves,\r\n\t\tgetPipelineValvesSpec,\r\n\t\tupdatePipelineValves,\r\n\t\tgetPipelines,\r\n\t\tgetModels,\r\n\t\tgetPipelinesList,\r\n\t\tdownloadPipeline,\r\n\t\tdeletePipeline,\r\n\t\tuploadPipeline\r\n\t} from '$lib/apis';\r\n\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\tconst i18n: Writable<i18nType> = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet downloading = false;\r\n\tlet uploading = false;\r\n\r\n\tlet pipelineFiles;\r\n\r\n\tlet PIPELINES_LIST = null;\r\n\tlet selectedPipelinesUrlIdx = '';\r\n\r\n\tlet pipelines = null;\r\n\r\n\tlet valves = null;\r\n\tlet valves_spec = null;\r\n\tlet selectedPipelineIdx = null;\r\n\r\n\tlet pipelineDownloadUrl = '';\r\n\r\n\tconst updateHandler = async () => {\r\n\t\tconst pipeline = pipelines[selectedPipelineIdx];\r\n\r\n\t\tif (pipeline && (pipeline?.valves ?? false)) {\r\n\t\t\tfor (const property in valves_spec.properties) {\r\n\t\t\t\tif (valves_spec.properties[property]?.type === 'array') {\r\n\t\t\t\t\tvalves[property] = valves[property].split(',').map((v) => v.trim());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst res = await updatePipelineValves(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\tpipeline.id,\r\n\t\t\t\tvalves,\r\n\t\t\t\tselectedPipelinesUrlIdx\r\n\t\t\t).catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Valves updated successfully'));\r\n\t\t\t\tsetPipelines();\r\n\t\t\t\tmodels.set(\r\n\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t\tsaveHandler();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t('No valves to update'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst getValves = async (idx) => {\r\n\t\tvalves = null;\r\n\t\tvalves_spec = null;\r\n\r\n\t\tvalves_spec = await getPipelineValvesSpec(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[idx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t);\r\n\t\tvalves = await getPipelineValves(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[idx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t);\r\n\r\n\t\tfor (const property in valves_spec.properties) {\r\n\t\t\tif (valves_spec.properties[property]?.type === 'array') {\r\n\t\t\t\tvalves[property] = valves[property].join(',');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst setPipelines = async () => {\r\n\t\tpipelines = null;\r\n\t\tvalves = null;\r\n\t\tvalves_spec = null;\r\n\r\n\t\tif (PIPELINES_LIST.length > 0) {\r\n\t\t\tconsole.log(selectedPipelinesUrlIdx);\r\n\t\t\tpipelines = await getPipelines(localStorage.token, selectedPipelinesUrlIdx);\r\n\r\n\t\t\tif (pipelines.length > 0) {\r\n\t\t\t\tselectedPipelineIdx = 0;\r\n\t\t\t\tawait getValves(selectedPipelineIdx);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpipelines = [];\r\n\t\t}\r\n\t};\r\n\r\n\tconst addPipelineHandler = async () => {\r\n\t\tdownloading = true;\r\n\t\tconst res = await downloadPipeline(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelineDownloadUrl,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\r\n\t\t\tsetPipelines();\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tdownloading = false;\r\n\t};\r\n\r\n\tconst uploadPipelineHandler = async () => {\r\n\t\tuploading = true;\r\n\r\n\t\tif (pipelineFiles && pipelineFiles.length !== 0) {\r\n\t\t\tconst file = pipelineFiles[0];\r\n\r\n\t\t\tconsole.log(file);\r\n\r\n\t\t\tconst res = await uploadPipeline(localStorage.token, file, selectedPipelinesUrlIdx).catch(\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\ttoast.error('Something went wrong :/');\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Pipeline downloaded successfully'));\r\n\t\t\t\tsetPipelines();\r\n\t\t\t\tmodels.set(\r\n\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t('No file selected'));\r\n\t\t}\r\n\r\n\t\tpipelineFiles = null;\r\n\t\tconst pipelineUploadInputElement = document.getElementById('pipelines-upload-input');\r\n\r\n\t\tif (pipelineUploadInputElement) {\r\n\t\t\tpipelineUploadInputElement.value = null;\r\n\t\t}\r\n\r\n\t\tuploading = false;\r\n\t};\r\n\r\n\tconst deletePipelineHandler = async () => {\r\n\t\tconst res = await deletePipeline(\r\n\t\t\tlocalStorage.token,\r\n\t\t\tpipelines[selectedPipelineIdx].id,\r\n\t\t\tselectedPipelinesUrlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Pipeline deleted successfully'));\r\n\t\t\tsetPipelines();\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tPIPELINES_LIST = await getPipelinesList(localStorage.token);\r\n\t\tconsole.log(PIPELINES_LIST);\r\n\r\n\t\tif (PIPELINES_LIST.length > 0) {\r\n\t\t\tselectedPipelinesUrlIdx = PIPELINES_LIST[0]['idx'].toString();\r\n\t\t}\r\n\r\n\t\tawait setPipelines();\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tupdateHandler();\r\n\t}}\r\n>\r\n\t<div class=\"overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if PIPELINES_LIST !== null}\r\n\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t{$i18n.t('Manage Pipelines')}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if PIPELINES_LIST.length > 0}\r\n\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tbind:value={selectedPipelinesUrlIdx}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline url')}\r\n\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\tawait tick();\r\n\t\t\t\t\t\t\t\t\tawait setPipelines();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"\" selected disabled class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t>{$i18n.t('Select a pipeline url')}</option\r\n\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t{#each PIPELINES_LIST as pipelines, idx}\r\n\t\t\t\t\t\t\t\t\t<option value={pipelines.idx.toString()} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t>{pipelines.url}</option\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" my-2\">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Upload Pipeline')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tid=\"pipelines-upload-input\"\r\n\t\t\t\t\t\t\t\tbind:files={pipelineFiles}\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\taccept=\".py\"\r\n\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById('pipelines-upload-input')?.click();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if pipelineFiles}\r\n\t\t\t\t\t\t\t\t\t{pipelineFiles.length > 0 ? `${pipelineFiles.length}` : ''} pipeline(s) selected.\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select a py file.')}\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tuploadPipelineHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={uploading}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if uploading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" my-2\">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Install from Github URL')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Github Raw URL')}\r\n\t\t\t\t\t\t\t\tbind:value={pipelineDownloadUrl}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\taddPipelineHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={downloading}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if downloading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-500\">\r\n\t\t\t\t\t\t<span class=\" font-semibold dark:text-gray-200\">Warning:</span> Pipelines are a plugin\r\n\t\t\t\t\t\tsystem with arbitrary code execution —\r\n\t\t\t\t\t\t<span class=\" font-medium dark:text-gray-400\"\r\n\t\t\t\t\t\t\t>don't fetch random pipelines from sources you don't trust.</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-3 w-full\" />\r\n\r\n\t\t\t\t{#if pipelines !== null}\r\n\t\t\t\t\t{#if pipelines.length > 0}\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Pipelines Valves')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t\t\t{#if pipelines.length > 0}\r\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={selectedPipelineIdx}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a pipeline')}\r\n\t\t\t\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait tick();\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait getValves(selectedPipelineIdx);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{#each pipelines as pipeline, idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={idx} class=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{pipeline.name} ({pipeline.type ?? 'pipe'})</option\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tdeletePipelineHandler();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t\t<div class=\"space-y-1\">\r\n\t\t\t\t\t\t\t\t{#if pipelines[selectedPipelineIdx].valves}\r\n\t\t\t\t\t\t\t\t\t{#if valves}\r\n\t\t\t\t\t\t\t\t\t\t{#each Object.keys(valves_spec.properties) as property, idx}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" py-0.5 w-full justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves_spec.properties[property].title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalves[property] = (valves[property] ?? null) === null ? '' : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) === null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('None')} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\"> {$i18n.t('Custom')} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{#if (valves[property] ?? null) !== null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- {valves[property]} -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex mt-0.5 mb-1.5 space-x-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if valves_spec.properties[property]?.enum ?? null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#each valves_spec.properties[property].enum as option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={option} selected={option === valves[property]}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else if (valves_spec.properties[property]?.type ?? null) === 'boolean'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valves[property] ? 'Enabled' : 'Disabled'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={valves[property]} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={valves_spec.properties[property].title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={valves[property]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<Spinner className=\"size-5\" />\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<div>No valves</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{:else if pipelines.length === 0}\r\n\t\t\t\t\t\t<div>Pipelines Not Detected</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div class=\"flex justify-center\">\r\n\t\t\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t\t\t<Spinner className=\"size-4\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t{:else}\r\n\t\t\t\t<div>{$i18n.t('Pipelines Not Detected')}</div>\r\n\t\t\t{/if}\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex justify-center h-full\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t{#if PIPELINES_LIST !== null && PIPELINES_LIST.length > 0}\r\n\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t>\r\n\t\t\t\t{$i18n.t('Save')}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t{/if}\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\timport {\r\n\t\tgetAudioConfig,\r\n\t\tupdateAudioConfig,\r\n\t\tgetModels as _getModels,\r\n\t\tgetVoices as _getVoices\r\n\t} from '$lib/apis/audio';\r\n\timport { config, settings } from '$lib/stores';\r\n\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\r\n\timport { TTS_RESPONSE_SPLIT } from '$lib/types';\r\n\r\n\timport type { Writable } from 'svelte/store';\r\n\timport type { i18n as i18nType } from 'i18next';\r\n\r\n\tconst i18n = getContext<Writable<i18nType>>('i18n');\r\n\r\n\texport let saveHandler: () => void;\r\n\r\n\t// Audio\r\n\tlet TTS_OPENAI_API_BASE_URL = '';\r\n\tlet TTS_OPENAI_API_KEY = '';\r\n\tlet TTS_API_KEY = '';\r\n\tlet TTS_ENGINE = '';\r\n\tlet TTS_MODEL = '';\r\n\tlet TTS_VOICE = '';\r\n\tlet TTS_SPLIT_ON: TTS_RESPONSE_SPLIT = TTS_RESPONSE_SPLIT.PUNCTUATION;\r\n\tlet TTS_AZURE_SPEECH_REGION = '';\r\n\tlet TTS_AZURE_SPEECH_OUTPUT_FORMAT = '';\r\n\r\n\tlet STT_OPENAI_API_BASE_URL = '';\r\n\tlet STT_OPENAI_API_KEY = '';\r\n\tlet STT_ENGINE = '';\r\n\tlet STT_MODEL = '';\r\n\tlet STT_WHISPER_MODEL = '';\r\n\tlet STT_DEEPGRAM_API_KEY = '';\r\n\r\n\tlet STT_WHISPER_MODEL_LOADING = false;\r\n\r\n\t// eslint-disable-next-line no-undef\r\n\tlet voices: SpeechSynthesisVoice[] = [];\r\n\tlet models: Awaited<ReturnType<typeof _getModels>>['models'] = [];\r\n\r\n\tconst getModels = async () => {\r\n\t\tif (TTS_ENGINE === '') {\r\n\t\t\tmodels = [];\r\n\t\t} else {\r\n\t\t\tconst res = await _getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t).catch((e) => {\r\n\t\t\t\ttoast.error(`${e}`);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tmodels = res.models;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst getVoices = async () => {\r\n\t\tif (TTS_ENGINE === '') {\r\n\t\t\tconst getVoicesLoop = setInterval(() => {\r\n\t\t\t\tvoices = speechSynthesis.getVoices();\r\n\r\n\t\t\t\t// do your loop\r\n\t\t\t\tif (voices.length > 0) {\r\n\t\t\t\t\tclearInterval(getVoicesLoop);\r\n\t\t\t\t\tvoices.sort((a, b) => a.name.localeCompare(b.name, $i18n.resolvedLanguage));\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\t\t} else {\r\n\t\t\tconst res = await _getVoices(localStorage.token).catch((e) => {\r\n\t\t\t\ttoast.error(`${e}`);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tvoices = res.voices;\r\n\t\t\t\tvoices.sort((a, b) => a.name.localeCompare(b.name, $i18n.resolvedLanguage));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateConfigHandler = async () => {\r\n\t\tconst res = await updateAudioConfig(localStorage.token, {\r\n\t\t\ttts: {\r\n\t\t\t\tOPENAI_API_BASE_URL: TTS_OPENAI_API_BASE_URL,\r\n\t\t\t\tOPENAI_API_KEY: TTS_OPENAI_API_KEY,\r\n\t\t\t\tAPI_KEY: TTS_API_KEY,\r\n\t\t\t\tENGINE: TTS_ENGINE,\r\n\t\t\t\tMODEL: TTS_MODEL,\r\n\t\t\t\tVOICE: TTS_VOICE,\r\n\t\t\t\tSPLIT_ON: TTS_SPLIT_ON,\r\n\t\t\t\tAZURE_SPEECH_REGION: TTS_AZURE_SPEECH_REGION,\r\n\t\t\t\tAZURE_SPEECH_OUTPUT_FORMAT: TTS_AZURE_SPEECH_OUTPUT_FORMAT\r\n\t\t\t},\r\n\t\t\tstt: {\r\n\t\t\t\tOPENAI_API_BASE_URL: STT_OPENAI_API_BASE_URL,\r\n\t\t\t\tOPENAI_API_KEY: STT_OPENAI_API_KEY,\r\n\t\t\t\tENGINE: STT_ENGINE,\r\n\t\t\t\tMODEL: STT_MODEL,\r\n\t\t\t\tWHISPER_MODEL: STT_WHISPER_MODEL,\r\n\t\t\t\tDEEPGRAM_API_KEY: STT_DEEPGRAM_API_KEY\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tsaveHandler();\r\n\t\t\tconfig.set(await getBackendConfig());\r\n\t\t}\r\n\t};\r\n\r\n\tconst sttModelUpdateHandler = async () => {\r\n\t\tSTT_WHISPER_MODEL_LOADING = true;\r\n\t\tawait updateConfigHandler();\r\n\t\tSTT_WHISPER_MODEL_LOADING = false;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getAudioConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log(res);\r\n\t\t\tTTS_OPENAI_API_BASE_URL = res.tts.OPENAI_API_BASE_URL;\r\n\t\t\tTTS_OPENAI_API_KEY = res.tts.OPENAI_API_KEY;\r\n\t\t\tTTS_API_KEY = res.tts.API_KEY;\r\n\r\n\t\t\tTTS_ENGINE = res.tts.ENGINE;\r\n\t\t\tTTS_MODEL = res.tts.MODEL;\r\n\t\t\tTTS_VOICE = res.tts.VOICE;\r\n\r\n\t\t\tTTS_SPLIT_ON = res.tts.SPLIT_ON || TTS_RESPONSE_SPLIT.PUNCTUATION;\r\n\r\n\t\t\tTTS_AZURE_SPEECH_OUTPUT_FORMAT = res.tts.AZURE_SPEECH_OUTPUT_FORMAT;\r\n\t\t\tTTS_AZURE_SPEECH_REGION = res.tts.AZURE_SPEECH_REGION;\r\n\r\n\t\t\tSTT_OPENAI_API_BASE_URL = res.stt.OPENAI_API_BASE_URL;\r\n\t\t\tSTT_OPENAI_API_KEY = res.stt.OPENAI_API_KEY;\r\n\r\n\t\t\tSTT_ENGINE = res.stt.ENGINE;\r\n\t\t\tSTT_MODEL = res.stt.MODEL;\r\n\t\t\tSTT_WHISPER_MODEL = res.stt.WHISPER_MODEL;\r\n\t\t\tSTT_DEEPGRAM_API_KEY = res.stt.DEEPGRAM_API_KEY;\r\n\t\t}\r\n\r\n\t\tawait getVoices();\r\n\t\tawait getModels();\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait updateConfigHandler();\r\n\t\tdispatch('save');\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t<div class=\"flex flex-col gap-3\">\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('STT Settings')}</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Speech-to-Text Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\tbind:value={STT_ENGINE}\r\n\t\t\t\t\t\t\tplaceholder=\"Select an engine\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Whisper (Local)')}</option>\r\n\t\t\t\t\t\t\t<option value=\"openai\">OpenAI</option>\r\n\t\t\t\t\t\t\t<option value=\"web\">{$i18n.t('Web API')}</option>\r\n\t\t\t\t\t\t\t<option value=\"deepgram\">Deepgram</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if STT_ENGINE === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={STT_OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_OPENAI_API_KEY} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('STT Model')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tlist=\"model-list\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\r\n\t\t\t\t\t\t\t\t\t<option value=\"whisper-1\" />\r\n\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if STT_ENGINE === 'deepgram'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={STT_DEEPGRAM_API_KEY} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('STT Model')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tbind:value={STT_MODEL}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model (optional)\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Leave model field empty to use the default model.')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\r\n\t\t\t\t\t\t\t\thref=\"https://developers.deepgram.com/docs/models\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Click here to see available models.')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if STT_ENGINE === ''}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('STT Model')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set whisper model')}\r\n\t\t\t\t\t\t\t\t\tbind:value={STT_WHISPER_MODEL}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tsttModelUpdateHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={STT_WHISPER_MODEL_LOADING}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if STT_WHISPER_MODEL_LOADING}\r\n\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t(`Open WebUI uses faster-whisper internally.`)}\r\n\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/SYSTRAN/faster-whisper\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t\t`Click here to learn more about faster-whisper and see the available models.`\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('TTS Settings')}</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Text-to-Speech Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\tbind:value={TTS_ENGINE}\r\n\t\t\t\t\t\t\tplaceholder=\"Select a mode\"\r\n\t\t\t\t\t\t\ton:change={async (e) => {\r\n\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\tawait getVoices();\r\n\t\t\t\t\t\t\t\tawait getModels();\r\n\r\n\t\t\t\t\t\t\t\tif (e.target?.value === 'openai') {\r\n\t\t\t\t\t\t\t\t\tTTS_VOICE = 'alloy';\r\n\t\t\t\t\t\t\t\t\tTTS_MODEL = 'tts-1';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tTTS_VOICE = '';\r\n\t\t\t\t\t\t\t\t\tTTS_MODEL = '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Web API')}</option>\r\n\t\t\t\t\t\t\t<option value=\"transformers\">{$i18n.t('Transformers')} ({$i18n.t('Local')})</option>\r\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\r\n\t\t\t\t\t\t\t<option value=\"elevenlabs\">{$i18n.t('ElevenLabs')}</option>\r\n\t\t\t\t\t\t\t<option value=\"azure\">{$i18n.t('Azure AI Speech')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if TTS_ENGINE === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={TTS_OPENAI_API_KEY} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_API_KEY}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'azure'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"mt-1 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_API_KEY}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Azure Region')}\r\n\t\t\t\t\t\t\t\tbind:value={TTS_AZURE_SPEECH_REGION}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t{#if TTS_ENGINE === ''}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected={TTS_VOICE !== ''}>{$i18n.t('Default')}</option>\r\n\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={voice.voiceURI}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-gray-100 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\tselected={TTS_VOICE === voice.voiceURI}\r\n\t\t\t\t\t\t\t\t\t\t\t>{voice.name.replace('+', ', ')}</option\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'transformers'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Model')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tlist=\"model-list\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"CMU ARCTIC speaker embedding name\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\r\n\t\t\t\t\t\t\t\t\t<option value=\"tts-1\" />\r\n\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t(`Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.`)}\r\n\r\n\t\t\t\t\t\t\tTo learn more about SpeechT5,\r\n\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/microsoft/SpeechT5\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t(`click here`, {\r\n\t\t\t\t\t\t\t\t\tname: 'SpeechT5'\r\n\t\t\t\t\t\t\t\t})}.\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\tTo see the available CMU Arctic speaker embeddings,\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" hover:underline dark:text-gray-200 text-gray-800\"\r\n\t\t\t\t\t\t\t\thref=\"https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t(`click here`)}.\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'openai'}\r\n\t\t\t\t\t<div class=\" flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each models as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\" />\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'elevenlabs'}\r\n\t\t\t\t\t<div class=\" flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Model')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_MODEL}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"tts-model-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each models as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\" />\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if TTS_ENGINE === 'azure'}\r\n\t\t\t\t\t<div class=\" flex gap-2\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('TTS Voice')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"voice-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_VOICE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a voice\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"voice-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each voices as voice}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={voice.id}>{voice.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Output format')}\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref=\"https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs\"\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<small>{$i18n.t('Available list')}</small>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"tts-model-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={TTS_AZURE_SPEECH_OUTPUT_FORMAT}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a output format\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\"pt-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Response splitting')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\taria-label=\"Select how to split message text for TTS requests\"\r\n\t\t\t\t\t\t\tbind:value={TTS_SPLIT_ON}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#each Object.values(TTS_RESPONSE_SPLIT) as split}\r\n\t\t\t\t\t\t\t\t<option value={split}\r\n\t\t\t\t\t\t\t\t\t>{$i18n.t(split.charAt(0).toUpperCase() + split.slice(1))}</option\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\"Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\timport { config as backendConfig, user } from '$lib/stores';\r\n\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\timport {\r\n\t\tgetImageGenerationModels,\r\n\t\tgetImageGenerationConfig,\r\n\t\tupdateImageGenerationConfig,\r\n\t\tgetConfig,\r\n\t\tupdateConfig,\r\n\t\tverifyConfigUrl\r\n\t} from '$lib/apis/images';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet loading = false;\r\n\r\n\tlet config = null;\r\n\tlet imageGenerationConfig = null;\r\n\r\n\tlet models = null;\r\n\r\n\tlet samplers = [\r\n\t\t'DPM++ 2M',\r\n\t\t'DPM++ SDE',\r\n\t\t'DPM++ 2M SDE',\r\n\t\t'DPM++ 2M SDE Heun',\r\n\t\t'DPM++ 2S a',\r\n\t\t'DPM++ 3M SDE',\r\n\t\t'Euler a',\r\n\t\t'Euler',\r\n\t\t'LMS',\r\n\t\t'Heun',\r\n\t\t'DPM2',\r\n\t\t'DPM2 a',\r\n\t\t'DPM fast',\r\n\t\t'DPM adaptive',\r\n\t\t'Restart',\r\n\t\t'DDIM',\r\n\t\t'DDIM CFG++',\r\n\t\t'PLMS',\r\n\t\t'UniPC'\r\n\t];\r\n\r\n\tlet schedulers = [\r\n\t\t'Automatic',\r\n\t\t'Uniform',\r\n\t\t'Karras',\r\n\t\t'Exponential',\r\n\t\t'Polyexponential',\r\n\t\t'SGM Uniform',\r\n\t\t'KL Optimal',\r\n\t\t'Align Your Steps',\r\n\t\t'Simple',\r\n\t\t'Normal',\r\n\t\t'DDIM',\r\n\t\t'Beta'\r\n\t];\r\n\r\n\tlet requiredWorkflowNodes = [\r\n\t\t{\r\n\t\t\ttype: 'prompt',\r\n\t\t\tkey: 'text',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'model',\r\n\t\t\tkey: 'ckpt_name',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'width',\r\n\t\t\tkey: 'width',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'height',\r\n\t\t\tkey: 'height',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'steps',\r\n\t\t\tkey: 'steps',\r\n\t\t\tnode_ids: ''\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'seed',\r\n\t\t\tkey: 'seed',\r\n\t\t\tnode_ids: ''\r\n\t\t}\r\n\t];\r\n\r\n\tconst getModels = async () => {\r\n\t\tmodels = await getImageGenerationModels(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t};\r\n\r\n\tconst updateConfigHandler = async () => {\r\n\t\tconst res = await updateConfig(localStorage.token, config)\r\n\t\t\t.catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\treturn null;\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\tconfig = res;\r\n\t\t}\r\n\r\n\t\tif (config.enabled) {\r\n\t\t\tbackendConfig.set(await getBackendConfig());\r\n\t\t\tgetModels();\r\n\t\t}\r\n\t};\r\n\r\n\tconst validateJSON = (json) => {\r\n\t\ttry {\r\n\t\t\tconst obj = JSON.parse(json);\r\n\r\n\t\t\tif (obj && typeof obj === 'object') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} catch (e) {}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst saveHandler = async () => {\r\n\t\tloading = true;\r\n\r\n\t\tif (config?.comfyui?.COMFYUI_WORKFLOW) {\r\n\t\t\tif (!validateJSON(config.comfyui.COMFYUI_WORKFLOW)) {\r\n\t\t\t\ttoast.error('Invalid JSON format for ComfyUI Workflow.');\r\n\t\t\t\tloading = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (config?.comfyui?.COMFYUI_WORKFLOW) {\r\n\t\t\tconfig.comfyui.COMFYUI_WORKFLOW_NODES = requiredWorkflowNodes.map((node) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: node.type,\r\n\t\t\t\t\tkey: node.key,\r\n\t\t\t\t\tnode_ids:\r\n\t\t\t\t\t\tnode.node_ids.trim() === '' ? [] : node.node_ids.split(',').map((id) => id.trim())\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tawait updateConfig(localStorage.token, config).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\tloading = false;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tawait updateImageGenerationConfig(localStorage.token, imageGenerationConfig).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\tloading = false;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tgetModels();\r\n\t\tdispatch('save');\r\n\t\tloading = false;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tconst res = await getConfig(localStorage.token).catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconfig = res;\r\n\t\t\t}\r\n\r\n\t\t\tif (config.enabled) {\r\n\t\t\t\tgetModels();\r\n\t\t\t}\r\n\r\n\t\t\tif (config.comfyui.COMFYUI_WORKFLOW) {\r\n\t\t\t\tconfig.comfyui.COMFYUI_WORKFLOW = JSON.stringify(\r\n\t\t\t\t\tJSON.parse(config.comfyui.COMFYUI_WORKFLOW),\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\trequiredWorkflowNodes = requiredWorkflowNodes.map((node) => {\r\n\t\t\t\tconst n = config.comfyui.COMFYUI_WORKFLOW_NODES.find((n) => n.type === node.type) ?? node;\r\n\r\n\t\t\t\tconsole.log(n);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: n.type,\r\n\t\t\t\t\tkey: n.key,\r\n\t\t\t\t\tnode_ids: typeof n.node_ids === 'string' ? n.node_ids : n.node_ids.join(',')\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tconst imageConfigRes = await getImageGenerationConfig(localStorage.token).catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (imageConfigRes) {\r\n\t\t\t\timageGenerationConfig = imageConfigRes;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden pr-2\">\r\n\t\t{#if config && imageGenerationConfig}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">{$i18n.t('Image Settings')}</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-1 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Image Generation (Experimental)')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"px-1\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tbind:state={config.enabled}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst enabled = e.detail;\r\n\r\n\t\t\t\t\t\t\t\t\tif (enabled) {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.engine === 'automatic1111' &&\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.automatic1111.AUTOMATIC1111_BASE_URL === ''\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('AUTOMATIC1111 Base URL is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.engine === 'comfyui' &&\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.comfyui.COMFYUI_BASE_URL === ''\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('ComfyUI Base URL is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t} else if (config.engine === 'openai' && config.openai.OPENAI_API_KEY === '') {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('OpenAI API Key is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t} else if (config.engine === 'gemini' && config.gemini.GEMINI_API_KEY === '') {\r\n\t\t\t\t\t\t\t\t\t\t\ttoast.error($i18n.t('Gemini API Key is required.'));\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.enabled = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tupdateConfigHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if config.enabled}\r\n\t\t\t\t\t<div class=\" py-1 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Image Prompt Generation')}</div>\r\n\t\t\t\t\t\t<div class=\"px-1\">\r\n\t\t\t\t\t\t\t<Switch bind:state={config.prompt_generation} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<div class=\" py-1 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Image Generation Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\" dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\tbind:value={config.engine}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select Engine')}\r\n\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\tupdateConfigHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('Default (Open AI)')}</option>\r\n\t\t\t\t\t\t\t<option value=\"comfyui\">{$i18n.t('ComfyUI')}</option>\r\n\t\t\t\t\t\t\t<option value=\"automatic1111\">{$i18n.t('Automatic1111')}</option>\r\n\t\t\t\t\t\t\t<option value=\"gemini\">{$i18n.t('Gemini')}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t<div class=\"flex flex-col gap-2\">\r\n\t\t\t\t{#if (config?.engine ?? 'automatic1111') === 'automatic1111'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('AUTOMATIC1111 Base URL')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_BASE_URL}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Include `--api` flag when running stable-diffusion-webui')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('(e.g. `sh webui.sh --api`)')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('AUTOMATIC1111 Api Auth String')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter api auth string (e.g. username:password)')}\r\n\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_API_AUTH}\r\n\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Include `--api-auth` flag when running stable-diffusion-webui')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n\r\n\t\t\t\t\t\t\t\t\t.t('(e.g. `sh webui.sh --api --api-auth username_password`)')\r\n\t\t\t\t\t\t\t\t\t.replace('_', ':')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<!---Sampler-->\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Sampler')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Sampler (e.g. Euler a)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"sampler-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Sampler (e.g. Euler a)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_SAMPLER}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"sampler-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each samplers ?? [] as sampler}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={sampler}>{sampler}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!---Scheduler-->\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Scheduler')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Scheduler (e.g. Karras)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tlist=\"scheduler-list\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Scheduler (e.g. Karras)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_SCHEDULER}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<datalist id=\"scheduler-list\">\r\n\t\t\t\t\t\t\t\t\t\t{#each schedulers ?? [] as scheduler}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={scheduler}>{scheduler}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!---CFG scale-->\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set CFG Scale')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter CFG Scale (e.g. 7.0)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter CFG Scale (e.g. 7.0)')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.automatic1111.AUTOMATIC1111_CFG_SCALE}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if config?.engine === 'comfyui'}\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Base URL')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://127.0.0.1:7860/)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={config.comfyui.COMFYUI_BASE_URL}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\t\t\tawait updateConfigHandler();\r\n\t\t\t\t\t\t\t\t\tconst res = await verifyConfigUrl(localStorage.token).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Server connection verified'));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\td=\"M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z\"\r\n\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI API Key')}</div>\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('sk-1234')}\r\n\t\t\t\t\t\t\t\t\tbind:value={config.comfyui.COMFYUI_API_KEY}\r\n\t\t\t\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Workflow')}</div>\r\n\r\n\t\t\t\t\t\t{#if config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden disabled:text-gray-600 resize-none\"\r\n\t\t\t\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\t\t\t\tbind:value={config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"upload-comfyui-workflow-input\"\r\n\t\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\taccept=\".json\"\r\n\t\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst file = e.target.files[0];\r\n\t\t\t\t\t\t\t\t\t\tconst reader = new FileReader();\r\n\r\n\t\t\t\t\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconfig.comfyui.COMFYUI_WORKFLOW = e.target.result;\r\n\t\t\t\t\t\t\t\t\t\t\te.target.value = null;\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t\treader.readAsText(file);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-comfyui-workflow-input')?.click();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to upload a workflow.json file.')}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Make sure to export a workflow.json file as API format from ComfyUI.')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if config.comfyui.COMFYUI_WORKFLOW}\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('ComfyUI Workflow Nodes')}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"text-xs flex flex-col gap-1.5\">\r\n\t\t\t\t\t\t\t\t{#each requiredWorkflowNodes as node}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full items-center border dark:border-gray-850 rounded-lg\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{node.type}{node.type === 'prompt' ? '*' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content=\"Input Key (e.g. text, unet_name, steps)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"py-1 px-3 w-24 text-xs text-center bg-transparent outline-hidden border-r dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Key\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontent=\"Comma separated Node Ids (e.g. 1 or 1,2)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Node Ids\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={node.node_ids}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mt-2 text-xs text-right text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('*Prompt node ID(s) are required for image generation')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t{:else if config?.engine === 'openai'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('OpenAI API Config')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={config.openai.OPENAI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={config.openai.OPENAI_API_KEY}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if config?.engine === 'gemini'}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\" mb-1.5 text-sm font-medium\">{$i18n.t('Gemini API Config')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex gap-2 mb-1\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"flex-1 w-full text-sm bg-transparent outline-none\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\t\t\tbind:value={config.gemini.GEMINI_API_BASE_URL}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\t\t\tbind:value={config.gemini.GEMINI_API_KEY}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if config?.enabled}\r\n\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Default Model')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Model ID')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tlist=\"model-list\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.MODEL}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select a model\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<datalist id=\"model-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t{#each models ?? [] as model}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={model.id}>{model.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t\t</datalist>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Image Size')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Image Size (e.g. 512x512)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Image Size (e.g. 512x512)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.IMAGE_SIZE}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2.5 text-sm font-medium\">{$i18n.t('Set Steps')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter Number of Steps (e.g. 50)')} placement=\"top-start\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Number of Steps (e.g. 50)')}\r\n\t\t\t\t\t\t\t\t\tbind:value={imageGenerationConfig.IMAGE_STEPS}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\r\n\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t: ''}\"\r\n\t\t\ttype=\"submit\"\r\n\t\t\tdisabled={loading}\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\r\n\t\t\t{#if loading}\r\n\t\t\t\t<div class=\"ml-2 self-center\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { v4 as uuidv4 } from 'uuid';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { getBackendConfig, getTaskConfig, updateTaskConfig } from '$lib/apis';\r\n\timport { setDefaultPromptSuggestions } from '$lib/apis/configs';\r\n\timport { config, models, settings, user } from '$lib/stores';\r\n\timport { createEventDispatcher, onMount, getContext } from 'svelte';\r\n\r\n\timport { banners as _banners } from '$lib/stores';\r\n\timport type { Banner } from '$lib/types';\r\n\r\n\timport { getBanners, setBanners } from '$lib/apis/configs';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Textarea from '$lib/components/common/Textarea.svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet taskConfig = {\r\n\t\tTASK_MODEL: '',\r\n\t\tTASK_MODEL_EXTERNAL: '',\r\n\t\tENABLE_TITLE_GENERATION: true,\r\n\t\tTITLE_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tIMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tENABLE_AUTOCOMPLETE_GENERATION: true,\r\n\t\tAUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH: -1,\r\n\t\tTAGS_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tENABLE_TAGS_GENERATION: true,\r\n\t\tENABLE_SEARCH_QUERY_GENERATION: true,\r\n\t\tENABLE_RETRIEVAL_QUERY_GENERATION: true,\r\n\t\tQUERY_GENERATION_PROMPT_TEMPLATE: '',\r\n\t\tTOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE: ''\r\n\t};\r\n\r\n\tlet promptSuggestions = [];\r\n\tlet banners: Banner[] = [];\r\n\r\n\tconst updateInterfaceHandler = async () => {\r\n\t\ttaskConfig = await updateTaskConfig(localStorage.token, taskConfig);\r\n\r\n\t\tpromptSuggestions = await setDefaultPromptSuggestions(localStorage.token, promptSuggestions);\r\n\t\tawait updateBanners();\r\n\r\n\t\tawait config.set(await getBackendConfig());\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\ttaskConfig = await getTaskConfig(localStorage.token);\r\n\r\n\t\tpromptSuggestions = $config?.default_prompt_suggestions ?? [];\r\n\t\tbanners = await getBanners(localStorage.token);\r\n\t});\r\n\r\n\tconst updateBanners = async () => {\r\n\t\t_banners.set(await setBanners(localStorage.token, banners));\r\n\t};\r\n</script>\r\n\r\n{#if taskConfig}\r\n\t<form\r\n\t\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\t\ton:submit|preventDefault={() => {\r\n\t\t\tupdateInterfaceHandler();\r\n\t\t\tdispatch('save');\r\n\t\t}}\r\n\t>\r\n\t\t<div class=\"  overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\r\n\t\t\t<div class=\"mb-3.5\">\r\n\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('Tasks')}</div>\r\n\r\n\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\" mb-1 font-medium flex items-center\">\r\n\t\t\t\t\t<div class=\" text-xs mr-1\">{$i18n.t('Set Task Model')}</div>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t'A task model is used when performing tasks such as generating titles for chats and web search queries'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"size-3.5\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\td=\"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" mb-2.5 flex w-full gap-2\">\r\n\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('Local Models')}</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\r\n\t\t\t\t\t\t\t{#each $models.filter((m) => m.owned_by === 'ollama') as model}\r\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\r\n\t\t\t\t\t\t\t\t\t{model.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t<div class=\" text-xs mb-1\">{$i18n.t('External Models')}</div>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tbind:value={taskConfig.TASK_MODEL_EXTERNAL}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=\"\" selected>{$i18n.t('Current Model')}</option>\r\n\t\t\t\t\t\t\t{#each $models as model}\r\n\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-100 dark:bg-gray-700\">\r\n\t\t\t\t\t\t\t\t\t{model.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Title Generation')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_TITLE_GENERATION} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if taskConfig.ENABLE_TITLE_GENERATION}\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Title Generation Prompt')}</div>\r\n\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\tbind:value={taskConfig.TITLE_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Tags Generation')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_TAGS_GENERATION} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if taskConfig.ENABLE_TAGS_GENERATION}\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Tags Generation Prompt')}</div>\r\n\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\tbind:value={taskConfig.TAGS_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Retrieval Query Generation')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_RETRIEVAL_QUERY_GENERATION} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Web Search Query Generation')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_SEARCH_QUERY_GENERATION} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Query Generation Prompt')}</div>\r\n\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\tbind:value={taskConfig.QUERY_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-2.5 flex w-full items-center justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t{$i18n.t('Autocomplete Generation')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Tooltip content={$i18n.t('Enable autocomplete generation for chat messages')}>\r\n\t\t\t\t\t\t<Switch bind:state={taskConfig.ENABLE_AUTOCOMPLETE_GENERATION} />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if taskConfig.ENABLE_AUTOCOMPLETE_GENERATION}\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Autocomplete Generation Input Max Length')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t('Character limit for autocomplete generation input')}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full outline-hidden bg-transparent\"\r\n\t\t\t\t\t\t\t\tbind:value={taskConfig.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('-1 for no limit, or a positive integer for a specific limit')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Image Prompt Generation Prompt')}</div>\r\n\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\tbind:value={taskConfig.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('Tools Function Calling Prompt')}</div>\r\n\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\tbind:value={taskConfig.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"mb-3.5\">\r\n\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('UI')}</div>\r\n\r\n\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t<div class=\"  {banners.length > 0 ? ' mb-3' : ''}\">\r\n\t\t\t\t\t<div class=\"mb-2.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t\t{$i18n.t('Banners')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tif (banners.length === 0 || banners.at(-1).content !== '') {\r\n\t\t\t\t\t\t\t\t\tbanners = [\r\n\t\t\t\t\t\t\t\t\t\t...banners,\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\t\t\t\t\t\t\ttype: '',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\t\tdismissible: true,\r\n\t\t\t\t\t\t\t\t\t\t\ttimestamp: Math.floor(Date.now() / 1000)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" flex flex-col space-y-1\">\r\n\t\t\t\t\t\t{#each banners as banner, bannerIdx}\r\n\t\t\t\t\t\t\t<div class=\" flex justify-between\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"flex flex-row flex-1 border rounded-xl border-gray-100 dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={banner.type}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{#if banner.type == ''}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled class=\"text-gray-900\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Type')}</option\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"info\" class=\"text-gray-900\">{$i18n.t('Info')}</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"warning\" class=\"text-gray-900\">{$i18n.t('Warning')}</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"error\" class=\"text-gray-900\">{$i18n.t('Error')}</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"success\" class=\"text-gray-900\">{$i18n.t('Success')}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"pr-5 py-1.5 text-xs w-full bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Content')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={banner.content}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"relative top-1.5 -left-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Dismissible')} className=\"flex h-fit items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch bind:state={banner.dismissible} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-2\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tbanners.splice(bannerIdx, 1);\r\n\t\t\t\t\t\t\t\t\t\tbanners = banners;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if $user.role === 'admin'}\r\n\t\t\t\t\t<div class=\" space-y-3\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Default Prompt Suggestions')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tif (promptSuggestions.length === 0 || promptSuggestions.at(-1).content !== '') {\r\n\t\t\t\t\t\t\t\t\t\tpromptSuggestions = [...promptSuggestions, { content: '', title: ['', ''] }];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"grid lg:grid-cols-2 flex-col gap-1.5\">\r\n\t\t\t\t\t\t\t{#each promptSuggestions as prompt, promptIdx}\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\" flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col flex-1 pl-1\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex border-b border-gray-100 dark:border-gray-850 w-full\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Title (e.g. Tell me a fun fact)')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={prompt.title[0]}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Subtitle (e.g. about the Roman Empire)')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={prompt.title[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850 resize-none\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'Prompt (e.g. Tell me a fun fact about the Roman Empire)'\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tpromptSuggestions.splice(promptIdx, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tpromptSuggestions = promptSuggestions;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if promptSuggestions.length > 0}\r\n\t\t\t\t\t\t\t<div class=\"text-xs text-left w-full mt-2\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Adjusting these settings will apply changes universally to all users.')}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex justify-end text-sm font-medium\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t>\r\n\t\t\t\t{$i18n.t('Save')}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n{/if}\r\n","<script lang=\"ts\">\r\n\timport Sortable from 'sortablejs';\r\n\r\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport { models } from '$lib/stores';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport EllipsisVertical from '$lib/components/icons/EllipsisVertical.svelte';\r\n\r\n\texport let modelIds = [];\r\n\r\n\tlet sortable = null;\r\n\tlet modelListElement = null;\r\n\r\n\tconst positionChangeHandler = () => {\r\n\t\tconst modelList = Array.from(modelListElement.children).map((child) =>\r\n\t\t\tchild.id.replace('model-item-', '')\r\n\t\t);\r\n\r\n\t\tmodelIds = modelList;\r\n\t};\r\n\r\n\tonMount(() => {\r\n\t\tsortable = Sortable.create(modelListElement, {\r\n\t\t\tanimation: 150,\r\n\t\t\tonUpdate: async (event) => {\r\n\t\t\t\tpositionChangeHandler();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n</script>\r\n\r\n{#if modelIds.length > 0}\r\n\t<div class=\"flex flex-col -translate-x-1\" bind:this={modelListElement}>\r\n\t\t{#each modelIds as modelId, modelIdx (modelId)}\r\n\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\" id=\"model-item-{modelId}\">\r\n\t\t\t\t<Tooltip content={modelId} placement=\"top-start\">\r\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\r\n\t\t\t\t\t\t<EllipsisVertical className=\"size-4 cursor-move\" />\r\n\r\n\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\r\n\t\t\t\t\t\t\t{#if $models.find((model) => model.id === modelId)}\r\n\t\t\t\t\t\t\t\t{$models.find((model) => model.id === modelId).name}\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t{modelId}\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t</div>\r\n{:else}\r\n\t<div class=\"text-gray-500 text-xs text-center py-2\">\r\n\t\t{$i18n.t('No models found')}\r\n\t</div>\r\n{/if}\r\n","<script>\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { models } from '$lib/stores';\r\n\timport { deleteAllModels } from '$lib/apis/models';\r\n\r\n\timport Modal from '$lib/components/common/Modal.svelte';\r\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport ModelList from './ModelList.svelte';\r\n\timport { getModelsConfig, setModelsConfig } from '$lib/apis/configs';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Minus from '$lib/components/icons/Minus.svelte';\r\n\timport Plus from '$lib/components/icons/Plus.svelte';\r\n\r\n\texport let show = false;\r\n\texport let initHandler = () => {};\r\n\r\n\tlet config = null;\r\n\r\n\tlet selectedModelId = '';\r\n\tlet defaultModelIds = [];\r\n\tlet modelIds = [];\r\n\r\n\tlet loading = false;\r\n\tlet showResetModal = false;\r\n\r\n\t$: if (show) {\r\n\t\tinit();\r\n\t}\r\n\r\n\t$: if (selectedModelId) {\r\n\t\tonModelSelect();\r\n\t}\r\n\r\n\tconst onModelSelect = () => {\r\n\t\tif (selectedModelId === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (defaultModelIds.includes(selectedModelId)) {\r\n\t\t\tselectedModelId = '';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdefaultModelIds = [...defaultModelIds, selectedModelId];\r\n\t\tselectedModelId = '';\r\n\t};\r\n\r\n\tconst init = async () => {\r\n\t\tconfig = await getModelsConfig(localStorage.token);\r\n\r\n\t\tif (config?.DEFAULT_MODELS) {\r\n\t\t\tdefaultModelIds = (config?.DEFAULT_MODELS).split(',').filter((id) => id);\r\n\t\t} else {\r\n\t\t\tdefaultModelIds = [];\r\n\t\t}\r\n\t\tconst modelOrderList = config.MODEL_ORDER_LIST || [];\r\n\t\tconst allModelIds = $models.map((model) => model.id);\r\n\r\n\t\t// Create a Set for quick lookup of ordered IDs\r\n\t\tconst orderedSet = new Set(modelOrderList);\r\n\r\n\t\tmodelIds = [\r\n\t\t\t// Add all IDs from MODEL_ORDER_LIST that exist in allModelIds\r\n\t\t\t...modelOrderList.filter((id) => orderedSet.has(id) && allModelIds.includes(id)),\r\n\t\t\t// Add remaining IDs not in MODEL_ORDER_LIST, sorted alphabetically\r\n\t\t\t...allModelIds.filter((id) => !orderedSet.has(id)).sort((a, b) => a.localeCompare(b))\r\n\t\t];\r\n\t};\r\n\tconst submitHandler = async () => {\r\n\t\tloading = true;\r\n\r\n\t\tconst res = await setModelsConfig(localStorage.token, {\r\n\t\t\tDEFAULT_MODELS: defaultModelIds.join(','),\r\n\t\t\tMODEL_ORDER_LIST: modelIds\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Models configuration saved successfully'));\r\n\t\t\tinitHandler();\r\n\t\t\tshow = false;\r\n\t\t} else {\r\n\t\t\ttoast.error($i18n.t('Failed to save models configuration'));\r\n\t\t}\r\n\r\n\t\tloading = false;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tinit();\r\n\t});\r\n</script>\r\n\r\n<ConfirmDialog\r\n\ttitle={$i18n.t('Reset All Models')}\r\n\tmessage={$i18n.t('This will delete all models including custom models and cannot be undone.')}\r\n\tbind:show={showResetModal}\r\n\tonConfirm={async () => {\r\n\t\tconst res = deleteAllModels(localStorage.token);\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('All models deleted successfully'));\r\n\t\t\tinitHandler();\r\n\t\t}\r\n\t}}\r\n/>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\r\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\r\n\t\t\t\t{$i18n.t('Settings')}\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\r\n\t\t\t\t{#if config}\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclass=\"flex flex-col w-full\"\r\n\t\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"mb-1 flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">{$i18n.t('Reorder Models')}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<ModelList bind:modelIds />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"mb-1 flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">{$i18n.t('Default Models')}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex items-center -mr-1\">\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full py-1 text-sm rounded-lg bg-transparent {selectedModelId\r\n\t\t\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t\t\t: 'text-gray-500'} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={selectedModelId}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t\t\t\t{#each $models as model}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{model.name}</option\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<!-- <hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" /> -->\r\n\r\n\t\t\t\t\t\t\t\t{#if defaultModelIds.length > 0}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t\t{#each defaultModelIds as modelId, modelIdx}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$models.find((model) => model.id === modelId)?.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultModelIds = defaultModelIds.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(_, idx) => idx !== modelIdx\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Minus strokeWidth=\"2\" className=\"size-3.5\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs text-center py-2\">\r\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('No models selected')}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex justify-between pt-3 text-sm font-medium gap-1.5\">\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('This will delete all models including custom models')}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowResetModal = true;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<!-- {$i18n.t('Delete All Models')} -->\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Reset All Models')}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\r\n\t\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Save')}\r\n\r\n\t\t\t\t\t\t\t\t{#if loading}\r\n\t\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport { WEBUI_NAME, models, MODEL_DOWNLOAD_POOL, user, config, settings } from '$lib/stores';\r\n\timport { splitStream } from '$lib/utils';\r\n\r\n\timport {\r\n\t\tcreateModel,\r\n\t\tdeleteModel,\r\n\t\tdownloadModel,\r\n\t\tgetOllamaUrls,\r\n\t\tgetOllamaVersion,\r\n\t\tpullModel,\r\n\t\tuploadModel,\r\n\t\tgetOllamaConfig,\r\n\t\tgetOllamaModels\r\n\t} from '$lib/apis/ollama';\r\n\timport { getModels } from '$lib/apis';\r\n\r\n\timport Modal from '$lib/components/common/Modal.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport ModelDeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\r\n\tlet modelUploadInputElement: HTMLInputElement;\r\n\tlet showModelDeleteConfirm = false;\r\n\r\n\tlet loading = true;\r\n\r\n\t// Models\r\n\texport let urlIdx: number | null = null;\r\n\r\n\tlet ollamaModels = [];\r\n\r\n\tlet updateModelId = null;\r\n\tlet updateProgress = null;\r\n\tlet showExperimentalOllama = false;\r\n\r\n\tconst MAX_PARALLEL_DOWNLOADS = 3;\r\n\r\n\tlet modelTransferring = false;\r\n\tlet modelTag = '';\r\n\r\n\tlet createModelLoading = false;\r\n\tlet createModelName = '';\r\n\tlet createModelObject = '';\r\n\r\n\tlet createModelDigest = '';\r\n\tlet createModelPullProgress = null;\r\n\r\n\tlet digest = '';\r\n\tlet pullProgress = null;\r\n\r\n\tlet modelUploadMode = 'file';\r\n\tlet modelInputFile: File[] | null = null;\r\n\tlet modelFileUrl = '';\r\n\tlet modelFileContent = `TEMPLATE \"\"\"{{ .System }}\\nUSER: {{ .Prompt }}\\nASSISTANT: \"\"\"\\nPARAMETER num_ctx 4096\\nPARAMETER stop \"</s>\"\\nPARAMETER stop \"USER:\"\\nPARAMETER stop \"ASSISTANT:\"`;\r\n\tlet modelFileDigest = '';\r\n\r\n\tlet uploadProgress = null;\r\n\tlet uploadMessage = '';\r\n\r\n\tlet deleteModelTag = '';\r\n\r\n\tconst updateModelsHandler = async () => {\r\n\t\tfor (const model of ollamaModels) {\r\n\t\t\tconsole.log(model);\r\n\r\n\t\t\tupdateModelId = model.id;\r\n\t\t\tconst [res, controller] = await pullModel(localStorage.token, model.id, urlIdx).catch(\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tconst reader = res.body\r\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t\t.getReader();\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\tupdateProgress = 0;\r\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateModelId = null;\r\n\t\tupdateProgress = null;\r\n\t};\r\n\r\n\tconst pullModelHandler = async () => {\r\n\t\tconst sanitizedModelTag = modelTag.trim().replace(/^ollama\\s+(run|pull)\\s+/, '');\r\n\t\tconsole.log($MODEL_DOWNLOAD_POOL);\r\n\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag]) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(`Model '{{modelTag}}' is already in queue for downloading.`, {\r\n\t\t\t\t\tmodelTag: sanitizedModelTag\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (Object.keys($MODEL_DOWNLOAD_POOL).length === MAX_PARALLEL_DOWNLOADS) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t('Maximum of 3 models can be downloaded simultaneously. Please try again later.')\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst [res, controller] = await pullModel(localStorage.token, sanitizedModelTag, urlIdx).catch(\r\n\t\t\t(error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tif (res) {\r\n\t\t\tconst reader = res.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\tabortController: controller,\r\n\t\t\t\t\treader,\r\n\t\t\t\t\tdone: false\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\tlet downloadProgress = 0;\r\n\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tdownloadProgress = 100;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\t\t\t\t\t\t\tpullProgress: downloadProgress,\r\n\t\t\t\t\t\t\t\t\t\t\tdigest: data.digest\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\r\n\t\t\t\t\t\t\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL,\r\n\t\t\t\t\t\t\t\t\t\t[sanitizedModelTag]: {\r\n\t\t\t\t\t\t\t\t\t\t\t...$MODEL_DOWNLOAD_POOL[sanitizedModelTag],\r\n\t\t\t\t\t\t\t\t\t\t\tdone: data.status === 'success'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\tif (typeof error !== 'string') {\r\n\t\t\t\t\t\terror = error.message;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t// opts.callback({ success: false, error, modelName: opts.modelName });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log($MODEL_DOWNLOAD_POOL[sanitizedModelTag]);\r\n\r\n\t\t\tif ($MODEL_DOWNLOAD_POOL[sanitizedModelTag].done) {\r\n\t\t\t\ttoast.success(\r\n\t\t\t\t\t$i18n.t(`Model '{{modelName}}' has been successfully downloaded.`, {\r\n\t\t\t\t\t\tmodelName: sanitizedModelTag\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t\tmodels.set(\r\n\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\ttoast.error($i18n.t('Download canceled'));\r\n\t\t\t}\r\n\r\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[sanitizedModelTag];\r\n\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tmodelTag = '';\r\n\t\tmodelTransferring = false;\r\n\t};\r\n\r\n\tconst uploadModelHandler = async () => {\r\n\t\tmodelTransferring = true;\r\n\r\n\t\tlet uploaded = false;\r\n\t\tlet fileResponse = null;\r\n\t\tlet name = '';\r\n\r\n\t\tif (modelUploadMode === 'file') {\r\n\t\t\tconst file = modelInputFile ? modelInputFile[0] : null;\r\n\r\n\t\t\tif (file) {\r\n\t\t\t\tuploadMessage = 'Uploading...';\r\n\r\n\t\t\t\tfileResponse = await uploadModel(localStorage.token, file, urlIdx).catch((error) => {\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tuploadProgress = 0;\r\n\t\t\tfileResponse = await downloadModel(localStorage.token, modelFileUrl, urlIdx).catch(\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (fileResponse && fileResponse.ok) {\r\n\t\t\tconst reader = fileResponse.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\tif (done) break;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line.replace(/^data: /, ''));\r\n\r\n\t\t\t\t\t\t\tif (data.progress) {\r\n\t\t\t\t\t\t\t\tif (uploadMessage) {\r\n\t\t\t\t\t\t\t\t\tuploadMessage = '';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuploadProgress = data.progress;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.done) {\r\n\t\t\t\t\t\t\t\tmodelFileDigest = data.blob;\r\n\t\t\t\t\t\t\t\tname = data.name;\r\n\t\t\t\t\t\t\t\tuploaded = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst error = await fileResponse?.json();\r\n\t\t\ttoast.error(error?.detail ?? error);\r\n\t\t}\r\n\r\n\t\tif (uploaded) {\r\n\t\t\tconst res = await createModel(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t`${name}:latest`,\r\n\t\t\t\t`FROM @${modelFileDigest}\\n${modelFileContent}`\r\n\t\t\t);\r\n\r\n\t\t\tif (res && res.ok) {\r\n\t\t\t\tconst reader = res.body\r\n\t\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t\t.getReader();\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\t\tif (done) break;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\t\tconsole.log(line);\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!data.digest &&\r\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\r\n\t\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\t\tdigest = data.digest;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = Math.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpullProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodelFileUrl = '';\r\n\r\n\t\tif (modelUploadInputElement) {\r\n\t\t\tmodelUploadInputElement.value = '';\r\n\t\t}\r\n\t\tmodelInputFile = null;\r\n\t\tmodelTransferring = false;\r\n\t\tuploadProgress = null;\r\n\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst deleteModelHandler = async () => {\r\n\t\tconst res = await deleteModel(localStorage.token, deleteModelTag, urlIdx).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t(`Deleted {{deleteModelTag}}`, { deleteModelTag }));\r\n\t\t}\r\n\r\n\t\tdeleteModelTag = '';\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst cancelModelPullHandler = async (model: string) => {\r\n\t\tconst { reader, abortController } = $MODEL_DOWNLOAD_POOL[model];\r\n\t\tif (abortController) {\r\n\t\t\tabortController.abort();\r\n\t\t}\r\n\t\tif (reader) {\r\n\t\t\tawait reader.cancel();\r\n\t\t\tdelete $MODEL_DOWNLOAD_POOL[model];\r\n\t\t\tMODEL_DOWNLOAD_POOL.set({\r\n\t\t\t\t...$MODEL_DOWNLOAD_POOL\r\n\t\t\t});\r\n\t\t\tawait deleteModel(localStorage.token, model);\r\n\t\t\ttoast.success(`${model} download has been canceled`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst createModelHandler = async () => {\r\n\t\tcreateModelLoading = true;\r\n\r\n\t\tlet modelObject = {};\r\n\t\t// parse createModelObject\r\n\t\ttry {\r\n\t\t\tmodelObject = JSON.parse(createModelObject);\r\n\t\t} catch (error) {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\tcreateModelLoading = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst res = await createModel(\r\n\t\t\tlocalStorage.token,\r\n\t\t\t{\r\n\t\t\t\tmodel: createModelName,\r\n\t\t\t\t...modelObject\r\n\t\t\t},\r\n\t\t\turlIdx\r\n\t\t).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res && res.ok) {\r\n\t\t\tconst reader = res.body\r\n\t\t\t\t.pipeThrough(new TextDecoderStream())\r\n\t\t\t\t.pipeThrough(splitStream('\\n'))\r\n\t\t\t\t.getReader();\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\tif (done) break;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet lines = value.split('\\n');\r\n\r\n\t\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\t\tif (line !== '') {\r\n\t\t\t\t\t\t\tconsole.log(line);\r\n\t\t\t\t\t\t\tlet data = JSON.parse(line);\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\t\t\tthrow data.error;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (data.detail) {\r\n\t\t\t\t\t\t\t\tthrow data.detail;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (data.status) {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t!data.digest &&\r\n\t\t\t\t\t\t\t\t\t!data.status.includes('writing') &&\r\n\t\t\t\t\t\t\t\t\t!data.status.includes('sha256')\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\ttoast.success(data.status);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (data.digest) {\r\n\t\t\t\t\t\t\t\t\t\tcreateModelDigest = data.digest;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (data.completed) {\r\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress =\r\n\t\t\t\t\t\t\t\t\t\t\t\tMath.round((data.completed / data.total) * 1000) / 10;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tcreateModelPullProgress = 100;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\tcreateModelLoading = false;\r\n\r\n\t\tcreateModelName = '';\r\n\t\tcreateModelObject = '';\r\n\t\tcreateModelDigest = '';\r\n\t\tcreateModelPullProgress = null;\r\n\t};\r\n\r\n\tconst init = async () => {\r\n\t\tloading = true;\r\n\t\tollamaModels = await getOllamaModels(localStorage.token, urlIdx).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (ollamaModels) {\r\n\t\t\tloading = false;\r\n\t\t}\r\n\t};\r\n\r\n\t$: if (urlIdx !== null) {\r\n\t\tinit();\r\n\t}\r\n</script>\r\n\r\n<ModelDeleteConfirmDialog\r\n\tbind:show={showModelDeleteConfirm}\r\n\ton:confirm={() => {\r\n\t\tdeleteModelHandler();\r\n\t}}\r\n/>\r\n\r\n{#if !loading}\r\n\t<div class=\" flex flex-col w-full\">\r\n\t\t<div>\r\n\t\t\t<div class=\"space-y-2\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium flex items-center gap-1.5\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{$i18n.t('Pull a model from Ollama.com')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Tooltip content=\"Update All Models\" placement=\"top\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"flex gap-2 items-center bg-transparent rounded-lg transition\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tupdateModelsHandler();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\r\n\t\t\t\t\t\t\t\t\tmodelTag: 'mistral:7b'\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tbind:value={modelTag}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tpullModelHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={modelTransferring}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if modelTransferring}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t{$i18n.t('To access the available model names for downloading,')}\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\thref=\"https://ollama.com/library\"\r\n\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if updateModelId}\r\n\t\t\t\t\t\t<div class=\"text-xs\">\r\n\t\t\t\t\t\t\tUpdating \"{updateModelId}\" {updateProgress ? `(${updateProgress}%)` : ''}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t{#if Object.keys($MODEL_DOWNLOAD_POOL).length > 0}\r\n\t\t\t\t\t\t{#each Object.keys($MODEL_DOWNLOAD_POOL) as model}\r\n\t\t\t\t\t\t\t{#if 'pullProgress' in $MODEL_DOWNLOAD_POOL[model]}\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{model}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t15,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].pullProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Cancel')}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"text-gray-800 dark:text-gray-100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcancelModelPullHandler(model);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-gray-800 dark:text-white\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M6 18 17.94 6M18 18 6.06 6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{#if 'digest' in $MODEL_DOWNLOAD_POOL[model]}\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$MODEL_DOWNLOAD_POOL[model].digest}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Delete a model')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"w-full py-2 px-4 text-sm outline-hidden bg-transparent\"\r\n\t\t\t\t\t\t\t\tbind:value={deleteModelTag}\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a model')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if !deleteModelTag}\r\n\t\t\t\t\t\t\t\t\t<option value=\"\" disabled selected>{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t{#each ollamaModels as model}\r\n\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t\t\t>{model.name + ' (' + (model.size / 1024 ** 3).toFixed(1) + ' GB)'}</option\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowModelDeleteConfirm = true;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Create a model')}</div>\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2 flex flex-col gap-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter model tag (e.g. {{modelTag}})', {\r\n\t\t\t\t\t\t\t\t\tmodelTag: 'my-modelfile'\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tbind:value={createModelName}\r\n\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tbind:value={createModelObject}\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden\"\r\n\t\t\t\t\t\t\t\trows=\"6\"\r\n\t\t\t\t\t\t\t\tplaceholder={`e.g. {\"model\": \"my-modelfile\", \"from\": \"ollama:7b\"})`}\r\n\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex self-start\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tcreateModelHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={createModelLoading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if createModelDigest !== ''}\r\n\t\t\t\t\t\t<div class=\"flex flex-col mt-1\">\r\n\t\t\t\t\t\t\t<div class=\"font-medium mb-1\">{createModelTag}</div>\r\n\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-row justify-between space-x-4 pr-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, createModelPullProgress ?? 0)}%\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{createModelPullProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{#if createModelDigest}\r\n\t\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t\t{createModelDigest}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"pt-1\">\r\n\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t<div class=\" text-sm font-medium\">{$i18n.t('Experimental')}</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" text-xs font-medium text-gray-500\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowExperimentalOllama = !showExperimentalOllama;\r\n\t\t\t\t\t\t\t}}>{showExperimentalOllama ? $i18n.t('Hide') : $i18n.t('Show')}</button\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if showExperimentalOllama}\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\t\tuploadModelHandler();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" mb-2 flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\"  text-sm font-medium\">{$i18n.t('Upload a GGUF model')}</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tif (modelUploadMode === 'file') {\r\n\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'url';\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tmodelUploadMode = 'file';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('File Mode')}</span>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('URL Mode')}</span>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full mb-1.5\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t{#if modelUploadMode === 'file'}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 {modelInputFile && modelInputFile.length > 0 ? 'mr-2' : ''}\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"model-upload-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:this={modelUploadInputElement}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:files={modelInputFile}\r\n\t\t\t\t\t\t\t\t\t\t\ton:change={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(modelInputFile);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\taccept=\".gguf,.safetensors\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmodelUploadInputElement.click();\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{#if modelInputFile && modelInputFile.length > 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{modelInputFile[0].name}\r\n\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select')}\r\n\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1 {modelFileUrl !== '' ? 'mr-2' : ''}\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden {modelFileUrl !==\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 'mr-2'\r\n\t\t\t\t\t\t\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={modelFileUrl}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Type Hugging Face Resolve (Download) URL')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition\"\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tdisabled={modelTransferring}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#if modelTransferring}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if (modelUploadMode === 'file' && modelInputFile && modelInputFile.length > 0) || (modelUploadMode === 'url' && modelFileUrl !== '')}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div class=\" my-2.5 text-sm font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Modelfile Content')}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\tbind:value={modelFileContent}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none\"\r\n\t\t\t\t\t\t\t\t\t\trows=\"6\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t<div class=\" mt-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('To access the GGUF models available for downloading,')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-500 dark:text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\thref=\"https://huggingface.co/models?search=gguf\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\">{$i18n.t('click here.')}</a\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if uploadMessage}\r\n\t\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{uploadMessage}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t{modelFileDigest}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if uploadProgress !== null}\r\n\t\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t\t<div class=\" mb-2 text-xs\">{$i18n.t('Upload Progress')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"w-full rounded-full dark:bg-gray-800\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full\"\r\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: {Math.max(15, uploadProgress ?? 0)}%\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{uploadProgress ?? 0}%\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mt-1 text-xs dark:text-gray-500\" style=\"font-size: 0.5rem;\">\r\n\t\t\t\t\t\t\t\t\t{modelFileDigest}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</form>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n{:else if ollamaModels === null}\r\n\t<div class=\"flex justify-center items-center w-full h-full text-xs py-3\">\r\n\t\t{$i18n.t('Failed to fetch models')}\r\n\t</div>\r\n{:else}\r\n\t<div class=\"flex justify-center items-center w-full h-full py-3\">\r\n\t\t<Spinner />\r\n\t</div>\r\n{/if}\r\n","<script>\r\n\timport { getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport ManageOllama from './ManageOllama.svelte';\r\n\r\n\texport let ollamaConfig = null;\r\n\r\n\tlet selectedUrlIdx = 0;\r\n</script>\r\n\r\n{#if ollamaConfig}\r\n\t<div class=\"flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850\">\r\n\t\t<select\r\n\t\t\tclass=\"w-full py-2 px-4 text-sm outline-hidden bg-transparent\"\r\n\t\t\tbind:value={selectedUrlIdx}\r\n\t\t\tplaceholder={$i18n.t('Select an Ollama instance')}\r\n\t\t>\r\n\t\t\t{#each ollamaConfig.OLLAMA_BASE_URLS as url, idx}\r\n\t\t\t\t<option value={idx}>{url}</option>\r\n\t\t\t{/each}\r\n\t\t</select>\r\n\t</div>\r\n\r\n\t<ManageOllama urlIdx={selectedUrlIdx} />\r\n{/if}\r\n","<script>\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { user } from '$lib/stores';\r\n\r\n\timport Modal from '$lib/components/common/Modal.svelte';\r\n\timport ManageOllama from './Manage/ManageOllama.svelte';\r\n\timport { getOllamaConfig } from '$lib/apis/ollama';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport ManageMultipleOllama from './Manage/ManageMultipleOllama.svelte';\r\n\r\n\texport let show = false;\r\n\r\n\tlet selected = null;\r\n\tlet ollamaConfig = null;\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tawait Promise.all([\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tollamaConfig = await getOllamaConfig(localStorage.token);\r\n\t\t\t\t})()\r\n\t\t\t]);\r\n\r\n\t\t\tif (ollamaConfig) {\r\n\t\t\t\tselected = 'ollama';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tselected = '';\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4\">\r\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\r\n\t\t\t\t{$i18n.t('Manage Models')}\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\r\n\t\t\t\t{#if selected === ''}\r\n\t\t\t\t\t<div class=\" py-5 text-gray-400 text-xs\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{$i18n.t('No inference engine with management support found')}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else if selected !== null}\r\n\t\t\t\t\t<div class=\" flex w-full flex-col\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"min-w-fit rounded-full p-1.5 {selected === 'ollama'\r\n\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tselected = 'ollama';\r\n\t\t\t\t\t\t\t\t}}>{$i18n.t('Ollama')}</button\r\n\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t<!-- <button\r\n\t\t\t\t\t\t\t\tclass=\"min-w-fit rounded-full p-1.5 {selected === 'llamacpp'\r\n\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tselected = 'llamacpp';\r\n\t\t\t\t\t\t\t\t}}>{$i18n.t('Llama.cpp')}</button\r\n\t\t\t\t\t\t\t> -->\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" px-1.5 py-1\">\r\n\t\t\t\t\t\t\t{#if selected === 'ollama'}\r\n\t\t\t\t\t\t\t\t<ManageMultipleOllama {ollamaConfig} />\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div class=\" py-5\">\r\n\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n","<script lang=\"ts\">\r\n\timport { marked } from 'marked';\r\n\timport fileSaver from 'file-saver';\r\n\tconst { saveAs } = fileSaver;\r\n\r\n\timport { onMount, getContext, tick } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport { WEBUI_NAME, config, mobile, models as _models, settings, user } from '$lib/stores';\r\n\timport {\r\n\t\tcreateNewModel,\r\n\t\tdeleteAllModels,\r\n\t\tgetBaseModels,\r\n\t\ttoggleModelById,\r\n\t\tupdateModelById\r\n\t} from '$lib/apis/models';\r\n\r\n\timport { getModels } from '$lib/apis';\r\n\timport Search from '$lib/components/icons/Search.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\r\n\timport ModelEditor from '$lib/components/workspace/Models/ModelEditor.svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\r\n\timport ConfigureModelsModal from './Models/ConfigureModelsModal.svelte';\r\n\timport Wrench from '$lib/components/icons/Wrench.svelte';\r\n\timport ArrowDownTray from '$lib/components/icons/ArrowDownTray.svelte';\r\n\timport ManageModelsModal from './Models/ManageModelsModal.svelte';\r\n\r\n\tlet importFiles;\r\n\tlet modelsImportInputElement: HTMLInputElement;\r\n\r\n\tlet models = null;\r\n\r\n\tlet workspaceModels = null;\r\n\tlet baseModels = null;\r\n\r\n\tlet filteredModels = [];\r\n\tlet selectedModelId = null;\r\n\r\n\tlet showConfigModal = false;\r\n\tlet showManageModal = false;\r\n\r\n\t$: if (models) {\r\n\t\tfilteredModels = models\r\n\t\t\t.filter((m) => searchValue === '' || m.name.toLowerCase().includes(searchValue.toLowerCase()))\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\t// // Check if either model is inactive and push them to the bottom\r\n\t\t\t\t// if ((a.is_active ?? true) !== (b.is_active ?? true)) {\r\n\t\t\t\t// \treturn (b.is_active ?? true) - (a.is_active ?? true);\r\n\t\t\t\t// }\r\n\t\t\t\t// If both models' active states are the same, sort alphabetically\r\n\t\t\t\treturn a.name.localeCompare(b.name);\r\n\t\t\t});\r\n\t}\r\n\r\n\tlet searchValue = '';\r\n\r\n\tconst downloadModels = async (models) => {\r\n\t\tlet blob = new Blob([JSON.stringify(models)], {\r\n\t\t\ttype: 'application/json'\r\n\t\t});\r\n\t\tsaveAs(blob, `models-export-${Date.now()}.json`);\r\n\t};\r\n\r\n\tconst init = async () => {\r\n\t\tworkspaceModels = await getBaseModels(localStorage.token);\r\n\t\tbaseModels = await getModels(localStorage.token, null, true);\r\n\r\n\t\tmodels = baseModels.map((m) => {\r\n\t\t\tconst workspaceModel = workspaceModels.find((wm) => wm.id === m.id);\r\n\r\n\t\t\tif (workspaceModel) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...m,\r\n\t\t\t\t\t...workspaceModel\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...m,\r\n\t\t\t\t\tid: m.id,\r\n\t\t\t\t\tname: m.name,\r\n\r\n\t\t\t\t\tis_active: true\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst upsertModelHandler = async (model) => {\r\n\t\tmodel.base_model_id = null;\r\n\r\n\t\tif (workspaceModels.find((m) => m.id === model.id)) {\r\n\t\t\tconst res = await updateModelById(localStorage.token, model.id, model).catch((error) => {\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Model updated successfully'));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst res = await createNewModel(localStorage.token, model).catch((error) => {\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Model updated successfully'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_models.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t\tawait init();\r\n\t};\r\n\r\n\tconst toggleModelHandler = async (model) => {\r\n\t\tif (!Object.keys(model).includes('base_model_id')) {\r\n\t\t\tawait createNewModel(localStorage.token, {\r\n\t\t\t\tid: model.id,\r\n\t\t\t\tname: model.name,\r\n\t\t\t\tbase_model_id: null,\r\n\t\t\t\tmeta: {},\r\n\t\t\t\tparams: {},\r\n\t\t\t\taccess_control: {},\r\n\t\t\t\tis_active: model.is_active\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait toggleModelById(localStorage.token, model.id);\r\n\t\t}\r\n\r\n\t\t// await init();\r\n\t\t_models.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tinit();\r\n\t});\r\n</script>\r\n\r\n<ConfigureModelsModal bind:show={showConfigModal} initHandler={init} />\r\n<ManageModelsModal bind:show={showManageModal} />\r\n\r\n{#if models !== null}\r\n\t{#if selectedModelId === null}\r\n\t\t<div class=\"flex flex-col gap-1 mt-1.5 mb-2\">\r\n\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t<div class=\"flex items-center md:self-center text-xl font-medium px-0.5\">\r\n\t\t\t\t\t{$i18n.t('Models')}\r\n\t\t\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\r\n\t\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\r\n\t\t\t\t\t\t>{filteredModels.length}</span\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"flex items-center gap-1.5\">\r\n\t\t\t\t\t<Tooltip content={$i18n.t('Manage Models')}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" p-1 rounded-full flex gap-1 items-center\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowManageModal = true;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArrowDownTray />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\r\n\t\t\t\t\t<Tooltip content={$i18n.t('Settings')}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" p-1 rounded-full flex gap-1 items-center\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tshowConfigModal = true;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Cog6 />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\" flex flex-1 items-center w-full space-x-2\">\r\n\t\t\t\t<div class=\"flex flex-1 items-center\">\r\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t\t\t\t<Search className=\"size-3.5\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\" w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent\"\r\n\t\t\t\t\t\tbind:value={searchValue}\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Models')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\" my-2 mb-5\" id=\"model-list\">\r\n\t\t\t{#if models.length > 0}\r\n\t\t\t\t{#each filteredModels as model, modelIdx (model.id)}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition\"\r\n\t\t\t\t\t\tid=\"model-item-{model.id}\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" flex flex-1 text-left space-x-3.5 cursor-pointer w-full\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tselectedModelId = model.id;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\" self-center w-8\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\" rounded-full object-cover {(model?.is_active ?? true)\r\n\t\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t\t: 'opacity-50 dark:opacity-50'} \"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={model?.meta?.profile_image_url ?? '/static/favicon.png'}\r\n\t\t\t\t\t\t\t\t\t\talt=\"modelfile profile\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\" rounded-full w-full h-auto object-cover\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\" flex-1 self-center {(model?.is_active ?? true) ? '' : 'text-gray-500'}\">\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tcontent={marked.parse(\r\n\t\t\t\t\t\t\t\t\t\t!!model?.meta?.description\r\n\t\t\t\t\t\t\t\t\t\t\t? model?.meta?.description\r\n\t\t\t\t\t\t\t\t\t\t\t: model?.ollama?.digest\r\n\t\t\t\t\t\t\t\t\t\t\t\t? `${model?.ollama?.digest} **(${model?.ollama?.modified_at})**`\r\n\t\t\t\t\t\t\t\t\t\t\t\t: model.id\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\tclassName=\" w-fit\"\r\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"  font-semibold line-clamp-1\">{model.name}</div>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500\">\r\n\t\t\t\t\t\t\t\t\t<span class=\" line-clamp-1\">\r\n\t\t\t\t\t\t\t\t\t\t{!!model?.meta?.description\r\n\t\t\t\t\t\t\t\t\t\t\t? model?.meta?.description\r\n\t\t\t\t\t\t\t\t\t\t\t: model?.ollama?.digest\r\n\t\t\t\t\t\t\t\t\t\t\t\t? `${model.id} (${model?.ollama?.digest})`\r\n\t\t\t\t\t\t\t\t\t\t\t\t: model.id}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div class=\"flex flex-row gap-0.5 items-center self-center\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tselectedModelId = model.id;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<div class=\"ml-1\">\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tcontent={(model?.is_active ?? true) ? $i18n.t('Enabled') : $i18n.t('Disabled')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tbind:state={model.is_active}\r\n\t\t\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleModelHandler(model);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t{:else}\r\n\t\t\t\t<div class=\"flex flex-col items-center justify-center w-full h-20\">\r\n\t\t\t\t\t<div class=\"text-gray-500 dark:text-gray-400 text-xs\">\r\n\t\t\t\t\t\t{$i18n.t('No models found')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t{#if $user?.role === 'admin'}\r\n\t\t\t<div class=\" flex justify-end w-full mb-3\">\r\n\t\t\t\t<div class=\"flex space-x-1\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tid=\"models-import-input\"\r\n\t\t\t\t\t\tbind:this={modelsImportInputElement}\r\n\t\t\t\t\t\tbind:files={importFiles}\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\".json\"\r\n\t\t\t\t\t\thidden\r\n\t\t\t\t\t\ton:change={() => {\r\n\t\t\t\t\t\t\tconsole.log(importFiles);\r\n\r\n\t\t\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\t\t\treader.onload = async (event) => {\r\n\t\t\t\t\t\t\t\tlet savedModels = JSON.parse(event.target.result);\r\n\t\t\t\t\t\t\t\tconsole.log(savedModels);\r\n\r\n\t\t\t\t\t\t\t\tfor (const model of savedModels) {\r\n\t\t\t\t\t\t\t\t\tif (Object.keys(model).includes('base_model_id')) {\r\n\t\t\t\t\t\t\t\t\t\tif (model.base_model_id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\tupsertModelHandler(model);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (model?.info ?? false) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (model.info.base_model_id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tupsertModelHandler(model.info);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tawait _models.set(\r\n\t\t\t\t\t\t\t\t\tawait getModels(\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t\t\t\t\t\t$config?.features?.enable_direct_connections &&\r\n\t\t\t\t\t\t\t\t\t\t\t($settings?.directConnections ?? null)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tinit();\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\treader.readAsText(importFiles[0]);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tmodelsImportInputElement.click();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('Import Presets')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\r\n\t\t\t\t\t\ton:click={async () => {\r\n\t\t\t\t\t\t\tdownloadModels(models);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('Export Presets')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" self-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t{:else}\r\n\t\t<ModelEditor\r\n\t\t\tedit\r\n\t\t\tmodel={models.find((m) => m.id === selectedModelId)}\r\n\t\t\tpreset={false}\r\n\t\t\tonSubmit={(model) => {\r\n\t\t\t\tconsole.log(model);\r\n\t\t\t\tupsertModelHandler(model);\r\n\t\t\t\tselectedModelId = null;\r\n\t\t\t}}\r\n\t\t\tonBack={() => {\r\n\t\t\t\tselectedModelId = null;\r\n\t\t\t}}\r\n\t\t/>\r\n\t{/if}\r\n{:else}\r\n\t<div class=\" h-full w-full flex justify-center items-center\">\r\n\t\t<Spinner />\r\n\t</div>\r\n{/if}\r\n","<script lang=\"ts\">\r\n\timport { getContext, tick } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\r\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\r\n\r\n\timport { connect } from 'socket.io-client';\r\n\r\n\texport let onDelete = () => {};\r\n\texport let onSubmit = () => {};\r\n\r\n\texport let pipeline = false;\r\n\r\n\texport let url = '';\r\n\texport let key = '';\r\n\texport let config = {};\r\n\r\n\tlet showConfigModal = false;\r\n</script>\r\n\r\n<AddConnectionModal\r\n\tedit\r\n\tbind:show={showConfigModal}\r\n\tconnection={{\r\n\t\turl,\r\n\t\tkey,\r\n\t\tconfig\r\n\t}}\r\n\t{onDelete}\r\n\tonSubmit={(connection) => {\r\n\t\turl = connection.url;\r\n\t\tkey = connection.key;\r\n\t\tconfig = connection.config;\r\n\t\tonSubmit(connection);\r\n\t}}\r\n/>\r\n\r\n<div class=\"flex w-full gap-2 items-center\">\r\n\t<Tooltip\r\n\t\tclassName=\"w-full relative\"\r\n\t\tcontent={$i18n.t(`WebUI will make requests to \"{{url}}/chat/completions\"`, {\r\n\t\t\turl\r\n\t\t})}\r\n\t\tplacement=\"top-start\"\r\n\t>\r\n\t\t{#if !(config?.enable ?? true)}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10\"\r\n\t\t\t></div>\r\n\t\t{/if}\r\n\t\t<div class=\"flex w-full\">\r\n\t\t\t<div class=\"flex-1 relative\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\" outline-hidden w-full bg-transparent {pipeline ? 'pr-8' : ''}\"\r\n\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\tbind:value={url}\r\n\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{#if pipeline}\r\n\t\t\t\t\t<div class=\" absolute top-0.5 right-2.5\">\r\n\t\t\t\t\t\t<Tooltip content=\"Pipelines\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<SensitiveInput\r\n\t\t\t\tinputClassName=\" outline-hidden bg-transparent w-full\"\r\n\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\tbind:value={key}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</Tooltip>\r\n\r\n\t<div class=\"flex gap-1\">\r\n\t\t<Tooltip content={$i18n.t('Configure')} className=\"self-start\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowConfigModal = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<Cog6 />\r\n\t\t\t</button>\r\n\t\t</Tooltip>\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport Modal from '$lib/components/common/Modal.svelte';\r\n\timport ManageOllama from '../Models/Manage/ManageOllama.svelte';\r\n\r\n\texport let show = false;\r\n\texport let urlIdx: number | null = null;\r\n</script>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"flex w-full justify-between items-center text-lg font-medium self-center font-primary\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" shrink-0\">\r\n\t\t\t\t\t{$i18n.t('Manage Ollama')}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<ManageOllama {urlIdx} />\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n","<script lang=\"ts\">\r\n\timport { getContext, tick } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\r\n\r\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\r\n\timport Wrench from '$lib/components/icons/Wrench.svelte';\r\n\timport ManageOllamaModal from './ManageOllamaModal.svelte';\r\n\timport ArrowDownTray from '$lib/components/icons/ArrowDownTray.svelte';\r\n\r\n\texport let onDelete = () => {};\r\n\texport let onSubmit = () => {};\r\n\r\n\texport let url = '';\r\n\texport let idx = 0;\r\n\texport let config = {};\r\n\r\n\tlet showManageModal = false;\r\n\tlet showConfigModal = false;\r\n</script>\r\n\r\n<AddConnectionModal\r\n\tollama\r\n\tedit\r\n\tbind:show={showConfigModal}\r\n\tconnection={{\r\n\t\turl,\r\n\t\tkey: config?.key ?? '',\r\n\t\tconfig: config\r\n\t}}\r\n\t{onDelete}\r\n\tonSubmit={(connection) => {\r\n\t\turl = connection.url;\r\n\t\tconfig = { ...connection.config, key: connection.key };\r\n\t\tonSubmit(connection);\r\n\t}}\r\n/>\r\n\r\n<ManageOllamaModal bind:show={showManageModal} urlIdx={idx} />\r\n\r\n<div class=\"flex gap-1.5\">\r\n\t<Tooltip\r\n\t\tclassName=\"w-full relative\"\r\n\t\tcontent={$i18n.t(`WebUI will make requests to \"{{url}}/api/chat\"`, {\r\n\t\t\turl\r\n\t\t})}\r\n\t\tplacement=\"top-start\"\r\n\t>\r\n\t\t{#if !(config?.enable ?? true)}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10\"\r\n\t\t\t></div>\r\n\t\t{/if}\r\n\r\n\t\t<input\r\n\t\t\tclass=\"w-full text-sm bg-transparent outline-hidden\"\r\n\t\t\tplaceholder={$i18n.t('Enter URL (e.g. http://localhost:11434)')}\r\n\t\t\tbind:value={url}\r\n\t\t/>\r\n\t</Tooltip>\r\n\r\n\t<div class=\"flex gap-1\">\r\n\t\t<Tooltip content={$i18n.t('Manage')} className=\"self-start\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowManageModal = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<ArrowDownTray />\r\n\t\t\t</button>\r\n\t\t</Tooltip>\r\n\r\n\t\t<Tooltip content={$i18n.t('Configure')} className=\"self-start\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowConfigModal = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<Cog6 />\r\n\t\t\t</button>\r\n\t\t</Tooltip>\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport { getOllamaConfig, updateOllamaConfig } from '$lib/apis/ollama';\r\n\timport { getOpenAIConfig, updateOpenAIConfig, getOpenAIModels } from '$lib/apis/openai';\r\n\timport { getModels as _getModels } from '$lib/apis';\r\n\timport { getDirectConnectionsConfig, setDirectConnectionsConfig } from '$lib/apis/configs';\r\n\r\n\timport { config, models, settings, user } from '$lib/stores';\r\n\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Plus from '$lib/components/icons/Plus.svelte';\r\n\r\n\timport OpenAIConnection from './Connections/OpenAIConnection.svelte';\r\n\timport AddConnectionModal from '$lib/components/AddConnectionModal.svelte';\r\n\timport OllamaConnection from './Connections/OllamaConnection.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tconst getModels = async () => {\r\n\t\tconst models = await _getModels(\r\n\t\t\tlocalStorage.token,\r\n\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t);\r\n\t\treturn models;\r\n\t};\r\n\r\n\t// External\r\n\tlet OLLAMA_BASE_URLS = [''];\r\n\tlet OLLAMA_API_CONFIGS = {};\r\n\r\n\tlet OPENAI_API_KEYS = [''];\r\n\tlet OPENAI_API_BASE_URLS = [''];\r\n\tlet OPENAI_API_CONFIGS = {};\r\n\r\n\tlet ENABLE_OPENAI_API: null | boolean = null;\r\n\tlet ENABLE_OLLAMA_API: null | boolean = null;\r\n\r\n\tlet directConnectionsConfig = null;\r\n\r\n\tlet pipelineUrls = {};\r\n\tlet showAddOpenAIConnectionModal = false;\r\n\tlet showAddOllamaConnectionModal = false;\r\n\r\n\tconst updateOpenAIHandler = async () => {\r\n\t\tif (ENABLE_OPENAI_API !== null) {\r\n\t\t\t// Remove trailing slashes\r\n\t\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\r\n\r\n\t\t\t// Check if API KEYS length is same than API URLS length\r\n\t\t\tif (OPENAI_API_KEYS.length !== OPENAI_API_BASE_URLS.length) {\r\n\t\t\t\t// if there are more keys than urls, remove the extra keys\r\n\t\t\t\tif (OPENAI_API_KEYS.length > OPENAI_API_BASE_URLS.length) {\r\n\t\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.slice(0, OPENAI_API_BASE_URLS.length);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if there are more urls than keys, add empty keys\r\n\t\t\t\tif (OPENAI_API_KEYS.length < OPENAI_API_BASE_URLS.length) {\r\n\t\t\t\t\tconst diff = OPENAI_API_BASE_URLS.length - OPENAI_API_KEYS.length;\r\n\t\t\t\t\tfor (let i = 0; i < diff; i++) {\r\n\t\t\t\t\t\tOPENAI_API_KEYS.push('');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst res = await updateOpenAIConfig(localStorage.token, {\r\n\t\t\t\tENABLE_OPENAI_API: ENABLE_OPENAI_API,\r\n\t\t\t\tOPENAI_API_BASE_URLS: OPENAI_API_BASE_URLS,\r\n\t\t\t\tOPENAI_API_KEYS: OPENAI_API_KEYS,\r\n\t\t\t\tOPENAI_API_CONFIGS: OPENAI_API_CONFIGS\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('OpenAI API settings updated'));\r\n\t\t\t\tawait models.set(await getModels());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateOllamaHandler = async () => {\r\n\t\tif (ENABLE_OLLAMA_API !== null) {\r\n\t\t\t// Remove trailing slashes\r\n\t\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.map((url) => url.replace(/\\/$/, ''));\r\n\r\n\t\t\tconst res = await updateOllamaConfig(localStorage.token, {\r\n\t\t\t\tENABLE_OLLAMA_API: ENABLE_OLLAMA_API,\r\n\t\t\t\tOLLAMA_BASE_URLS: OLLAMA_BASE_URLS,\r\n\t\t\t\tOLLAMA_API_CONFIGS: OLLAMA_API_CONFIGS\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\ttoast.success($i18n.t('Ollama API settings updated'));\r\n\t\t\t\tawait models.set(await getModels());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateDirectConnectionsHandler = async () => {\r\n\t\tconst res = await setDirectConnectionsConfig(localStorage.token, directConnectionsConfig).catch(\r\n\t\t\t(error) => {\r\n\t\t\t\ttoast.error(`${error}`);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Direct Connections settings updated'));\r\n\t\t\tawait models.set(await getModels());\r\n\t\t}\r\n\t};\r\n\r\n\tconst addOpenAIConnectionHandler = async (connection) => {\r\n\t\tOPENAI_API_BASE_URLS = [...OPENAI_API_BASE_URLS, connection.url];\r\n\t\tOPENAI_API_KEYS = [...OPENAI_API_KEYS, connection.key];\r\n\t\tOPENAI_API_CONFIGS[OPENAI_API_BASE_URLS.length - 1] = connection.config;\r\n\r\n\t\tawait updateOpenAIHandler();\r\n\t};\r\n\r\n\tconst addOllamaConnectionHandler = async (connection) => {\r\n\t\tOLLAMA_BASE_URLS = [...OLLAMA_BASE_URLS, connection.url];\r\n\t\tOLLAMA_API_CONFIGS[OLLAMA_BASE_URLS.length - 1] = {\r\n\t\t\t...connection.config,\r\n\t\t\tkey: connection.key\r\n\t\t};\r\n\r\n\t\tawait updateOllamaHandler();\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tlet ollamaConfig = {};\r\n\t\t\tlet openaiConfig = {};\r\n\r\n\t\t\tawait Promise.all([\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tollamaConfig = await getOllamaConfig(localStorage.token);\r\n\t\t\t\t})(),\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\topenaiConfig = await getOpenAIConfig(localStorage.token);\r\n\t\t\t\t})(),\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tdirectConnectionsConfig = await getDirectConnectionsConfig(localStorage.token);\r\n\t\t\t\t})()\r\n\t\t\t]);\r\n\r\n\t\t\tENABLE_OPENAI_API = openaiConfig.ENABLE_OPENAI_API;\r\n\t\t\tENABLE_OLLAMA_API = ollamaConfig.ENABLE_OLLAMA_API;\r\n\r\n\t\t\tOPENAI_API_BASE_URLS = openaiConfig.OPENAI_API_BASE_URLS;\r\n\t\t\tOPENAI_API_KEYS = openaiConfig.OPENAI_API_KEYS;\r\n\t\t\tOPENAI_API_CONFIGS = openaiConfig.OPENAI_API_CONFIGS;\r\n\r\n\t\t\tOLLAMA_BASE_URLS = ollamaConfig.OLLAMA_BASE_URLS;\r\n\t\t\tOLLAMA_API_CONFIGS = ollamaConfig.OLLAMA_API_CONFIGS;\r\n\r\n\t\t\tif (ENABLE_OPENAI_API) {\r\n\t\t\t\t// get url and idx\r\n\t\t\t\tfor (const [idx, url] of OPENAI_API_BASE_URLS.entries()) {\r\n\t\t\t\t\tif (!OPENAI_API_CONFIGS[idx]) {\r\n\t\t\t\t\t\t// Legacy support, url as key\r\n\t\t\t\t\t\tOPENAI_API_CONFIGS[idx] = OPENAI_API_CONFIGS[url] || {};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tOPENAI_API_BASE_URLS.forEach(async (url, idx) => {\r\n\t\t\t\t\tOPENAI_API_CONFIGS[idx] = OPENAI_API_CONFIGS[idx] || {};\r\n\t\t\t\t\tif (!(OPENAI_API_CONFIGS[idx]?.enable ?? true)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst res = await getOpenAIModels(localStorage.token, idx);\r\n\t\t\t\t\tif (res.pipelines) {\r\n\t\t\t\t\t\tpipelineUrls[url] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (ENABLE_OLLAMA_API) {\r\n\t\t\t\tfor (const [idx, url] of OLLAMA_BASE_URLS.entries()) {\r\n\t\t\t\t\tif (!OLLAMA_API_CONFIGS[idx]) {\r\n\t\t\t\t\t\tOLLAMA_API_CONFIGS[idx] = OLLAMA_API_CONFIGS[url] || {};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tupdateOpenAIHandler();\r\n\t\tupdateOllamaHandler();\r\n\t\tupdateDirectConnectionsHandler();\r\n\r\n\t\tdispatch('save');\r\n\t};\r\n</script>\r\n\r\n<AddConnectionModal\r\n\tbind:show={showAddOpenAIConnectionModal}\r\n\tonSubmit={addOpenAIConnectionHandler}\r\n/>\r\n\r\n<AddConnectionModal\r\n\tollama\r\n\tbind:show={showAddOllamaConnectionModal}\r\n\tonSubmit={addOllamaConnectionHandler}\r\n/>\r\n\r\n<form class=\"flex flex-col h-full justify-between text-sm\" on:submit|preventDefault={submitHandler}>\r\n\t<div class=\" overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if ENABLE_OPENAI_API !== null && ENABLE_OLLAMA_API !== null && directConnectionsConfig !== null}\r\n\t\t\t<div class=\"my-2\">\r\n\t\t\t\t<div class=\"mt-2 space-y-2 pr-1.5\">\r\n\t\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('OpenAI API')}</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tbind:state={ENABLE_OPENAI_API}\r\n\t\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\t\tupdateOpenAIHandler();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if ENABLE_OPENAI_API}\r\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\"font-medium\">{$i18n.t('Manage OpenAI API Connections')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t(`Add Connection`)}>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowAddOpenAIConnectionModal = true;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Plus />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col gap-1.5 mt-1.5\">\r\n\t\t\t\t\t\t\t\t{#each OPENAI_API_BASE_URLS as url, idx}\r\n\t\t\t\t\t\t\t\t\t<OpenAIConnection\r\n\t\t\t\t\t\t\t\t\t\tpipeline={pipelineUrls[url] ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tbind:url\r\n\t\t\t\t\t\t\t\t\t\tbind:key={OPENAI_API_KEYS[idx]}\r\n\t\t\t\t\t\t\t\t\t\tbind:config={OPENAI_API_CONFIGS[idx]}\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateOpenAIHandler();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS = OPENAI_API_BASE_URLS.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(url, urlIdx) => idx !== urlIdx\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_KEYS = OPENAI_API_KEYS.filter((key, keyIdx) => idx !== keyIdx);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tlet newConfig = {};\r\n\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_BASE_URLS.forEach((url, newIdx) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewConfig[newIdx] = OPENAI_API_CONFIGS[newIdx < idx ? newIdx : newIdx + 1];\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tOPENAI_API_CONFIGS = newConfig;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t<div class=\"pr-1.5 my-2\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-sm mb-2\">\r\n\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Ollama API')}</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-1\">\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tbind:state={ENABLE_OLLAMA_API}\r\n\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\tupdateOllamaHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if ENABLE_OLLAMA_API}\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<div class=\"flex justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"font-medium\">{$i18n.t('Manage Ollama API Connections')}</div>\r\n\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t(`Add Connection`)}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"px-1\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowAddOllamaConnectionModal = true;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Plus />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full gap-1.5\">\r\n\t\t\t\t\t\t\t<div class=\"flex-1 flex flex-col gap-1.5 mt-1.5\">\r\n\t\t\t\t\t\t\t\t{#each OLLAMA_BASE_URLS as url, idx}\r\n\t\t\t\t\t\t\t\t\t<OllamaConnection\r\n\t\t\t\t\t\t\t\t\t\tbind:url\r\n\t\t\t\t\t\t\t\t\t\tbind:config={OLLAMA_API_CONFIGS[idx]}\r\n\t\t\t\t\t\t\t\t\t\t{idx}\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tupdateOllamaHandler();\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonDelete={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS = OLLAMA_BASE_URLS.filter((url, urlIdx) => idx !== urlIdx);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tlet newConfig = {};\r\n\t\t\t\t\t\t\t\t\t\t\tOLLAMA_BASE_URLS.forEach((url, newIdx) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewConfig[newIdx] = OLLAMA_API_CONFIGS[newIdx < idx ? newIdx : newIdx + 1];\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tOLLAMA_API_CONFIGS = newConfig;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t\t\t{$i18n.t('Trouble accessing Ollama?')}\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclass=\" text-gray-300 font-medium underline\"\r\n\t\t\t\t\t\t\t\thref=\"https://github.com/open-webui/open-webui#troubleshooting\"\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Click here for help.')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t\t<div class=\"pr-1.5 my-2\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-sm\">\r\n\t\t\t\t\t<div class=\"  font-medium\">{$i18n.t('Direct Connections')}</div>\r\n\r\n\t\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tbind:state={directConnectionsConfig.ENABLE_DIRECT_CONNECTIONS}\r\n\t\t\t\t\t\t\t\ton:change={async () => {\r\n\t\t\t\t\t\t\t\t\tupdateDirectConnectionsHandler();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t<div class=\"text-xs text-gray-500\">\r\n\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t'Direct Connections allow users to connect to their own OpenAI compatible API endpoints.'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex h-full justify-center\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { onMount, getContext, createEventDispatcher } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport {\r\n\t\tgetQuerySettings,\r\n\t\tupdateQuerySettings,\r\n\t\tresetVectorDB,\r\n\t\tgetEmbeddingConfig,\r\n\t\tupdateEmbeddingConfig,\r\n\t\tgetRerankingConfig,\r\n\t\tupdateRerankingConfig,\r\n\t\tresetUploadDir,\r\n\t\tgetRAGConfig,\r\n\t\tupdateRAGConfig\r\n\t} from '$lib/apis/retrieval';\r\n\r\n\timport { knowledge, models } from '$lib/stores';\r\n\timport { getKnowledgeBases } from '$lib/apis/knowledge';\r\n\timport { uploadDir, deleteAllFiles, deleteFileById } from '$lib/apis/files';\r\n\r\n\timport ResetUploadDirConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport ResetVectorDBConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Textarea from '$lib/components/common/Textarea.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet scanDirLoading = false;\r\n\tlet updateEmbeddingModelLoading = false;\r\n\tlet updateRerankingModelLoading = false;\r\n\r\n\tlet showResetConfirm = false;\r\n\tlet showResetUploadDirConfirm = false;\r\n\r\n\tlet embeddingEngine = '';\r\n\tlet embeddingModel = '';\r\n\tlet embeddingBatchSize = 1;\r\n\tlet rerankingModel = '';\r\n\r\n\tlet fileMaxSize = null;\r\n\tlet fileMaxCount = null;\r\n\r\n\tlet contentExtractionEngine = 'default';\r\n\tlet tikaServerUrl = '';\r\n\tlet showTikaServerUrl = false;\r\n\r\n\tlet textSplitter = '';\r\n\tlet chunkSize = 0;\r\n\tlet chunkOverlap = 0;\r\n\tlet pdfExtractImages = true;\r\n\r\n\tlet RAG_FULL_CONTEXT = false;\r\n\r\n\tlet enableGoogleDriveIntegration = false;\r\n\r\n\tlet OpenAIUrl = '';\r\n\tlet OpenAIKey = '';\r\n\r\n\tlet OllamaUrl = '';\r\n\tlet OllamaKey = '';\r\n\r\n\tlet querySettings = {\r\n\t\ttemplate: '',\r\n\t\tr: 0.0,\r\n\t\tk: 4,\r\n\t\thybrid: false\r\n\t};\r\n\r\n\tconst embeddingModelUpdateHandler = async () => {\r\n\t\tif (embeddingEngine === '' && embeddingModel.split('/').length - 1 > 1) {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (embeddingEngine === 'ollama' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (embeddingEngine === 'openai' && embeddingModel === '') {\r\n\t\t\ttoast.error(\r\n\t\t\t\t$i18n.t(\r\n\t\t\t\t\t'Model filesystem path detected. Model shortname is required for update, cannot continue.'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ((embeddingEngine === 'openai' && OpenAIKey === '') || OpenAIUrl === '') {\r\n\t\t\ttoast.error($i18n.t('OpenAI URL/Key required.'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconsole.log('Update embedding model attempt:', embeddingModel);\r\n\r\n\t\tupdateEmbeddingModelLoading = true;\r\n\t\tconst res = await updateEmbeddingConfig(localStorage.token, {\r\n\t\t\tembedding_engine: embeddingEngine,\r\n\t\t\tembedding_model: embeddingModel,\r\n\t\t\tembedding_batch_size: embeddingBatchSize,\r\n\t\t\tollama_config: {\r\n\t\t\t\tkey: OllamaKey,\r\n\t\t\t\turl: OllamaUrl\r\n\t\t\t},\r\n\t\t\topenai_config: {\r\n\t\t\t\tkey: OpenAIKey,\r\n\t\t\t\turl: OpenAIUrl\r\n\t\t\t}\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\tawait setEmbeddingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateEmbeddingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('embeddingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\ttoast.success($i18n.t('Embedding model set to \"{{embedding_model}}\"', res), {\r\n\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst rerankingModelUpdateHandler = async () => {\r\n\t\tconsole.log('Update reranking model attempt:', rerankingModel);\r\n\r\n\t\tupdateRerankingModelLoading = true;\r\n\t\tconst res = await updateRerankingConfig(localStorage.token, {\r\n\t\t\treranking_model: rerankingModel\r\n\t\t}).catch(async (error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\tawait setRerankingConfig();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tupdateRerankingModelLoading = false;\r\n\r\n\t\tif (res) {\r\n\t\t\tconsole.log('rerankingModelUpdateHandler:', res);\r\n\t\t\tif (res.status === true) {\r\n\t\t\t\tif (rerankingModel === '') {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model disabled', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttoast.success($i18n.t('Reranking model set to \"{{reranking_model}}\"', res), {\r\n\t\t\t\t\t\tduration: 1000 * 10\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tawait embeddingModelUpdateHandler();\r\n\r\n\t\tif (querySettings.hybrid) {\r\n\t\t\tawait rerankingModelUpdateHandler();\r\n\t\t}\r\n\r\n\t\tif (contentExtractionEngine === 'tika' && tikaServerUrl === '') {\r\n\t\t\ttoast.error($i18n.t('Tika Server URL required.'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tpdf_extract_images: pdfExtractImages,\r\n\t\t\tenable_google_drive_integration: enableGoogleDriveIntegration,\r\n\t\t\tfile: {\r\n\t\t\t\tmax_size: fileMaxSize === '' ? null : fileMaxSize,\r\n\t\t\t\tmax_count: fileMaxCount === '' ? null : fileMaxCount\r\n\t\t\t},\r\n\t\t\tRAG_FULL_CONTEXT: RAG_FULL_CONTEXT,\r\n\t\t\tchunk: {\r\n\t\t\t\ttext_splitter: textSplitter,\r\n\t\t\t\tchunk_overlap: chunkOverlap,\r\n\t\t\t\tchunk_size: chunkSize\r\n\t\t\t},\r\n\t\t\tcontent_extraction: {\r\n\t\t\t\tengine: contentExtractionEngine,\r\n\t\t\t\ttika_server_url: tikaServerUrl\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawait updateQuerySettings(localStorage.token, querySettings);\r\n\r\n\t\tdispatch('save');\r\n\t};\r\n\r\n\tconst setEmbeddingConfig = async () => {\r\n\t\tconst embeddingConfig = await getEmbeddingConfig(localStorage.token);\r\n\r\n\t\tif (embeddingConfig) {\r\n\t\t\tembeddingEngine = embeddingConfig.embedding_engine;\r\n\t\t\tembeddingModel = embeddingConfig.embedding_model;\r\n\t\t\tembeddingBatchSize = embeddingConfig.embedding_batch_size ?? 1;\r\n\r\n\t\t\tOpenAIKey = embeddingConfig.openai_config.key;\r\n\t\t\tOpenAIUrl = embeddingConfig.openai_config.url;\r\n\r\n\t\t\tOllamaKey = embeddingConfig.ollama_config.key;\r\n\t\t\tOllamaUrl = embeddingConfig.ollama_config.url;\r\n\t\t}\r\n\t};\r\n\r\n\tconst setRerankingConfig = async () => {\r\n\t\tconst rerankingConfig = await getRerankingConfig(localStorage.token);\r\n\r\n\t\tif (rerankingConfig) {\r\n\t\t\trerankingModel = rerankingConfig.reranking_model;\r\n\t\t}\r\n\t};\r\n\r\n\tconst toggleHybridSearch = async () => {\r\n\t\tquerySettings.hybrid = !querySettings.hybrid;\r\n\t\tquerySettings = await updateQuerySettings(localStorage.token, querySettings);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait setEmbeddingConfig();\r\n\t\tawait setRerankingConfig();\r\n\r\n\t\tquerySettings = await getQuerySettings(localStorage.token);\r\n\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tpdfExtractImages = res.pdf_extract_images;\r\n\r\n\t\t\ttextSplitter = res.chunk.text_splitter;\r\n\t\t\tchunkSize = res.chunk.chunk_size;\r\n\t\t\tchunkOverlap = res.chunk.chunk_overlap;\r\n\r\n\t\t\tRAG_FULL_CONTEXT = res.RAG_FULL_CONTEXT;\r\n\r\n\t\t\tcontentExtractionEngine = res.content_extraction.engine;\r\n\t\t\ttikaServerUrl = res.content_extraction.tika_server_url;\r\n\t\t\tshowTikaServerUrl = contentExtractionEngine === 'tika';\r\n\r\n\t\t\tfileMaxSize = res?.file.max_size ?? '';\r\n\t\t\tfileMaxCount = res?.file.max_count ?? '';\r\n\r\n\t\t\tenableGoogleDriveIntegration = res.enable_google_drive_integration;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<ResetUploadDirConfirmDialog\r\n\tbind:show={showResetUploadDirConfirm}\r\n\ton:confirm={async () => {\r\n\t\tconst res = await deleteAllFiles(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t}\r\n\t}}\r\n/>\r\n\r\n<ResetVectorDBConfirmDialog\r\n\tbind:show={showResetConfirm}\r\n\ton:confirm={() => {\r\n\t\tconst res = resetVectorDB(localStorage.token).catch((error) => {\r\n\t\t\ttoast.error(`${error}`);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (res) {\r\n\t\t\ttoast.success($i18n.t('Success'));\r\n\t\t}\r\n\t}}\r\n/>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5\">\r\n\t\t<div class=\"flex flex-col gap-0.5\">\r\n\t\t\t<div class=\" mb-0.5 text-sm font-medium\">{$i18n.t('General Settings')}</div>\r\n\r\n\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Model Engine')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\tbind:value={embeddingEngine}\r\n\t\t\t\t\t\tplaceholder=\"Select an embedding model engine\"\r\n\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\tif (e.target.value === 'ollama') {\r\n\t\t\t\t\t\t\t\tembeddingModel = '';\r\n\t\t\t\t\t\t\t} else if (e.target.value === 'openai') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'text-embedding-3-small';\r\n\t\t\t\t\t\t\t} else if (e.target.value === '') {\r\n\t\t\t\t\t\t\t\tembeddingModel = 'sentence-transformers/all-MiniLM-L6-v2';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default (SentenceTransformers)')}</option>\r\n\t\t\t\t\t\t<option value=\"ollama\">{$i18n.t('Ollama')}</option>\r\n\t\t\t\t\t\t<option value=\"openai\">{$i18n.t('OpenAI')}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if embeddingEngine === 'openai'}\r\n\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\tbind:value={OpenAIUrl}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<SensitiveInput placeholder={$i18n.t('API Key')} bind:value={OpenAIKey} />\r\n\t\t\t\t</div>\r\n\t\t\t{:else if embeddingEngine === 'ollama'}\r\n\t\t\t\t<div class=\"my-0.5 flex gap-2 pr-2\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden\"\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Base URL')}\r\n\t\t\t\t\t\tbind:value={OllamaUrl}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\tplaceholder={$i18n.t('API Key')}\r\n\t\t\t\t\t\tbind:value={OllamaKey}\r\n\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t{#if embeddingEngine === 'ollama' || embeddingEngine === 'openai'}\r\n\t\t\t\t<div class=\"flex mt-0.5 space-x-2\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Embedding Batch Size')}</div>\r\n\t\t\t\t\t<div class=\" flex-1\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid=\"steps-range\"\r\n\t\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax=\"2048\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\tbind:value={embeddingBatchSize}\r\n\t\t\t\t\t\t\tclass=\"w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tbind:value={embeddingBatchSize}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tclass=\" bg-transparent text-center w-14\"\r\n\t\t\t\t\t\t\tmin=\"-2\"\r\n\t\t\t\t\t\t\tmax=\"16000\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Hybrid Search')}</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\ttoggleHybridSearch();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Full Context Mode')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tcontent={RAG_FULL_CONTEXT\r\n\t\t\t\t\t\t\t? 'Inject entire contents as context for comprehensive processing, this is recommended for complex queries.'\r\n\t\t\t\t\t\t\t: 'Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Switch bind:state={RAG_FULL_CONTEXT} />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\"border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"space-y-2\" />\r\n\t\t<div>\r\n\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Embedding Model')}</div>\r\n\r\n\t\t\t{#if embeddingEngine === 'ollama'}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model')}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{:else}\r\n\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Set embedding model (e.g. {{model}})', {\r\n\t\t\t\t\t\t\t\tmodel: embeddingModel.slice(-40)\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tbind:value={embeddingModel}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if embeddingEngine === ''}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tembeddingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateEmbeddingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\"mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t'Warning: If you update or change your embedding model, you will need to re-import all documents.'\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\" \">\r\n\t\t\t\t\t<div class=\" mb-2 text-sm font-medium\">{$i18n.t('Reranking Model')}</div>\r\n\r\n\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Set reranking model (e.g. {{model}})', {\r\n\t\t\t\t\t\t\t\t\tmodel: 'BAAI/bge-reranker-v2-m3'\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tbind:value={rerankingModel}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\trerankingModelUpdateHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={updateRerankingModelLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if updateRerankingModelLoading}\r\n\t\t\t\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\td=\"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"\">\r\n\t\t\t<div class=\"text-sm font-medium mb-1\">{$i18n.t('Content Extraction')}</div>\r\n\r\n\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Engine')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\tbind:value={contentExtractionEngine}\r\n\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\tshowTikaServerUrl = e.target.value === 'tika';\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')} </option>\r\n\t\t\t\t\t\t<option value=\"tika\">{$i18n.t('Tika')}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if showTikaServerUrl}\r\n\t\t\t\t<div class=\"flex w-full mt-1\">\r\n\t\t\t\t\t<div class=\"flex-1 mr-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tika Server URL')}\r\n\t\t\t\t\t\t\tbind:value={tikaServerUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"text-sm font-medium mb-1\">{$i18n.t('Google Drive')}</div>\r\n\r\n\t\t<div class=\"\">\r\n\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t<div class=\"text-xs font-medium\">{$i18n.t('Enable Google Drive')}</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch bind:state={enableGoogleDriveIntegration} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\" text-sm font-medium mb-1\">{$i18n.t('Query Params')}</div>\r\n\r\n\t\t\t<div class=\" flex gap-1.5\">\r\n\t\t\t\t<div class=\"flex flex-col w-full gap-1\">\r\n\t\t\t\t\t<div class=\" text-xs font-medium w-full\">{$i18n.t('Top K')}</div>\r\n\r\n\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Top K')}\r\n\t\t\t\t\t\t\tbind:value={querySettings.k}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t\t<div class=\" flex flex-col w-full gap-1\">\r\n\t\t\t\t\t\t<div class=\"text-xs font-medium w-full\">\r\n\t\t\t\t\t\t\t{$i18n.t('Minimum Score')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tstep=\"0.01\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Score')}\r\n\t\t\t\t\t\t\t\tbind:value={querySettings.r}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0.0\"\r\n\t\t\t\t\t\t\t\ttitle={$i18n.t('The score should be a value between 0.0 (0%) and 1.0 (100%).')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t{#if querySettings.hybrid === true}\r\n\t\t\t\t<div class=\"mt-2 text-xs text-gray-400 dark:text-gray-500\">\r\n\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t'Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\r\n\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t<div class=\" mb-1 text-xs font-medium\">{$i18n.t('RAG Template')}</div>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tcontent={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\tbind:value={querySettings.template}\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty to use the default prompt, or enter a custom prompt')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\" \">\r\n\t\t\t<div class=\"mb-1 text-sm font-medium\">{$i18n.t('Chunk Params')}</div>\r\n\r\n\t\t\t<div class=\"flex w-full justify-between mb-1.5\">\r\n\t\t\t\t<div class=\"self-center text-xs font-medium\">{$i18n.t('Text Splitter')}</div>\r\n\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\tbind:value={textSplitter}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">{$i18n.t('Default')} ({$i18n.t('Character')})</option>\r\n\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')} ({$i18n.t('Tiktoken')})</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\" flex gap-1.5\">\r\n\t\t\t\t<div class=\"  w-full justify-between\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Chunk Size')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Size')}\r\n\t\t\t\t\t\t\tbind:value={chunkSize}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Chunk Overlap')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Chunk Overlap')}\r\n\t\t\t\t\t\t\tbind:value={chunkOverlap}\r\n\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"my-2\">\r\n\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('PDF Extract Images (OCR)')}</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Switch bind:state={pdfExtractImages} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div class=\"\">\r\n\t\t\t<div class=\"text-sm font-medium mb-1\">{$i18n.t('Files')}</div>\r\n\r\n\t\t\t<div class=\" flex gap-1.5\">\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Max Upload Size')}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t'The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\r\n\t\t\t\t\t\t\t\tbind:value={fileMaxSize}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"  w-full\">\r\n\t\t\t\t\t<div class=\"self-center text-xs font-medium min-w-fit mb-1\">\r\n\t\t\t\t\t\t{$i18n.t('Max Upload Count')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t'The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\" w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Leave empty for unlimited')}\r\n\t\t\t\t\t\t\t\tbind:value={fileMaxCount}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<hr class=\" border-gray-100 dark:border-gray-850\" />\r\n\r\n\t\t<div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowResetUploadDirConfirm = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">{$i18n.t('Reset Upload Directory')}</div>\r\n\t\t\t</button>\r\n\r\n\t\t\t<button\r\n\t\t\t\tclass=\" flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowResetConfirm = true;\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\" self-center mr-3\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\td=\"M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z\"\r\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\" self-center text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Reset Vector Storage/Knowledge')}\r\n\t\t\t\t</div>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { getRAGConfig, updateRAGConfig } from '$lib/apis/retrieval';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\timport { models } from '$lib/stores';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet webConfig = null;\r\n\tlet webSearchEngines = [\r\n\t\t'searxng',\r\n\t\t'google_pse',\r\n\t\t'brave',\r\n\t\t'kagi',\r\n\t\t'mojeek',\r\n\t\t'bocha',\r\n\t\t'serpstack',\r\n\t\t'serper',\r\n\t\t'serply',\r\n\t\t'searchapi',\r\n\t\t'serpapi',\r\n\t\t'duckduckgo',\r\n\t\t'tavily',\r\n\t\t'jina',\r\n\t\t'bing',\r\n\t\t'exa'\r\n\t];\r\n\r\n\tlet youtubeLanguage = 'en';\r\n\tlet youtubeTranslation = null;\r\n\tlet youtubeProxyUrl = '';\r\n\r\n\tconst submitHandler = async () => {\r\n\t\t// Convert domain filter string to array before sending\r\n\t\tif (webConfig.search.domain_filter_list) {\r\n\t\t\twebConfig.search.domain_filter_list = webConfig.search.domain_filter_list\r\n\t\t\t\t.split(',')\r\n\t\t\t\t.map((domain) => domain.trim())\r\n\t\t\t\t.filter((domain) => domain.length > 0);\r\n\t\t} else {\r\n\t\t\twebConfig.search.domain_filter_list = [];\r\n\t\t}\r\n\r\n\t\tconst res = await updateRAGConfig(localStorage.token, {\r\n\t\t\tweb: webConfig,\r\n\t\t\tyoutube: {\r\n\t\t\t\tlanguage: youtubeLanguage.split(',').map((lang) => lang.trim()),\r\n\t\t\t\ttranslation: youtubeTranslation,\r\n\t\t\t\tproxy_url: youtubeProxyUrl\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twebConfig.search.domain_filter_list = webConfig.search.domain_filter_list.join(', ');\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getRAGConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\twebConfig = res.web;\r\n\t\t\t// Convert array back to comma-separated string for display\r\n\t\t\tif (webConfig?.search?.domain_filter_list) {\r\n\t\t\t\twebConfig.search.domain_filter_list = webConfig.search.domain_filter_list.join(', ');\r\n\t\t\t}\r\n\r\n\t\t\tyoutubeLanguage = res.youtube.language.join(',');\r\n\t\t\tyoutubeTranslation = res.youtube.translation;\r\n\t\t\tyoutubeProxyUrl = res.youtube.proxy_url;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait submitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if webConfig}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Search')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Enable Web Search')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Switch bind:state={webConfig.search.enabled} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Web Search Engine')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\tbind:value={webConfig.search.engine}\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\r\n\t\t\t\t\t\t\t{#each webSearchEngines as engine}\r\n\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Full Context Mode')}</div>\r\n\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tcontent={webConfig.RAG_WEB_SEARCH_FULL_CONTEXT\r\n\t\t\t\t\t\t\t\t? 'Inject the entire web results as context for comprehensive processing, this is recommended for complex queries.'\r\n\t\t\t\t\t\t\t\t: 'Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Switch bind:state={webConfig.RAG_WEB_SEARCH_FULL_CONTEXT} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if webConfig.search.engine !== ''}\r\n\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t{#if webConfig.search.engine === 'searxng'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Searxng Query URL')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searxng_query_url}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'google_pse'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Google PSE Engine Id')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.google_pse_engine_id}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'brave'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Brave Search API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.brave_search_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'kagi'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Kagi Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Kagi Search API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.kagi_search_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'mojeek'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Mojeek Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Mojeek Search API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.mojeek_search_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'bocha'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Bocha Search API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bocha Search API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.bocha_search_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serpstack'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serpstack API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serpstack_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serper'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serper API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serper API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serper_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serply'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Serply API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Serply API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serply_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'searchapi'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searchapi_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SearchApi Engine')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SearchApi Engine')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.searchapi_engine}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'serpapi'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SerpApi API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SerpApi API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serpapi_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"mt-1.5\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('SerpApi Engine')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter SerpApi Engine')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.serpapi_engine}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'tavily'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Tavily API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Tavily API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.tavily_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'jina'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Jina API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jina API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.jina_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'exa'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Exa API Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Exa API Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.exa_api_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{:else if webConfig.search.engine === 'bing'}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Bing Search V7 Endpoint')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bing Search V7 Endpoint')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.bing_search_v7_endpoint}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Bing Search V7 Subscription Key')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Bing Search V7 Subscription Key')}\r\n\t\t\t\t\t\t\t\t\tbind:value={webConfig.search.bing_search_v7_subscription_key}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\r\n\t\t\t\t{#if webConfig.search.enabled}\r\n\t\t\t\t\t<div class=\"mt-2 flex gap-2 mb-1\">\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Search Result Count')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.result_count}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Concurrent Requests')}\r\n\t\t\t\t\t\t\t\tbind:value={webConfig.search.concurrent_requests}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium mb-1\">\r\n\t\t\t\t\t\t\t{$i18n.t('Domain Filter List')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t'Enter domains separated by commas (e.g., example.com,site.org)'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tbind:value={webConfig.search.domain_filter_list}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\" mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Web Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t{$i18n.t('Bypass SSL verification for Websites')}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\twebConfig.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION =\r\n\t\t\t\t\t\t\t\t\t!webConfig.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION;\r\n\t\t\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if webConfig.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION === false}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('On')}</span>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Off')}</span>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\" mt-2 mb-1 text-sm font-medium\">\r\n\t\t\t\t\t{$i18n.t('Youtube Loader Settings')}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" w-20 text-xs font-medium self-center\">{$i18n.t('Language')}</div>\r\n\t\t\t\t\t\t<div class=\" flex-1 self-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter language codes')}\r\n\t\t\t\t\t\t\t\tbind:value={youtubeLanguage}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div class=\" py-0.5 flex w-full justify-between\">\r\n\t\t\t\t\t\t<div class=\" w-20 text-xs font-medium self-center\">{$i18n.t('Proxy URL')}</div>\r\n\t\t\t\t\t\t<div class=\" flex-1 self-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter proxy URL (e.g. https://user:password@host:port)')}\r\n\t\t\t\t\t\t\t\tbind:value={youtubeProxyUrl}\r\n\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\texport let className = 'size-4';\r\n\texport let strokeWidth = '1.5';\r\n</script>\r\n\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class={className}>\r\n\t<path\r\n\t\tfill-rule=\"evenodd\"\r\n\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z\"\r\n\t\tclip-rule=\"evenodd\"\r\n\t/>\r\n\t<path\r\n\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t/>\r\n</svg>\r\n","<script>\r\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\r\n\tconst i18n = getContext('i18n');\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\timport Modal from '$lib/components/common/Modal.svelte';\r\n\timport { models } from '$lib/stores';\r\n\timport Plus from '$lib/components/icons/Plus.svelte';\r\n\timport Minus from '$lib/components/icons/Minus.svelte';\r\n\timport PencilSolid from '$lib/components/icons/PencilSolid.svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\timport AccessControl from '$lib/components/workspace/common/AccessControl.svelte';\r\n\r\n\texport let show = false;\r\n\texport let edit = false;\r\n\r\n\texport let model = null;\r\n\r\n\tlet name = '';\r\n\tlet id = '';\r\n\r\n\t$: if (name) {\r\n\t\tgenerateId();\r\n\t}\r\n\r\n\tconst generateId = () => {\r\n\t\tif (!edit) {\r\n\t\t\tid = name\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.replace(/[^a-z0-9]/g, '-')\r\n\t\t\t\t.replace(/-+/g, '-')\r\n\t\t\t\t.replace(/^-|-$/g, '');\r\n\t\t}\r\n\t};\r\n\r\n\tlet profileImageUrl = '/favicon.png';\r\n\tlet description = '';\r\n\r\n\tlet selectedModelId = '';\r\n\tlet modelIds = [];\r\n\tlet filterMode = 'include';\r\n\r\n\tlet accessControl = {};\r\n\r\n\tlet imageInputElement;\r\n\tlet loading = false;\r\n\r\n\tconst addModelHandler = () => {\r\n\t\tif (selectedModelId) {\r\n\t\t\tmodelIds = [...modelIds, selectedModelId];\r\n\t\t\tselectedModelId = '';\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = () => {\r\n\t\tloading = true;\r\n\r\n\t\tif (!name || !id) {\r\n\t\t\tloading = false;\r\n\t\t\ttoast.error('Name and ID are required, please fill them out');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!edit) {\r\n\t\t\tif ($models.find((model) => model.name === name)) {\r\n\t\t\t\tloading = false;\r\n\t\t\t\tname = '';\r\n\t\t\t\ttoast.error('Model name already exists, please choose a different one');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst model = {\r\n\t\t\tid: id,\r\n\t\t\tname: name,\r\n\t\t\tmeta: {\r\n\t\t\t\tprofile_image_url: profileImageUrl,\r\n\t\t\t\tdescription: description || null,\r\n\t\t\t\tmodel_ids: modelIds.length > 0 ? modelIds : null,\r\n\t\t\t\tfilter_mode: modelIds.length > 0 ? (filterMode ? filterMode : null) : null,\r\n\t\t\t\taccess_control: accessControl\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdispatch('submit', model);\r\n\t\tloading = false;\r\n\t\tshow = false;\r\n\r\n\t\tname = '';\r\n\t\tid = '';\r\n\t\tprofileImageUrl = '/favicon.png';\r\n\t\tdescription = '';\r\n\t\tmodelIds = [];\r\n\t\tselectedModelId = '';\r\n\t};\r\n\r\n\tconst initModel = () => {\r\n\t\tif (model) {\r\n\t\t\tname = model.name;\r\n\t\t\tid = model.id;\r\n\t\t\tprofileImageUrl = model.meta.profile_image_url;\r\n\t\t\tdescription = model.meta.description;\r\n\t\t\tmodelIds = model.meta.model_ids || [];\r\n\t\t\tfilterMode = model.meta?.filter_mode ?? 'include';\r\n\t\t\taccessControl = 'access_control' in model.meta ? model.meta.access_control : {};\r\n\t\t}\r\n\t};\r\n\r\n\t$: if (show) {\r\n\t\tinitModel();\r\n\t}\r\n\r\n\tonMount(() => {\r\n\t\tinitModel();\r\n\t});\r\n</script>\r\n\r\n<Modal size=\"sm\" bind:show>\r\n\t<div>\r\n\t\t<div class=\" flex justify-between dark:text-gray-100 px-5 pt-4 pb-2\">\r\n\t\t\t<div class=\" text-lg font-medium self-center font-primary\">\r\n\t\t\t\t{#if edit}\r\n\t\t\t\t\t{$i18n.t('Edit Arena Model')}\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t{$i18n.t('Add Arena Model')}\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshow = false;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-5 h-5\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200\">\r\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\r\n\t\t\t\t<form\r\n\t\t\t\t\tclass=\"flex flex-col w-full\"\r\n\t\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class=\"px-1\">\r\n\t\t\t\t\t\t<div class=\"flex justify-center pb-3\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tbind:this={imageInputElement}\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst files = e.target.files ?? [];\r\n\t\t\t\t\t\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\t\t\t\t\t\treader.onload = (event) => {\r\n\t\t\t\t\t\t\t\t\t\tlet originalImageUrl = `${event.target.result}`;\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst img = new Image();\r\n\t\t\t\t\t\t\t\t\t\timg.src = originalImageUrl;\r\n\r\n\t\t\t\t\t\t\t\t\t\timg.onload = function () {\r\n\t\t\t\t\t\t\t\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\t\t\t\t\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the aspect ratio of the image\r\n\t\t\t\t\t\t\t\t\t\t\tconst aspectRatio = img.width / img.height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the new width and height to fit within 250x250\r\n\t\t\t\t\t\t\t\t\t\t\tlet newWidth, newHeight;\r\n\t\t\t\t\t\t\t\t\t\t\tif (aspectRatio > 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewWidth = 250 * aspectRatio;\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewHeight = 250;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewWidth = 250;\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewHeight = 250 / aspectRatio;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Set the canvas size\r\n\t\t\t\t\t\t\t\t\t\t\tcanvas.width = 250;\r\n\t\t\t\t\t\t\t\t\t\t\tcanvas.height = 250;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Calculate the position to center the image\r\n\t\t\t\t\t\t\t\t\t\t\tconst offsetX = (250 - newWidth) / 2;\r\n\t\t\t\t\t\t\t\t\t\t\tconst offsetY = (250 - newHeight) / 2;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Draw the image on the canvas\r\n\t\t\t\t\t\t\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Get the base64 representation of the compressed image\r\n\t\t\t\t\t\t\t\t\t\t\tconst compressedSrc = canvas.toDataURL('image/jpeg');\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Display the compressed image\r\n\t\t\t\t\t\t\t\t\t\t\tprofileImageUrl = compressedSrc;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\te.target.files = null;\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\tfiles.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png'].includes(\r\n\t\t\t\t\t\t\t\t\t\t\tfiles[0]['type']\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(files[0]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"relative rounded-full w-fit h-fit shrink-0\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\timageInputElement.click();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={profileImageUrl}\r\n\t\t\t\t\t\t\t\t\tclass=\"size-16 rounded-full object-cover shrink-0\"\r\n\t\t\t\t\t\t\t\t\talt=\"Profile\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div class=\"my-auto text-white\">\r\n\t\t\t\t\t\t\t\t\t\t<PencilSolid className=\"size-4\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"flex gap-2\">\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('Name')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={name}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model Name')}\r\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\" mb-0.5 text-xs text-gray-500\">{$i18n.t('ID')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={id}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model ID')}\r\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tdisabled={edit}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-2\">\r\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Description')}</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tbind:value={description}\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter description')}\r\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\r\n\r\n\t\t\t\t\t\t<div class=\"my-2 -mx-2\">\r\n\t\t\t\t\t\t\t<div class=\"px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg\">\r\n\t\t\t\t\t\t\t\t<AccessControl bind:accessControl />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\r\n\r\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\r\n\t\t\t\t\t\t\t<div class=\"mb-1 flex justify-between\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">{$i18n.t('Models')}</div>\r\n\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclass=\" text-xs text-gray-500\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tfilterMode = filterMode === 'include' ? 'exclude' : 'include';\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{#if filterMode === 'include'}\r\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Include')}\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Exclude')}\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if modelIds.length > 0}\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t{#each modelIds as modelId, modelIdx}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" flex gap-2 w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\" text-sm flex-1 py-1 rounded-lg\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{$models.find((model) => model.id === modelId)?.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"shrink-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodelIds = modelIds.filter((_, idx) => idx !== modelIdx);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Minus strokeWidth=\"2\" className=\"size-3.5\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs text-center py-2\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Leave empty to include all models or select specific models')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-700/10 my-2.5 w-full\" />\r\n\r\n\t\t\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclass=\"w-full py-1 text-sm rounded-lg bg-transparent {selectedModelId\r\n\t\t\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t\t\t: 'text-gray-500'} placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden\"\r\n\t\t\t\t\t\t\t\tbind:value={selectedModelId}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"\">{$i18n.t('Select a model')}</option>\r\n\t\t\t\t\t\t\t\t{#each $models.filter((m) => m?.owned_by !== 'arena') as model}\r\n\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\">{model.name}</option>\r\n\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\taddModelHandler();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Plus className=\"size-3.5\" strokeWidth=\"2\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium gap-1.5\">\r\n\t\t\t\t\t\t{#if edit}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tdispatch('delete', model);\r\n\t\t\t\t\t\t\t\t\tshow = false;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{$i18n.t('Delete')}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\r\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\r\n\t\t\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{$i18n.t('Save')}\r\n\r\n\t\t\t\t\t\t\t{#if loading}\r\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</Modal>\r\n","<script lang=\"ts\">\r\n\timport { getContext, createEventDispatcher } from 'svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\tconst i18n = getContext('i18n');\r\n\r\n\timport Cog6 from '$lib/components/icons/Cog6.svelte';\r\n\timport ArenaModelModal from './ArenaModelModal.svelte';\r\n\texport let model;\r\n\r\n\tlet showModel = false;\r\n</script>\r\n\r\n<ArenaModelModal\r\n\tbind:show={showModel}\r\n\tedit={true}\r\n\t{model}\r\n\ton:submit={async (e) => {\r\n\t\tdispatch('edit', e.detail);\r\n\t}}\r\n\ton:delete={async () => {\r\n\t\tdispatch('delete');\r\n\t}}\r\n/>\r\n\r\n<div class=\"py-0.5\">\r\n\t<div class=\"flex justify-between items-center mb-1\">\r\n\t\t<div class=\"flex flex-col flex-1\">\r\n\t\t\t<div class=\"flex gap-2.5 items-center\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={model.meta.profile_image_url}\r\n\t\t\t\t\talt={model.name}\r\n\t\t\t\t\tclass=\"size-8 rounded-full object-cover shrink-0\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div class=\"w-full flex flex-col\">\r\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\r\n\t\t\t\t\t\t<div class=\"shrink-0 line-clamp-1\">\r\n\t\t\t\t\t\t\t{model.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex items-center gap-1\">\r\n\t\t\t\t\t\t<div class=\" text-xs w-full text-gray-500 bg-transparent line-clamp-1\">\r\n\t\t\t\t\t\t\t{model?.meta?.description ?? model.id}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"flex items-center\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowModel = true;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Cog6 />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { models, settings, user, config } from '$lib/stores';\r\n\timport { createEventDispatcher, onMount, getContext, tick } from 'svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\timport { getModels } from '$lib/apis';\r\n\timport { getConfig, updateConfig } from '$lib/apis/evaluations';\r\n\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\timport Spinner from '$lib/components/common/Spinner.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Plus from '$lib/components/icons/Plus.svelte';\r\n\timport Model from './Evaluations/Model.svelte';\r\n\timport ArenaModelModal from './Evaluations/ArenaModelModal.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet evaluationConfig = null;\r\n\tlet showAddModel = false;\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tevaluationConfig = await updateConfig(localStorage.token, evaluationConfig).catch((err) => {\r\n\t\t\ttoast.error(err);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tif (evaluationConfig) {\r\n\t\t\ttoast.success('Settings saved successfully');\r\n\t\t\tmodels.set(\r\n\t\t\t\tawait getModels(\r\n\t\t\t\t\tlocalStorage.token,\r\n\t\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addModelHandler = async (model) => {\r\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS.push(model);\r\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = [...evaluationConfig.EVALUATION_ARENA_MODELS];\r\n\r\n\t\tawait submitHandler();\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst editModelHandler = async (model, modelIdx) => {\r\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS[modelIdx] = model;\r\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = [...evaluationConfig.EVALUATION_ARENA_MODELS];\r\n\r\n\t\tawait submitHandler();\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst deleteModelHandler = async (modelIdx) => {\r\n\t\tevaluationConfig.EVALUATION_ARENA_MODELS = evaluationConfig.EVALUATION_ARENA_MODELS.filter(\r\n\t\t\t(m, mIdx) => mIdx !== modelIdx\r\n\t\t);\r\n\r\n\t\tawait submitHandler();\r\n\t\tmodels.set(\r\n\t\t\tawait getModels(\r\n\t\t\t\tlocalStorage.token,\r\n\t\t\t\t$config?.features?.enable_direct_connections && ($settings?.directConnections ?? null)\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tif ($user.role === 'admin') {\r\n\t\t\tevaluationConfig = await getConfig(localStorage.token).catch((err) => {\r\n\t\t\t\ttoast.error(err);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<ArenaModelModal\r\n\tbind:show={showAddModel}\r\n\ton:submit={async (e) => {\r\n\t\taddModelHandler(e.detail);\r\n\t}}\r\n/>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between text-sm\"\r\n\ton:submit|preventDefault={() => {\r\n\t\tsubmitHandler();\r\n\t\tdispatch('save');\r\n\t}}\r\n>\r\n\t<div class=\"overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if evaluationConfig !== null}\r\n\t\t\t<div class=\"\">\r\n\t\t\t\t<div class=\"text-sm font-medium mb-2\">{$i18n.t('General Settings')}</div>\r\n\r\n\t\t\t\t<div class=\" mb-2\">\r\n\t\t\t\t\t<div class=\"flex justify-between items-center text-xs\">\r\n\t\t\t\t\t\t<div class=\" text-xs font-medium\">{$i18n.t('Arena Models')}</div>\r\n\r\n\t\t\t\t\t\t<Tooltip content={$i18n.t(`Message rating should be enabled to use this feature`)}>\r\n\t\t\t\t\t\t\t<Switch bind:state={evaluationConfig.ENABLE_EVALUATION_ARENA_MODELS} />\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{#if evaluationConfig.ENABLE_EVALUATION_ARENA_MODELS}\r\n\t\t\t\t\t<hr class=\" border-gray-50 dark:border-gray-700/10 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"flex justify-between items-center mb-2\">\r\n\t\t\t\t\t\t<div class=\"text-sm font-medium\">{$i18n.t('Manage Arena Models')}</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Add Arena Model')}>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"p-1\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowAddModel = true;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Plus />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"flex flex-col gap-2\">\r\n\t\t\t\t\t\t{#if (evaluationConfig?.EVALUATION_ARENA_MODELS ?? []).length > 0}\r\n\t\t\t\t\t\t\t{#each evaluationConfig.EVALUATION_ARENA_MODELS as model, index}\r\n\t\t\t\t\t\t\t\t<Model\r\n\t\t\t\t\t\t\t\t\t{model}\r\n\t\t\t\t\t\t\t\t\ton:edit={(e) => {\r\n\t\t\t\t\t\t\t\t\t\teditModelHandler(e.detail, index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ton:delete={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdeleteModelHandler(index);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t<div class=\" text-center text-xs text-gray-500\">\r\n\t\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t\t`Using the default arena model with all models. Click the plus button to add custom models.`\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"flex h-full justify-center\">\r\n\t\t\t\t<div class=\"my-auto\">\r\n\t\t\t\t\t<Spinner className=\"size-6\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script lang=\"ts\">\r\n\timport { toast } from 'svelte-sonner';\r\n\timport { onMount, getContext } from 'svelte';\r\n\timport { getCodeExecutionConfig, setCodeExecutionConfig } from '$lib/apis/configs';\r\n\r\n\timport SensitiveInput from '$lib/components/common/SensitiveInput.svelte';\r\n\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport Textarea from '$lib/components/common/Textarea.svelte';\r\n\timport Switch from '$lib/components/common/Switch.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let saveHandler: Function;\r\n\r\n\tlet config = null;\r\n\r\n\tlet engines = ['pyodide', 'jupyter'];\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tconst res = await setCodeExecutionConfig(localStorage.token, config);\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tconst res = await getCodeExecutionConfig(localStorage.token);\r\n\r\n\t\tif (res) {\r\n\t\t\tconfig = res;\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<form\r\n\tclass=\"flex flex-col h-full justify-between space-y-3 text-sm\"\r\n\ton:submit|preventDefault={async () => {\r\n\t\tawait submitHandler();\r\n\t\tsaveHandler();\r\n\t}}\r\n>\r\n\t<div class=\" space-y-3 overflow-y-scroll scrollbar-hidden h-full\">\r\n\t\t{#if config}\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"mb-3.5\">\r\n\t\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('General')}</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">{$i18n.t('Code Execution Engine')}</div>\r\n\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_ENGINE}\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\r\n\t\t\t\t\t\t\t\t\t{#each engines as engine}\r\n\t\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if config.CODE_EXECUTION_ENGINE === 'jupyter'}\r\n\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs\">\r\n\t\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t\t'Warning: Jupyter execution enables arbitrary code execution, posing severe security risks—proceed with extreme caution.'\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if config.CODE_EXECUTION_ENGINE === 'jupyter'}\r\n\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\r\n\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Jupyter URL')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter URL')}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_URL}\r\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\r\n\t\t\t\t\t\t\t<div class=\" flex gap-2 w-full items-center justify-between\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter Auth')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an auth method')}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option selected value=\"\">{$i18n.t('None')}</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')}</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"password\">{$i18n.t('Password')}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if config.CODE_EXECUTION_JUPYTER_AUTH}\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t{#if config.CODE_EXECUTION_JUPYTER_AUTH === 'password'}\r\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Password')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Token')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_AUTH_TOKEN}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\r\n\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Code Execution Timeout')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter timeout in seconds')}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_EXECUTION_JUPYTER_TIMEOUT}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g. 60')}\r\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"mb-3.5\">\r\n\t\t\t\t\t<div class=\" mb-2.5 text-base font-medium\">{$i18n.t('Code Interpreter')}</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t<div class=\" flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t{$i18n.t('Enable Code Interpreter')}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<Switch bind:state={config.ENABLE_CODE_INTERPRETER} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if config.ENABLE_CODE_INTERPRETER}\r\n\t\t\t\t\t\t<div class=\"mb-2.5\">\r\n\t\t\t\t\t\t\t<div class=\"  flex w-full justify-between\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Interpreter Engine')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"flex items-center relative\">\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_ENGINE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select a engine')}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option disabled selected value=\"\">{$i18n.t('Select a engine')}</option>\r\n\t\t\t\t\t\t\t\t\t\t{#each engines as engine}\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={engine}>{engine}</option>\r\n\t\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_ENGINE === 'jupyter'}\r\n\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-xs\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t'Warning: Jupyter execution enables arbitrary code execution, posing severe security risks—proceed with extreme caution.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if config.CODE_INTERPRETER_ENGINE === 'jupyter'}\r\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter URL')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"flex w-full\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter URL')}\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_URL}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"mb-2.5 flex flex-col gap-1.5 w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Jupyter Auth')}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Select an auth method')}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<option selected value=\"\">{$i18n.t('None')}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"token\">{$i18n.t('Token')}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"password\">{$i18n.t('Password')}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_JUPYTER_AUTH}\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex w-full gap-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t{#if config.CODE_INTERPRETER_JUPYTER_AUTH === 'password'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Password')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SensitiveInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Jupyter Token')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex gap-2 w-full items-center justify-between\">\r\n\t\t\t\t\t\t\t\t<div class=\"text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Execution Timeout')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Enter timeout in seconds')}>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_JUPYTER_TIMEOUT}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('e.g. 60')}\r\n\t\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-2\" />\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"py-0.5 w-full\">\r\n\t\t\t\t\t\t\t\t<div class=\" mb-2.5 text-xs font-medium\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Code Interpreter Prompt Template')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\tcontent={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\t\t\tbind:value={config.CODE_INTERPRETER_PROMPT_TEMPLATE}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t'Leave empty to use the default prompt, or enter a custom prompt'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\r\n\t\t<button\r\n\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full\"\r\n\t\t\ttype=\"submit\"\r\n\t\t>\r\n\t\t\t{$i18n.t('Save')}\r\n\t\t</button>\r\n\t</div>\r\n</form>\r\n","<script>\r\n\timport { getContext, tick, onMount } from 'svelte';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\timport { config } from '$lib/stores';\r\n\timport { getBackendConfig } from '$lib/apis';\r\n\timport Database from './Settings/Database.svelte';\r\n\r\n\timport General from './Settings/General.svelte';\r\n\timport Pipelines from './Settings/Pipelines.svelte';\r\n\timport Audio from './Settings/Audio.svelte';\r\n\timport Images from './Settings/Images.svelte';\r\n\timport Interface from './Settings/Interface.svelte';\r\n\timport Models from './Settings/Models.svelte';\r\n\timport Connections from './Settings/Connections.svelte';\r\n\timport Documents from './Settings/Documents.svelte';\r\n\timport WebSearch from './Settings/WebSearch.svelte';\r\n\r\n\timport ChartBar from '../icons/ChartBar.svelte';\r\n\timport DocumentChartBar from '../icons/DocumentChartBar.svelte';\r\n\timport Evaluations from './Settings/Evaluations.svelte';\r\n\timport CodeExecution from './Settings/CodeExecution.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tlet selectedTab = 'general';\r\n\r\n\tonMount(() => {\r\n\t\tconst containerElement = document.getElementById('admin-settings-tabs-container');\r\n\r\n\t\tif (containerElement) {\r\n\t\t\tcontainerElement.addEventListener('wheel', function (event) {\r\n\t\t\t\tif (event.deltaY !== 0) {\r\n\t\t\t\t\t// Adjust horizontal scroll position based on vertical scroll\r\n\t\t\t\t\tcontainerElement.scrollLeft += event.deltaY;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n</script>\r\n\r\n<div class=\"flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4\">\r\n\t<div\r\n\t\tid=\"admin-settings-tabs-container\"\r\n\t\tclass=\"tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none\"\r\n\t>\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'general'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'general';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('General')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'connections'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'connections';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Connections')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'models'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'models';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Models')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'evaluations'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'evaluations';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<DocumentChartBar />\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Evaluations')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'documents'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'documents';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path d=\"M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z\" />\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Documents')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'web'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'web';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Web Search')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'code-execution'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'code-execution';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Code Execution')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'interface'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'interface';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Interface')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'audio'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'audio';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Audio')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'images'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'images';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Images')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'pipelines'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'pipelines';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"size-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Pipelines')}</div>\r\n\t\t</button>\r\n\r\n\t\t<button\r\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition {selectedTab ===\r\n\t\t\t'db'\r\n\t\t\t\t? ''\r\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tselectedTab = 'db';\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center mr-2\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path d=\"M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z\" />\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\td=\"M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center\">{$i18n.t('Database')}</div>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div class=\"flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden\">\r\n\t\t{#if selectedTab === 'general'}\r\n\t\t\t<General\r\n\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'connections'}\r\n\t\t\t<Connections\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'models'}\r\n\t\t\t<Models />\r\n\t\t{:else if selectedTab === 'evaluations'}\r\n\t\t\t<Evaluations />\r\n\t\t{:else if selectedTab === 'documents'}\r\n\t\t\t<Documents\r\n\t\t\t\ton:save={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'web'}\r\n\t\t\t<WebSearch\r\n\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'code-execution'}\r\n\t\t\t<CodeExecution\r\n\t\t\t\tsaveHandler={async () => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tawait config.set(await getBackendConfig());\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'interface'}\r\n\t\t\t<Interface\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'audio'}\r\n\t\t\t<Audio\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'images'}\r\n\t\t\t<Images\r\n\t\t\t\ton:save={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'db'}\r\n\t\t\t<Database\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{:else if selectedTab === 'pipelines'}\r\n\t\t\t<Pipelines\r\n\t\t\t\tsaveHandler={() => {\r\n\t\t\t\t\ttoast.success($i18n.t('Settings saved successfully!'));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n"],"names":["ctx","insert_hydration","target","svg","anchor","append_hydration","path","className","$$props","strokeWidth","div2","button0","div0","div1","button1","div3","div4","set_data","t1","t1_value","t4","t4_value","if_block","_a","create_if_block","form","div6","div5","input","hr","t0","t0_value","t7","t7_value","saveAs","fileSaver","i18n","getContext","saveHandler","exportAllUserChats","blob","getAllUserChats","onMount","e","file","reader","importConfig","error","toast","config","exportConfig","downloadDatabase","t6_value","WEBUI_BUILD_HASH","switch0_props","switch1_props","switch2_props","if_block0","create_if_block_3","create_if_block_1","switch4_props","switch5_props","switch6_props","attr","a0","a0_href_value","add_render_callback","select","div58","div19","hr0","div7","div14","div11","div10","div8","div9","a1","div13","div18","div17","div16","div15","a5","div40","div20","hr1","div23","div21","div22","option0","option1","option2","select_option","div25","div24","div27","div26","div29","div28","div34","div31","div30","div32","input0","set_input_value","div33","span","div39","div38","div37","div35","div36","div57","div41","hr2","div43","div42","div45","div44","div47","div46","div52","div49","div48","div50","input1","div51","div56","div54","div53","div55","input2","t3","t3_value","current","dirty","t6","t8","t8_value","t10","t10_value","t12","t12_value","t14","t14_value","t16","t16_value","t21","t21_value","t23","t23_value","t25","t25_value","t28","t28_value","t30","t30_value","t31","t31_value","t32","t32_value","t34","t34_value","switch0_changes","t37","t37_value","switch1_changes","t40","t40_value","switch2_changes","t44","t44_value","t47","t47_value","t49","t49_value","t51","t51_value","t55","t55_value","t58","t58_value","switch4_changes","t61","t61_value","switch5_changes","t64","t64_value","t66","t66_value","switch6_changes","t70","t70_value","t73","t73_value","t75","t75_value","WEBUI_VERSION","switch_1_props","create_if_block_4","switch_1_changes","a","sensitiveinput_props","create_if_block_2","div12","t13","t13_value","sensitiveinput_changes","t19","t19_value","t22","t22_value","to_number","button","updateAvailable","version","adminConfig","webhookUrl","ENABLE_LDAP","LDAP_SERVER","checkForVersionUpdates","$$invalidate","getVersionUpdates","compareVersion","updateLdapServerHandler","updateLdapServer","$i18n","updateHandler","updateWebhookUrl","res","updateAdminConfig","getAdminConfig","getWebhookUrl","getLdapServer","ldapConfig","getLdapConfig","showChangelog","select_value","$$self","value","updateLdapConfig","div","t","t_value","i","create_if_block_15","create_if_block_14","create_if_block_13","option_1","button2","t2","t2_value","path0","path1","create_if_block_11","each_value","ensure_array_like","each_blocks","_b","input_placeholder_value","each_value_1","select_change_handler_2","create_if_block_10","if_block1","create_if_block_7","downloading","uploading","pipelineFiles","PIPELINES_LIST","selectedPipelinesUrlIdx","pipelines","valves","valves_spec","selectedPipelineIdx","pipelineDownloadUrl","pipeline","property","v","updatePipelineValves","setPipelines","models","getModels","$config","$settings","getValves","idx","getPipelineValvesSpec","getPipelineValves","getPipelines","addPipelineHandler","downloadPipeline","uploadPipelineHandler","uploadPipeline","pipelineUploadInputElement","deletePipelineHandler","deletePipeline","getPipelinesList","tick","t5","t5_value","datalist","option","small","datalist0","datalist1","t9_value","t9","option_selected_value","option_value_value","TTS_RESPONSE_SPLIT","select0","select1","select2","option3","option4","option5","option6","option7","option8","t11","t11_value","t15","t15_value","t18","t18_value","t20","t20_value","t33","t33_value","dispatch","createEventDispatcher","TTS_OPENAI_API_BASE_URL","TTS_OPENAI_API_KEY","TTS_API_KEY","TTS_ENGINE","TTS_MODEL","TTS_VOICE","TTS_SPLIT_ON","TTS_AZURE_SPEECH_REGION","TTS_AZURE_SPEECH_OUTPUT_FORMAT","STT_OPENAI_API_BASE_URL","STT_OPENAI_API_KEY","STT_ENGINE","STT_MODEL","STT_WHISPER_MODEL","STT_DEEPGRAM_API_KEY","STT_WHISPER_MODEL_LOADING","voices","_getModels","getVoices","getVoicesLoop","b","_getVoices","updateConfigHandler","updateAudioConfig","getBackendConfig","sttModelUpdateHandler","getAudioConfig","create_if_block_9","_c","_d","if_block2","create_if_block_6","create_if_block_5","textarea","loading","imageGenerationConfig","samplers","schedulers","requiredWorkflowNodes","getImageGenerationModels","updateConfig","backendConfig","validateJSON","json","obj","node","id","updateImageGenerationConfig","$user","getConfig","n","imageConfigRes","getImageGenerationConfig","verifyConfigUrl","each_value_3","func","switch3_props","div29_class_value","switch3_changes","t35","t35_value","t38","t38_value","t41","t41_value","textarea_props","textarea_changes","select_change_handler","m","taskConfig","promptSuggestions","banners","updateInterfaceHandler","updateTaskConfig","setDefaultPromptSuggestions","updateBanners","getTaskConfig","getBanners","_banners","setBanners","uuidv4","banner","bannerIdx","promptIdx","func_1","show_if","modelIds","modelListElement","positionChangeHandler","modelList","child","Sortable","event","modelId","model","$$value","show","initHandler","selectedModelId","defaultModelIds","showResetModal","onModelSelect","init","getModelsConfig","modelOrderList","allModelIds","$models","orderedSet","submitHandler","setModelsConfig","deleteAllModels","_","modelIdx","create_if_block_17","create_if_block_16","create_if_block_12","if_block4","input0_placeholder_value","input1_placeholder_value","svg1","path2","button3","set_style","if_block3","input_class_value","div_class_value","create_if_block_8","MAX_PARALLEL_DOWNLOADS","modelUploadInputElement","showModelDeleteConfirm","urlIdx","ollamaModels","updateModelId","updateProgress","showExperimentalOllama","modelTransferring","modelTag","createModelLoading","createModelName","createModelObject","createModelDigest","createModelPullProgress","digest","pullProgress","modelUploadMode","modelInputFile","modelFileUrl","modelFileContent","modelFileDigest","uploadProgress","uploadMessage","deleteModelTag","updateModelsHandler","controller","pullModel","splitStream","done","lines","line","data","pullModelHandler","sanitizedModelTag","$MODEL_DOWNLOAD_POOL","MODEL_DOWNLOAD_POOL","downloadProgress","uploadModelHandler","uploaded","fileResponse","name","uploadModel","downloadModel","createModel","deleteModelHandler","deleteModel","cancelModelPullHandler","abortController","createModelHandler","modelObject","getOllamaModels","ollamaConfig","selectedUrlIdx","button_class_value","selected","getOllamaConfig","modeleditor_changes","get_key","_f","_e","_h","_g","marked","_j","_i","_l","_k","_n","_m","_p","_o","_r","_q","_s","src_url_equal","img","img_src_value","div6_id_value","tooltip0_changes","_u","_t","_v","_w","importFiles","modelsImportInputElement","workspaceModels","baseModels","filteredModels","showConfigModal","showManageModal","searchValue","downloadModels","getBaseModels","workspaceModel","wm","upsertModelHandler","updateModelById","createNewModel","_models","toggleModelHandler","toggleModelById","savedModels","onDelete","onSubmit","url","key","connection","tooltip_changes","openaiconnection_props","openaiconnection_changes","ollamaconnection_props","ollamaconnection_changes","OLLAMA_BASE_URLS","OLLAMA_API_CONFIGS","OPENAI_API_KEYS","OPENAI_API_BASE_URLS","OPENAI_API_CONFIGS","ENABLE_OPENAI_API","ENABLE_OLLAMA_API","directConnectionsConfig","pipelineUrls","showAddOpenAIConnectionModal","showAddOllamaConnectionModal","updateOpenAIHandler","diff","updateOpenAIConfig","updateOllamaHandler","updateOllamaConfig","updateDirectConnectionsHandler","setDirectConnectionsConfig","addOpenAIConnectionHandler","addOllamaConnectionHandler","openaiConfig","getOpenAIConfig","getDirectConnectionsConfig","getOpenAIModels","keyIdx","newConfig","newIdx","div62","hr3","hr4","hr5","hr6","div61","div59","div60","div63","t27","t27_value","t29","t29_value","t39","t39_value","t43","t43_value","t45","t45_value","t50","t50_value","t54","t54_value","t56","t56_value","t60","t60_value","t62","t62_value","t67","t67_value","t77","t77_value","t79","t79_value","t82","t82_value","t87","t87_value","t90","t90_value","t92","t92_value","updateEmbeddingModelLoading","updateRerankingModelLoading","showResetConfirm","showResetUploadDirConfirm","embeddingEngine","embeddingModel","embeddingBatchSize","rerankingModel","fileMaxSize","fileMaxCount","contentExtractionEngine","tikaServerUrl","showTikaServerUrl","textSplitter","chunkSize","chunkOverlap","pdfExtractImages","RAG_FULL_CONTEXT","enableGoogleDriveIntegration","OpenAIUrl","OpenAIKey","OllamaUrl","OllamaKey","querySettings","embeddingModelUpdateHandler","updateEmbeddingConfig","setEmbeddingConfig","rerankingModelUpdateHandler","updateRerankingConfig","setRerankingConfig","updateRAGConfig","updateQuerySettings","embeddingConfig","getEmbeddingConfig","rerankingConfig","getRerankingConfig","toggleHybridSearch","getQuerySettings","getRAGConfig","deleteAllFiles","resetVectorDB","t17","t17_value","webConfig","webSearchEngines","youtubeLanguage","youtubeTranslation","youtubeProxyUrl","domain","lang","img_1","img_1_src_value","input3","button4","t26","t26_value","edit","generateId","profileImageUrl","description","filterMode","accessControl","imageInputElement","addModelHandler","initModel","files","originalImageUrl","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","img_alt_value","showModel","evaluationConfig","showAddModel","err","editModelHandler","mIdx","index","engines","setCodeExecutionConfig","getCodeExecutionConfig","button0_class_value","button1_class_value","button2_class_value","button3_class_value","button4_class_value","button5","button5_class_value","button6","button6_class_value","button7","button7_class_value","button8","button8_class_value","button9","button9_class_value","button10","button10_class_value","button11","button11_class_value","selectedTab","containerElement"],"mappings":"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"}