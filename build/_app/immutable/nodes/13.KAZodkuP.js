import{s as Ll,E as vl,F as ml,a as v,d as f,f as o,i as R,g as n,n as ft,e as d,t as L,k as A,c as _,b as M,o as y,N as Bt,u as re,z as Hs,h as C,H as bl,j as Wt,p as Kl,q as bs,y as We,C as ee,P as Hl,O as jt,A as Xe,l as ul,G as ts,R as Bl,D as sr,Q as Il,B as Ea,S as fa,T as ar}from"../chunks/scheduler.CRl-z1y4.js";import{S as Ml,i as Rl,t as j,g as Et,a as W,c as bt,f as Qe,b as pe,d as ve,m as me,e as ge}from"../chunks/index.Ci9MLlfz.js";import{t as Fe}from"../chunks/Toaster.svelte_svelte_type_style_lang.CQ9dEDgo.js";import{c as Ps,F as mu,b as Kr,G as gu,a as rr,m as Jl,u as nr,H as Eu,M as lr}from"../chunks/index.D3fyK0zW.js";import{b as bu,c as Iu,u as wu,d as ku,e as Tu,g as Es,f as Du,h as Au,i as yu,j as $u,k as Nu,l as Vu,a as Wa,m as Ou,n as Pu}from"../chunks/index.BqVLHKQO.js";import{f as iu}from"../chunks/FileSaver.min.CimDdHIv.js";import{d as Su}from"../chunks/index.CNCHcZAP.js";import{l as Lu}from"../chunks/index.DprN9wDa.js";import{i as Mu,e as Ru,S as $l,g as Cu,s as Uu,a as Bu,b as Hu,c as Gu,M as ou,A as Yr,d as ju,f as Ku,h as Yu,j as Fu}from"../chunks/AddConnectionModal.C397DH4_.js";import{d as Wu,e as qu,f as Zu,h as Ju,i as zu,j as Xu}from"../chunks/index.Cg5NxU1-.js";import{S as yl}from"../chunks/Switch.XdZuashh.js";import{T as Ht}from"../chunks/Tooltip.DuavYtFf.js";import{c as Qu,T as Fr,v as xu,s as wr}from"../chunks/index.DEZx4M2T.js";import{e as mt,u as uu,o as fu}from"../chunks/each.Cd7EUOR7.js";import{S as Oa}from"../chunks/Spinner.F397vpZ1.js";import{g as ef,a as tf,b as lf,u as sf}from"../chunks/index.CG5_6Ae6.js";import{g as af,a as rf,b as nf,u as Nn,c as of,v as Vn}from"../chunks/index.BNkYlYMx.js";import{T as qa}from"../chunks/Textarea.CTej7PFz.js";import{m as On}from"../chunks/marked.esm._0_gBwjO.js";import{b as uf,e as ff,u as cf,c as Pn,t as df}from"../chunks/index.B90UK876.js";import{S as _f}from"../chunks/Search.aCWnjc4H.js";import{M as hf}from"../chunks/ModelEditor.B2xr1rg5.js";import{C as Wr}from"../chunks/ConfirmDialog.rCTTtEnx.js";import{C as qr}from"../chunks/Cog6.DxdD2IF1.js";import{M as Zr}from"../chunks/Modal.BMltO1wU.js";import{S as pf}from"../chunks/sortable.esm.C0-Qcoum.js";import{E as vf}from"../chunks/EllipsisVertical.Bn1p_fvw.js";import{A as cu}from"../chunks/ArrowDownTray.D_H3KREq.js";import{p as Sn,d as Ln,c as Mn,a as mf,u as gf,b as Ef,e as du,f as bf}from"../chunks/index.60rsoGoz.js";import{a as If,b as wf,u as kf}from"../chunks/index.D-tjRJIj.js";import{P as Jr}from"../chunks/Plus.BWtK4UEr.js";import"../chunks/index.CGwCSIWv.js";import{g as Tf,a as _u,u as Df,b as hu,c as Rn,d as Af,e as yf,r as $f,f as Nf}from"../chunks/index.CyMnjwu0.js";import{d as Vf}from"../chunks/index.D6m4z6Fi.js";import{a as Of,u as Pf}from"../chunks/index.BuX3m8UT.js";import{A as Sf}from"../chunks/AccessControl.Dn9YgQ9m.js";function Lf(l){let e,t;return{c(){e=vl("svg"),t=vl("path"),this.h()},l(s){e=ml(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=ml(a,"path",{d:!0}),v(t).forEach(f),a.forEach(f),this.h()},h(){o(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(s,a){R(s,e,a),n(e,t)},p(s,[a]){a&1&&o(e,"class",s[0])},i:ft,o:ft,d(s){s&&f(e)}}}function Mf(l,e,t){let{className:s="w-4 h-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=i=>{"className"in i&&t(0,s=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[s,a]}class Rf extends Ml{constructor(e){super(),Rl(this,e,Mf,Lf,Ll,{className:0,strokeWidth:1})}}function Cn(l){let e,t,s,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,r,c=l[1].t("Download Database")+"",u,p,E,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,b,I=l[1].t("Export All Chats (All Users)")+"",w,k,T;return{c(){e=d("div"),t=d("button"),s=d("div"),s.innerHTML=a,i=A(),r=d("div"),u=L(c),p=A(),E=d("button"),h=d("div"),h.innerHTML=m,g=A(),b=d("div"),w=L(I),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=v(e);t=_($,"BUTTON",{class:!0,type:!0});var V=v(t);s=_(V,"DIV",{class:!0,"data-svelte-h":!0}),Bt(s)!=="svelte-1n29mwa"&&(s.innerHTML=a),i=y(V),r=_(V,"DIV",{class:!0});var O=v(r);u=M(O,c),O.forEach(f),V.forEach(f),$.forEach(f),p=y(D),E=_(D,"BUTTON",{class:!0});var N=v(E);h=_(N,"DIV",{class:!0,"data-svelte-h":!0}),Bt(h)!=="svelte-1l0oz0g"&&(h.innerHTML=m),g=y(N),b=_(N,"DIV",{class:!0});var P=v(b);w=M(P,I),P.forEach(f),N.forEach(f),this.h()},h(){o(s,"class","self-center mr-3"),o(r,"class","self-center text-sm font-medium"),o(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(t,"type","button"),o(e,"class","flex w-full justify-between"),o(h,"class","self-center mr-3"),o(b,"class","self-center text-sm font-medium"),o(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(D,$){R(D,e,$),n(e,t),n(t,s),n(t,i),n(t,r),n(r,u),R(D,p,$),R(D,E,$),n(E,h),n(E,g),n(E,b),n(b,w),k||(T=[re(t,"click",l[9]),re(E,"click",l[10])],k=!0)},p(D,$){$&2&&c!==(c=D[1].t("Download Database")+"")&&C(u,c),$&2&&I!==(I=D[1].t("Export All Chats (All Users)")+"")&&C(w,I)},d(D){D&&(f(e),f(p),f(E)),k=!1,bl(T)}}}function Cf(l){var G;let e,t,s,a,i=l[1].t("Database")+"",r,c,u,p,E,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',g,b,I=l[1].t("Import Config from JSON File")+"",w,k,T,D,$='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',V,O,N=l[1].t("Export Config to JSON File")+"",P,H,U,B,Y,S,F=(((G=l[2])==null?void 0:G.features.enable_admin_export)??!0)&&Cn(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("input"),p=A(),E=d("button"),h=d("div"),h.innerHTML=m,g=A(),b=d("div"),w=L(I),k=A(),T=d("button"),D=d("div"),D.innerHTML=$,V=A(),O=d("div"),P=L(N),H=A(),U=d("hr"),B=A(),F&&F.c(),this.h()},l(K){e=_(K,"FORM",{class:!0});var J=v(e);t=_(J,"DIV",{class:!0});var Q=v(t);s=_(Q,"DIV",{});var X=v(s);a=_(X,"DIV",{class:!0});var ie=v(a);r=M(ie,i),ie.forEach(f),c=y(X),u=_(X,"INPUT",{id:!0,type:!0,accept:!0}),p=y(X),E=_(X,"BUTTON",{type:!0,class:!0});var ue=v(E);h=_(ue,"DIV",{class:!0,"data-svelte-h":!0}),Bt(h)!=="svelte-uk5zsu"&&(h.innerHTML=m),g=y(ue),b=_(ue,"DIV",{class:!0});var le=v(b);w=M(le,I),le.forEach(f),ue.forEach(f),k=y(X),T=_(X,"BUTTON",{type:!0,class:!0});var z=v(T);D=_(z,"DIV",{class:!0,"data-svelte-h":!0}),Bt(D)!=="svelte-uk5zsu"&&(D.innerHTML=$),V=y(z),O=_(z,"DIV",{class:!0});var Z=v(O);P=M(Z,N),Z.forEach(f),z.forEach(f),H=y(X),U=_(X,"HR",{class:!0}),B=y(X),F&&F.l(X),X.forEach(f),Q.forEach(f),J.forEach(f),this.h()},h(){o(a,"class","mb-2 text-sm font-medium"),o(u,"id","config-json-input"),u.hidden=!0,o(u,"type","file"),o(u,"accept",".json"),o(h,"class","self-center mr-3"),o(b,"class","self-center text-sm font-medium"),o(E,"type","button"),o(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(D,"class","self-center mr-3"),o(O,"class","self-center text-sm font-medium"),o(T,"type","button"),o(T,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(U,"class","border-gray-100 dark:border-gray-850 my-1"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(K,J){R(K,e,J),n(e,t),n(t,s),n(s,a),n(a,r),n(s,c),n(s,u),n(s,p),n(s,E),n(E,h),n(E,g),n(E,b),n(b,w),n(s,k),n(s,T),n(T,D),n(T,V),n(T,O),n(O,P),n(s,H),n(s,U),n(s,B),F&&F.m(s,null),Y||(S=[re(u,"change",l[6]),re(E,"click",l[7]),re(T,"click",l[8]),re(e,"submit",Hs(l[11]))],Y=!0)},p(K,[J]){var Q;J&2&&i!==(i=K[1].t("Database")+"")&&C(r,i),J&2&&I!==(I=K[1].t("Import Config from JSON File")+"")&&C(w,I),J&2&&N!==(N=K[1].t("Export Config to JSON File")+"")&&C(P,N),((Q=K[2])==null?void 0:Q.features.enable_admin_export)??!0?F?F.p(K,J):(F=Cn(K),F.c(),F.m(s,null)):F&&(F.d(1),F=null)},i:ft,o:ft,d(K){K&&f(e),F&&F.d(),Y=!1,bl(S)}}}function Uf(l,e,t){let s,a;Wt(l,Ps,I=>t(2,a=I));const{saveAs:i}=iu,r=Kl("i18n");Wt(l,r,I=>t(1,s=I));let{saveHandler:c}=e;const u=async()=>{let I=new Blob([JSON.stringify(await Lu(localStorage.token))],{type:"application/json"});i(I,`all-chats-export-${Date.now()}.json`)};bs(async()=>{});const p=I=>{const w=I.target.files[0],k=new FileReader;k.onload=async T=>{await Mu(localStorage.token,JSON.parse(T.target.result)).catch($=>{Fe.error(`${$}`)})&&Fe.success("Config imported successfully"),T.target.value=null},k.readAsText(w)},E=async()=>{document.getElementById("config-json-input").click()},h=async()=>{const I=await Ru(localStorage.token),w=new Blob([JSON.stringify(I)],{type:"application/json"});i(w,`config-${Date.now()}.json`)},m=()=>{Su(localStorage.token).catch(I=>{Fe.error(`${I}`)})},g=()=>{u()},b=async()=>{c()};return l.$$set=I=>{"saveHandler"in I&&t(0,c=I.saveHandler)},[c,s,a,i,r,u,p,E,h,m,g,b]}class Bf extends Ml{constructor(e){super(),Rl(this,e,Uf,Cf,Ll,{saveHandler:0})}}function Un(l){var pa;let e,t,s,a=l[6].t("General")+"",i,r,c,u,p,E,h,m=l[6].t("Version")+"",g,b,I,w,k,T,D,$,V=(l[0]===null?l[6].t("Checking for updates..."):l[0]?`(v${l[1].latest} ${l[6].t("available!")})`:l[6].t("(latest)"))+"",O,N,P,H,U,B=l[6].t("See what's new")+"",Y,S,F,G=l[6].t("Check for updates")+"",K,J,Q,X,ie,ue,le=l[6].t("Help")+"",z,Z,q,te=l[6].t("Discover how to use Open WebUI and seek support from the community.")+"",ae,de,ne,oe=l[6].t("Documentation")+"",fe,ke,Ee,x='<div class="flex space-x-1"><a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a></div>',_e,Te,be,Ie,Me,ce=l[6].t("License")+"",De,Ce,Ue,se=l[6].t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")+"",ye,Be,$e,Le,Ge=l[6].t("Authentication")+"",qe,Ke,je,Ae,Ve,Pe,st=l[6].t("Default User Role")+"",It,at,Ze,pt,Lt,Dt=l[6].t("pending")+"",Tt,_t,tt=l[6].t("user")+"",rt,nt,ut=l[6].t("admin")+"",dt,vt,he,Ne,kt=l[6].t("Enable New Sign Ups")+"",ot,gt,wt,Mt,zt,Kt,Xt,Gt=l[6].t("Show Admin Details in Account Pending Overlay")+"",ll,qt,At,Re,we,xe,Ot,Ut=l[6].t("Enable API Key")+"",ct,Nt,$t,Ct,He,et,ht,Pt,Je,hl=l[6].t("JWT Expiration")+"",sl,Qt,Zt,rl,it,yt,Rt=l[6].t("Valid time units:")+"",dl,Tl,gl,wl=l[6].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"",Yt,Nl,Al,pl,Jt,nl,fl=l[6].t("LDAP")+"",Yl,as,cl,Vl,zl,_l,rs,kl,Gl,Pl=l[6].t("Features")+"",Ft,Cl,xt,Fs,El,Se,lt=l[6].t("Enable Community Sharing")+"",il,el,ls,Ds,As,Fl,ns,Is=l[6].t("Enable Message Rating")+"",Xl,St,Dl,Ws,qs,ys,Ql,Wl=l[6].t("Channels")+"",Ss,ca,is=l[6].t("Beta")+"",Ls,Ms,Qs,ps,Gs,ql,vs,$s,ws,os=l[6].t("WebUI URL")+"",Rs,ms,Cs,us,Us,fs,Zs=l[6].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"",xs,ea,Ul,Ns,js,ta=l[6].t("Webhook URL")+"",ba,Ra,Vs,cs,al,Ia,Ca;T=new Ht({props:{content:mu,$$slots:{default:[Hf]},$$scope:{ctx:l}}});function ir(Ye){l[14](Ye)}let wa={};l[2].ENABLE_SIGNUP!==void 0&&(wa.state=l[2].ENABLE_SIGNUP),wt=new yl({props:wa}),We.push(()=>Qe(wt,"state",ir));function da(Ye){l[15](Ye)}let Za={};l[2].SHOW_ADMIN_DETAILS!==void 0&&(Za.state=l[2].SHOW_ADMIN_DETAILS),At=new yl({props:Za}),We.push(()=>Qe(At,"state",da));function _a(Ye){l[16](Ye)}let ka={};l[2].ENABLE_API_KEY!==void 0&&(ka.state=l[2].ENABLE_API_KEY),$t=new yl({props:ka}),We.push(()=>Qe($t,"state",_a));let Sl=((pa=l[2])==null?void 0:pa.ENABLE_API_KEY)&&Bn(l);function Ja(Ye){l[20](Ye)}let za={};l[4]!==void 0&&(za.state=l[4]),Vl=new yl({props:za}),We.push(()=>Qe(Vl,"state",Ja)),Vl.$on("change",l[21]);let Ol=l[4]&&Gn(l);function ha(Ye){l[34](Ye)}let Xa={};l[2].ENABLE_COMMUNITY_SHARING!==void 0&&(Xa.state=l[2].ENABLE_COMMUNITY_SHARING),ls=new yl({props:Xa}),We.push(()=>Qe(ls,"state",ha));function Qa(Ye){l[35](Ye)}let xa={};l[2].ENABLE_MESSAGE_RATING!==void 0&&(xa.state=l[2].ENABLE_MESSAGE_RATING),Dl=new yl({props:xa}),We.push(()=>Qe(Dl,"state",Qa));function Ta(Ye){l[36](Ye)}let Ks={};return l[2].ENABLE_CHANNELS!==void 0&&(Ks.state=l[2].ENABLE_CHANNELS),ps=new yl({props:Ks}),We.push(()=>Qe(ps,"state",Ta)),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("hr"),u=A(),p=d("div"),E=d("div"),h=d("div"),g=L(m),b=A(),I=d("div"),w=d("div"),k=d("div"),pe(T.$$.fragment),D=A(),$=d("a"),O=L(V),P=A(),H=d("button"),U=d("div"),Y=L(B),S=A(),F=d("button"),K=L(G),J=A(),Q=d("div"),X=d("div"),ie=d("div"),ue=d("div"),z=L(le),Z=A(),q=d("div"),ae=L(te),de=A(),ne=d("a"),fe=L(oe),ke=A(),Ee=d("div"),Ee.innerHTML=x,_e=A(),Te=d("div"),be=d("div"),Ie=d("div"),Me=d("div"),De=L(ce),Ce=A(),Ue=d("a"),ye=L(se),Be=A(),$e=d("div"),Le=d("div"),qe=L(Ge),Ke=A(),je=d("hr"),Ae=A(),Ve=d("div"),Pe=d("div"),It=L(st),at=A(),Ze=d("div"),pt=d("select"),Lt=d("option"),Tt=L(Dt),_t=d("option"),rt=L(tt),nt=d("option"),dt=L(ut),vt=A(),he=d("div"),Ne=d("div"),ot=L(kt),gt=A(),pe(wt.$$.fragment),zt=A(),Kt=d("div"),Xt=d("div"),ll=L(Gt),qt=A(),pe(At.$$.fragment),we=A(),xe=d("div"),Ot=d("div"),ct=L(Ut),Nt=A(),pe($t.$$.fragment),He=A(),Sl&&Sl.c(),et=A(),ht=d("div"),Pt=d("div"),Je=d("div"),sl=L(hl),Qt=A(),Zt=d("div"),rl=d("input"),it=A(),yt=d("div"),dl=L(Rt),Tl=A(),gl=d("span"),Yt=L(wl),Nl=A(),Al=d("div"),pl=d("div"),Jt=d("div"),nl=d("div"),Yl=L(fl),as=A(),cl=d("div"),pe(Vl.$$.fragment),_l=A(),Ol&&Ol.c(),rs=A(),kl=d("div"),Gl=d("div"),Ft=L(Pl),Cl=A(),xt=d("hr"),Fs=A(),El=d("div"),Se=d("div"),il=L(lt),el=A(),pe(ls.$$.fragment),As=A(),Fl=d("div"),ns=d("div"),Xl=L(Is),St=A(),pe(Dl.$$.fragment),qs=A(),ys=d("div"),Ql=d("div"),Ss=L(Wl),ca=L(" ("),Ls=L(is),Ms=L(")"),Qs=A(),pe(ps.$$.fragment),ql=A(),vs=d("div"),$s=d("div"),ws=d("div"),Rs=L(os),ms=A(),Cs=d("div"),us=d("input"),Us=A(),fs=d("div"),xs=L(Zs),ea=A(),Ul=d("div"),Ns=d("div"),js=d("div"),ba=L(ta),Ra=A(),Vs=d("div"),cs=d("input"),this.h()},l(Ye){e=_(Ye,"DIV",{class:!0});var Vt=v(e);t=_(Vt,"DIV",{class:!0});var ss=v(t);s=_(ss,"DIV",{class:!0});var la=v(s);i=M(la,a),la.forEach(f),r=y(ss),c=_(ss,"HR",{class:!0}),u=y(ss),p=_(ss,"DIV",{class:!0});var Js=v(p);E=_(Js,"DIV",{class:!0});var Da=v(E);h=_(Da,"DIV",{});var ks=v(h);g=M(ks,m),ks.forEach(f),Da.forEach(f),b=y(Js),I=_(Js,"DIV",{class:!0});var Os=v(I);w=_(Os,"DIV",{class:!0});var va=v(w);k=_(va,"DIV",{class:!0});var sa=v(k);ve(T.$$.fragment,sa),D=y(sa),$=_(sa,"A",{href:!0,target:!0});var zs=v($);O=M(zs,V),zs.forEach(f),sa.forEach(f),P=y(va),H=_(va,"BUTTON",{class:!0,type:!0});var Pa=v(H);U=_(Pa,"DIV",{});var Ua=v(U);Y=M(Ua,B),Ua.forEach(f),Pa.forEach(f),va.forEach(f),S=y(Os),F=_(Os,"BUTTON",{class:!0,type:!0});var er=v(F);K=M(er,G),er.forEach(f),Os.forEach(f),Js.forEach(f),J=y(ss),Q=_(ss,"DIV",{class:!0});var aa=v(Q);X=_(aa,"DIV",{class:!0});var Xs=v(X);ie=_(Xs,"DIV",{class:!0});var ma=v(ie);ue=_(ma,"DIV",{class:!0});var Ba=v(ue);z=M(Ba,le),Ba.forEach(f),Z=y(ma),q=_(ma,"DIV",{class:!0});var tl=v(q);ae=M(tl,te),tl.forEach(f),ma.forEach(f),de=y(Xs),ne=_(Xs,"A",{class:!0,href:!0,target:!0});var tr=v(ne);fe=M(tr,oe),tr.forEach(f),Xs.forEach(f),ke=y(aa),Ee=_(aa,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Ee)!=="svelte-e1ltkf"&&(Ee.innerHTML=x),aa.forEach(f),_e=y(ss),Te=_(ss,"DIV",{class:!0});var or=v(Te);be=_(or,"DIV",{class:!0});var kr=v(be);Ie=_(kr,"DIV",{class:!0});var Ha=v(Ie);Me=_(Ha,"DIV",{class:!0});var Tr=v(Me);De=M(Tr,ce),Tr.forEach(f),Ce=y(Ha),Ue=_(Ha,"A",{class:!0,href:!0,target:!0});var ur=v(Ue);ye=M(ur,se),ur.forEach(f),Ha.forEach(f),kr.forEach(f),or.forEach(f),ss.forEach(f),Be=y(Vt),$e=_(Vt,"DIV",{class:!0});var xl=v($e);Le=_(xl,"DIV",{class:!0});var ra=v(Le);qe=M(ra,Ge),ra.forEach(f),Ke=y(xl),je=_(xl,"HR",{class:!0}),Ae=y(xl),Ve=_(xl,"DIV",{class:!0});var Ga=v(Ve);Pe=_(Ga,"DIV",{class:!0});var ds=v(Pe);It=M(ds,st),ds.forEach(f),at=y(Ga),Ze=_(Ga,"DIV",{class:!0});var fr=v(Ze);pt=_(fr,"SELECT",{class:!0,placeholder:!0});var Aa=v(pt);Lt=_(Aa,"OPTION",{});var Bs=v(Lt);Tt=M(Bs,Dt),Bs.forEach(f),_t=_(Aa,"OPTION",{});var cr=v(_t);rt=M(cr,tt),cr.forEach(f),nt=_(Aa,"OPTION",{});var ja=v(nt);dt=M(ja,ut),ja.forEach(f),Aa.forEach(f),fr.forEach(f),Ga.forEach(f),vt=y(xl),he=_(xl,"DIV",{class:!0});var Ts=v(he);Ne=_(Ts,"DIV",{class:!0});var _s=v(Ne);ot=M(_s,kt),_s.forEach(f),gt=y(Ts),ve(wt.$$.fragment,Ts),Ts.forEach(f),zt=y(xl),Kt=_(xl,"DIV",{class:!0});var es=v(Kt);Xt=_(es,"DIV",{class:!0});var Dr=v(Xt);ll=M(Dr,Gt),Dr.forEach(f),qt=y(es),ve(At.$$.fragment,es),es.forEach(f),we=y(xl),xe=_(xl,"DIV",{class:!0});var Ka=v(xe);Ot=_(Ka,"DIV",{class:!0});var hs=v(Ot);ct=M(hs,Ut),hs.forEach(f),Nt=y(Ka),ve($t.$$.fragment,Ka),Ka.forEach(f),He=y(xl),Sl&&Sl.l(xl),et=y(xl),ht=_(xl,"DIV",{class:!0});var jl=v(ht);Pt=_(jl,"DIV",{class:!0});var Ar=v(Pt);Je=_(Ar,"DIV",{class:!0});var dr=v(Je);sl=M(dr,hl),dr.forEach(f),Ar.forEach(f),Qt=y(jl),Zt=_(jl,"DIV",{class:!0});var Oe=v(Zt);rl=_(Oe,"INPUT",{class:!0,type:!0,placeholder:!0}),Oe.forEach(f),it=y(jl),yt=_(jl,"DIV",{class:!0});var ze=v(yt);dl=M(ze,Rt),Tl=y(ze),gl=_(ze,"SPAN",{class:!0});var ol=v(gl);Yt=M(ol,wl),ol.forEach(f),ze.forEach(f),jl.forEach(f),Nl=y(xl),Al=_(xl,"DIV",{class:!0});var gs=v(Al);pl=_(gs,"DIV",{class:!0});var na=v(pl);Jt=_(na,"DIV",{class:!0});var Ys=v(Jt);nl=_(Ys,"DIV",{class:!0});var Sa=v(nl);Yl=M(Sa,fl),Sa.forEach(f),as=y(Ys),cl=_(Ys,"DIV",{class:!0});var ya=v(cl);ve(Vl.$$.fragment,ya),ya.forEach(f),Ys.forEach(f),_l=y(na),Ol&&Ol.l(na),na.forEach(f),gs.forEach(f),xl.forEach(f),rs=y(Vt),kl=_(Vt,"DIV",{class:!0});var Zl=v(kl);Gl=_(Zl,"DIV",{class:!0});var $a=v(Gl);Ft=M($a,Pl),$a.forEach(f),Cl=y(Zl),xt=_(Zl,"HR",{class:!0}),Fs=y(Zl),El=_(Zl,"DIV",{class:!0});var ia=v(El);Se=_(ia,"DIV",{class:!0});var _r=v(Se);il=M(_r,lt),_r.forEach(f),el=y(ia),ve(ls.$$.fragment,ia),ia.forEach(f),As=y(Zl),Fl=_(Zl,"DIV",{class:!0});var Na=v(Fl);ns=_(Na,"DIV",{class:!0});var hr=v(ns);Xl=M(hr,Is),hr.forEach(f),St=y(Na),ve(Dl.$$.fragment,Na),Na.forEach(f),qs=y(Zl),ys=_(Zl,"DIV",{class:!0});var Ya=v(ys);Ql=_(Ya,"DIV",{class:!0});var ga=v(Ql);Ss=M(ga,Wl),ca=M(ga," ("),Ls=M(ga,is),Ms=M(ga,")"),ga.forEach(f),Qs=y(Ya),ve(ps.$$.fragment,Ya),Ya.forEach(f),ql=y(Zl),vs=_(Zl,"DIV",{class:!0});var Va=v(vs);$s=_(Va,"DIV",{class:!0});var pr=v($s);ws=_(pr,"DIV",{class:!0});var oa=v(ws);Rs=M(oa,os),oa.forEach(f),pr.forEach(f),ms=y(Va),Cs=_(Va,"DIV",{class:!0});var vr=v(Cs);us=_(vr,"INPUT",{class:!0,type:!0,placeholder:!0}),vr.forEach(f),Us=y(Va),fs=_(Va,"DIV",{class:!0});var mr=v(fs);xs=M(mr,Zs),mr.forEach(f),Va.forEach(f),ea=y(Zl),Ul=_(Zl,"DIV",{class:!0});var ua=v(Ul);Ns=_(ua,"DIV",{class:!0});var gr=v(Ns);js=_(gr,"DIV",{class:!0});var Fa=v(js);ba=M(Fa,ta),Fa.forEach(f),gr.forEach(f),Ra=y(ua),Vs=_(ua,"DIV",{class:!0});var Er=v(Vs);cs=_(Er,"INPUT",{class:!0,type:!0,placeholder:!0}),Er.forEach(f),ua.forEach(f),Zl.forEach(f),Vt.forEach(f),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(c,"class","border-gray-100 dark:border-gray-850 my-2"),o(E,"class","mb-1 text-xs font-medium flex space-x-2 items-center"),o($,"href",N="https://github.com/open-webui/open-webui/releases/tag/v"+l[1].latest),o($,"target","_blank"),o(k,"class","flex gap-1"),o(H,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(H,"type","button"),o(w,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(F,"class","text-xs px-3 py-1.5 bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(F,"type","button"),o(I,"class","flex w-full justify-between items-center"),o(p,"class","mb-2.5"),o(ue,"class",""),o(q,"class","text-xs text-gray-500"),o(ie,"class","text-xs pr-2"),o(ne,"class","flex-shrink-0 text-xs font-medium underline"),o(ne,"href","https://docs.openwebui.com/"),o(ne,"target","_blank"),o(X,"class","flex w-full justify-between items-center"),o(Ee,"class","mt-1"),o(Q,"class","mb-2.5"),o(Me,"class",""),o(Ue,"class","text-xs text-gray-500 hover:underline"),o(Ue,"href","https://docs.openwebui.com/enterprise"),o(Ue,"target","_blank"),o(Ie,"class","text-xs pr-2"),o(be,"class","flex w-full justify-between items-center"),o(Te,"class","mb-2.5"),o(t,"class","mb-3.5"),o(Le,"class","mb-2.5 text-base font-medium"),o(je,"class","border-gray-100 dark:border-gray-850 my-2"),o(Pe,"class","self-center text-xs font-medium"),Lt.__value="pending",ee(Lt,Lt.__value),_t.__value="user",ee(_t,_t.__value),nt.__value="admin",ee(nt,nt.__value),o(pt,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),o(pt,"placeholder","Select a role"),l[2].DEFAULT_USER_ROLE===void 0&&Hl(()=>l[13].call(pt)),o(Ze,"class","flex items-center relative"),o(Ve,"class","mb-2.5 flex w-full justify-between"),o(Ne,"class","self-center text-xs font-medium"),o(he,"class","mb-2.5 flex w-full justify-between pr-2"),o(Xt,"class","self-center text-xs font-medium"),o(Kt,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(Ot,"class","self-center text-xs font-medium"),o(xe,"class","mb-2.5 flex w-full justify-between pr-2"),o(Je,"class","self-center text-xs font-medium"),o(Pt,"class","flex w-full justify-between"),o(rl,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(rl,"type","text"),o(rl,"placeholder",'e.g.) "30m","1h", "10d". '),o(Zt,"class","flex mt-2 space-x-2"),o(gl,"class","text-gray-300 font-medium"),o(yt,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(ht,"class","mb-2.5 w-full justify-between"),o(nl,"class","font-medium"),o(cl,"class","mt-1"),o(Jt,"class","flex justify-between items-center text-sm"),o(pl,"class","mt-2 space-y-2 pr-1.5"),o(Al,"class","space-y-3"),o($e,"class","mb-3"),o(Gl,"class","mb-2.5 text-base font-medium"),o(xt,"class","border-gray-100 dark:border-gray-850 my-2"),o(Se,"class","self-center text-xs font-medium"),o(El,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(ns,"class","self-center text-xs font-medium"),o(Fl,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(Ql,"class","self-center text-xs font-medium"),o(ys,"class","mb-2.5 flex w-full items-center justify-between pr-2"),o(ws,"class","self-center text-xs font-medium"),o($s,"class","flex w-full justify-between"),o(us,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(us,"type","text"),o(us,"placeholder",'e.g.) "http://localhost:3000"'),o(Cs,"class","flex mt-2 space-x-2"),o(fs,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(vs,"class","mb-2.5 w-full justify-between"),o(js,"class","self-center text-xs font-medium"),o(Ns,"class","flex w-full justify-between"),o(cs,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(cs,"type","text"),o(cs,"placeholder","https://example.com/webhook"),o(Vs,"class","flex mt-2 space-x-2"),o(Ul,"class","w-full justify-between"),o(kl,"class","mb-3"),o(e,"class","")},m(Ye,Vt){R(Ye,e,Vt),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(t,u),n(t,p),n(p,E),n(E,h),n(h,g),n(p,b),n(p,I),n(I,w),n(w,k),me(T,k,null),n(k,D),n(k,$),n($,O),n(w,P),n(w,H),n(H,U),n(U,Y),n(I,S),n(I,F),n(F,K),n(t,J),n(t,Q),n(Q,X),n(X,ie),n(ie,ue),n(ue,z),n(ie,Z),n(ie,q),n(q,ae),n(X,de),n(X,ne),n(ne,fe),n(Q,ke),n(Q,Ee),n(t,_e),n(t,Te),n(Te,be),n(be,Ie),n(Ie,Me),n(Me,De),n(Ie,Ce),n(Ie,Ue),n(Ue,ye),n(e,Be),n(e,$e),n($e,Le),n(Le,qe),n($e,Ke),n($e,je),n($e,Ae),n($e,Ve),n(Ve,Pe),n(Pe,It),n(Ve,at),n(Ve,Ze),n(Ze,pt),n(pt,Lt),n(Lt,Tt),n(pt,_t),n(_t,rt),n(pt,nt),n(nt,dt),jt(pt,l[2].DEFAULT_USER_ROLE,!0),n($e,vt),n($e,he),n(he,Ne),n(Ne,ot),n(he,gt),me(wt,he,null),n($e,zt),n($e,Kt),n(Kt,Xt),n(Xt,ll),n(Kt,qt),me(At,Kt,null),n($e,we),n($e,xe),n(xe,Ot),n(Ot,ct),n(xe,Nt),me($t,xe,null),n($e,He),Sl&&Sl.m($e,null),n($e,et),n($e,ht),n(ht,Pt),n(Pt,Je),n(Je,sl),n(ht,Qt),n(ht,Zt),n(Zt,rl),ee(rl,l[2].JWT_EXPIRES_IN),n(ht,it),n(ht,yt),n(yt,dl),n(yt,Tl),n(yt,gl),n(gl,Yt),n($e,Nl),n($e,Al),n(Al,pl),n(pl,Jt),n(Jt,nl),n(nl,Yl),n(Jt,as),n(Jt,cl),me(Vl,cl,null),n(pl,_l),Ol&&Ol.m(pl,null),n(e,rs),n(e,kl),n(kl,Gl),n(Gl,Ft),n(kl,Cl),n(kl,xt),n(kl,Fs),n(kl,El),n(El,Se),n(Se,il),n(El,el),me(ls,El,null),n(kl,As),n(kl,Fl),n(Fl,ns),n(ns,Xl),n(Fl,St),me(Dl,Fl,null),n(kl,qs),n(kl,ys),n(ys,Ql),n(Ql,Ss),n(Ql,ca),n(Ql,Ls),n(Ql,Ms),n(ys,Qs),me(ps,ys,null),n(kl,ql),n(kl,vs),n(vs,$s),n($s,ws),n(ws,Rs),n(vs,ms),n(vs,Cs),n(Cs,us),ee(us,l[2].WEBUI_URL),n(vs,Us),n(vs,fs),n(fs,xs),n(kl,ea),n(kl,Ul),n(Ul,Ns),n(Ns,js),n(js,ba),n(Ul,Ra),n(Ul,Vs),n(Vs,cs),ee(cs,l[3]),al=!0,Ia||(Ca=[re(H,"click",l[11]),re(F,"click",l[12]),re(pt,"change",l[13]),re(rl,"input",l[19]),re(us,"input",l[37]),re(cs,"input",l[38])],Ia=!0)},p(Ye,Vt){var zs;(!al||Vt[0]&64)&&a!==(a=Ye[6].t("General")+"")&&C(i,a),(!al||Vt[0]&64)&&m!==(m=Ye[6].t("Version")+"")&&C(g,m);const ss={};Vt[1]&1024&&(ss.$$scope={dirty:Vt,ctx:Ye}),T.$set(ss),(!al||Vt[0]&67)&&V!==(V=(Ye[0]===null?Ye[6].t("Checking for updates..."):Ye[0]?`(v${Ye[1].latest} ${Ye[6].t("available!")})`:Ye[6].t("(latest)"))+"")&&C(O,V),(!al||Vt[0]&2&&N!==(N="https://github.com/open-webui/open-webui/releases/tag/v"+Ye[1].latest))&&o($,"href",N),(!al||Vt[0]&64)&&B!==(B=Ye[6].t("See what's new")+"")&&C(Y,B),(!al||Vt[0]&64)&&G!==(G=Ye[6].t("Check for updates")+"")&&C(K,G),(!al||Vt[0]&64)&&le!==(le=Ye[6].t("Help")+"")&&C(z,le),(!al||Vt[0]&64)&&te!==(te=Ye[6].t("Discover how to use Open WebUI and seek support from the community.")+"")&&C(ae,te),(!al||Vt[0]&64)&&oe!==(oe=Ye[6].t("Documentation")+"")&&C(fe,oe),(!al||Vt[0]&64)&&ce!==(ce=Ye[6].t("License")+"")&&C(De,ce),(!al||Vt[0]&64)&&se!==(se=Ye[6].t("Upgrade to a licensed plan for enhanced capabilities, including custom theming and branding, and dedicated support.")+"")&&C(ye,se),(!al||Vt[0]&64)&&Ge!==(Ge=Ye[6].t("Authentication")+"")&&C(qe,Ge),(!al||Vt[0]&64)&&st!==(st=Ye[6].t("Default User Role")+"")&&C(It,st),(!al||Vt[0]&64)&&Dt!==(Dt=Ye[6].t("pending")+"")&&C(Tt,Dt),(!al||Vt[0]&64)&&tt!==(tt=Ye[6].t("user")+"")&&C(rt,tt),(!al||Vt[0]&64)&&ut!==(ut=Ye[6].t("admin")+"")&&C(dt,ut),Vt[0]&4&&jt(pt,Ye[2].DEFAULT_USER_ROLE),(!al||Vt[0]&64)&&kt!==(kt=Ye[6].t("Enable New Sign Ups")+"")&&C(ot,kt);const la={};!Mt&&Vt[0]&4&&(Mt=!0,la.state=Ye[2].ENABLE_SIGNUP,Xe(()=>Mt=!1)),wt.$set(la),(!al||Vt[0]&64)&&Gt!==(Gt=Ye[6].t("Show Admin Details in Account Pending Overlay")+"")&&C(ll,Gt);const Js={};!Re&&Vt[0]&4&&(Re=!0,Js.state=Ye[2].SHOW_ADMIN_DETAILS,Xe(()=>Re=!1)),At.$set(Js),(!al||Vt[0]&64)&&Ut!==(Ut=Ye[6].t("Enable API Key")+"")&&C(ct,Ut);const Da={};!Ct&&Vt[0]&4&&(Ct=!0,Da.state=Ye[2].ENABLE_API_KEY,Xe(()=>Ct=!1)),$t.$set(Da),(zs=Ye[2])!=null&&zs.ENABLE_API_KEY?Sl?(Sl.p(Ye,Vt),Vt[0]&4&&j(Sl,1)):(Sl=Bn(Ye),Sl.c(),j(Sl,1),Sl.m($e,et)):Sl&&(Et(),W(Sl,1,1,()=>{Sl=null}),bt()),(!al||Vt[0]&64)&&hl!==(hl=Ye[6].t("JWT Expiration")+"")&&C(sl,hl),Vt[0]&4&&rl.value!==Ye[2].JWT_EXPIRES_IN&&ee(rl,Ye[2].JWT_EXPIRES_IN),(!al||Vt[0]&64)&&Rt!==(Rt=Ye[6].t("Valid time units:")+"")&&C(dl,Rt),(!al||Vt[0]&64)&&wl!==(wl=Ye[6].t("'s', 'm', 'h', 'd', 'w' or '-1' for no expiration.")+"")&&C(Yt,wl),(!al||Vt[0]&64)&&fl!==(fl=Ye[6].t("LDAP")+"")&&C(Yl,fl);const ks={};!zl&&Vt[0]&16&&(zl=!0,ks.state=Ye[4],Xe(()=>zl=!1)),Vl.$set(ks),Ye[4]?Ol?(Ol.p(Ye,Vt),Vt[0]&16&&j(Ol,1)):(Ol=Gn(Ye),Ol.c(),j(Ol,1),Ol.m(pl,null)):Ol&&(Et(),W(Ol,1,1,()=>{Ol=null}),bt()),(!al||Vt[0]&64)&&Pl!==(Pl=Ye[6].t("Features")+"")&&C(Ft,Pl),(!al||Vt[0]&64)&&lt!==(lt=Ye[6].t("Enable Community Sharing")+"")&&C(il,lt);const Os={};!Ds&&Vt[0]&4&&(Ds=!0,Os.state=Ye[2].ENABLE_COMMUNITY_SHARING,Xe(()=>Ds=!1)),ls.$set(Os),(!al||Vt[0]&64)&&Is!==(Is=Ye[6].t("Enable Message Rating")+"")&&C(Xl,Is);const va={};!Ws&&Vt[0]&4&&(Ws=!0,va.state=Ye[2].ENABLE_MESSAGE_RATING,Xe(()=>Ws=!1)),Dl.$set(va),(!al||Vt[0]&64)&&Wl!==(Wl=Ye[6].t("Channels")+"")&&C(Ss,Wl),(!al||Vt[0]&64)&&is!==(is=Ye[6].t("Beta")+"")&&C(Ls,is);const sa={};!Gs&&Vt[0]&4&&(Gs=!0,sa.state=Ye[2].ENABLE_CHANNELS,Xe(()=>Gs=!1)),ps.$set(sa),(!al||Vt[0]&64)&&os!==(os=Ye[6].t("WebUI URL")+"")&&C(Rs,os),Vt[0]&4&&us.value!==Ye[2].WEBUI_URL&&ee(us,Ye[2].WEBUI_URL),(!al||Vt[0]&64)&&Zs!==(Zs=Ye[6].t("Enter the public URL of your WebUI. This URL will be used to generate links in the notifications.")+"")&&C(xs,Zs),(!al||Vt[0]&64)&&ta!==(ta=Ye[6].t("Webhook URL")+"")&&C(ba,ta),Vt[0]&8&&cs.value!==Ye[3]&&ee(cs,Ye[3])},i(Ye){al||(j(T.$$.fragment,Ye),j(wt.$$.fragment,Ye),j(At.$$.fragment,Ye),j($t.$$.fragment,Ye),j(Sl),j(Vl.$$.fragment,Ye),j(Ol),j(ls.$$.fragment,Ye),j(Dl.$$.fragment,Ye),j(ps.$$.fragment,Ye),al=!0)},o(Ye){W(T.$$.fragment,Ye),W(wt.$$.fragment,Ye),W(At.$$.fragment,Ye),W($t.$$.fragment,Ye),W(Sl),W(Vl.$$.fragment,Ye),W(Ol),W(ls.$$.fragment,Ye),W(Dl.$$.fragment,Ye),W(ps.$$.fragment,Ye),al=!1},d(Ye){Ye&&f(e),ge(T),ge(wt),ge(At),ge($t),Sl&&Sl.d(),ge(Vl),Ol&&Ol.d(),ge(ls),ge(Dl),ge(ps),Ia=!1,bl(Ca)}}}function Hf(l){let e,t;return{c(){e=L("v"),t=L(Kr)},l(s){e=M(s,"v"),t=M(s,Kr)},m(s,a){R(s,e,a),R(s,t,a)},p:ft,d(s){s&&(f(e),f(t))}}}function Bn(l){var b;let e,t,s=l[6].t("API Key Endpoint Restrictions")+"",a,i,r,c,u,p,E;function h(I){l[17](I)}let m={};l[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS!==void 0&&(m.state=l[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS),r=new yl({props:m}),We.push(()=>Qe(r,"state",h));let g=((b=l[2])==null?void 0:b.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS)&&Hn(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),u=A(),g&&g.c(),p=ul(),this.h()},l(I){e=_(I,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=M(k,s),k.forEach(f),i=y(w),ve(r.$$.fragment,w),w.forEach(f),u=y(I),g&&g.l(I),p=ul(),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(e,"class","mb-2.5 flex w-full justify-between pr-2")},m(I,w){R(I,e,w),n(e,t),n(t,a),n(e,i),me(r,e,null),R(I,u,w),g&&g.m(I,w),R(I,p,w),E=!0},p(I,w){var T;(!E||w[0]&64)&&s!==(s=I[6].t("API Key Endpoint Restrictions")+"")&&C(a,s);const k={};!c&&w[0]&4&&(c=!0,k.state=I[2].ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,Xe(()=>c=!1)),r.$set(k),(T=I[2])!=null&&T.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS?g?g.p(I,w):(g=Hn(I),g.c(),g.m(p.parentNode,p)):g&&(g.d(1),g=null)},i(I){E||(j(r.$$.fragment,I),E=!0)},o(I){W(r.$$.fragment,I),E=!1},d(I){I&&(f(e),f(u),f(p)),ge(r),g&&g.d(I)}}}function Hn(l){let e,t,s=l[6].t("Allowed Endpoints")+"",a,i,r,c,u,p,E=l[6].t("To learn more about available endpoints, visit our documentation.")+"",h,m,g;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("input"),c=A(),u=d("div"),p=d("a"),h=L(E),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var w=v(t);a=M(w,s),w.forEach(f),i=y(I),r=_(I,"INPUT",{class:!0,type:!0,placeholder:!0}),c=y(I),u=_(I,"DIV",{class:!0});var k=v(u);p=_(k,"A",{href:!0,target:!0,class:!0});var T=v(p);h=M(T,E),T.forEach(f),k.forEach(f),I.forEach(f),this.h()},h(){o(t,"class","text-xs font-medium"),o(r,"class","w-full mt-1 rounded-lg text-sm dark:text-gray-300 bg-transparent outline-hidden"),o(r,"type","text"),o(r,"placeholder","e.g.) /api/v1/messages, /api/v1/channels"),o(p,"href","https://docs.openwebui.com/getting-started/api-endpoints"),o(p,"target","_blank"),o(p,"class","text-gray-300 font-medium underline"),o(u,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(e,"class","flex w-full flex-col pr-2")},m(b,I){R(b,e,I),n(e,t),n(t,a),n(e,i),n(e,r),ee(r,l[2].API_KEY_ALLOWED_ENDPOINTS),n(e,c),n(e,u),n(u,p),n(p,h),m||(g=re(r,"input",l[18]),m=!0)},p(b,I){I[0]&64&&s!==(s=b[6].t("Allowed Endpoints")+"")&&C(a,s),I[0]&4&&r.value!==b[2].API_KEY_ALLOWED_ENDPOINTS&&ee(r,b[2].API_KEY_ALLOWED_ENDPOINTS),I[0]&64&&E!==(E=b[6].t("To learn more about available endpoints, visit our documentation.")+"")&&C(h,E)},d(b){b&&f(e),m=!1,g()}}}function Gn(l){let e,t,s,a,i=l[6].t("Label")+"",r,c,u,p,E,h,m,g,b,I,w=l[6].t("Host")+"",k,T,D,$,V,O,N,P=l[6].t("Port")+"",H,U,B,Y,S,F,G,K=l[6].t("Application DN")+"",J,Q,X,ie,ue,le,z=l[6].t("Application DN Password")+"",Z,q,te,ae,de,ne,oe,fe,ke=l[6].t("Attribute for Mail")+"",Ee,x,_e,Te,be,Ie,Me,ce=l[6].t("Attribute for Username")+"",De,Ce,Ue,se,ye,Be,$e,Le=l[6].t("Search Base")+"",Ge,qe,Ke,je,Ae,Ve,Pe,st=l[6].t("Search Filters")+"",It,at,Ze,pt,Lt,Dt,Tt,_t=l[6].t("Click here for filter guides.")+"",tt,rt,nt,ut,dt,vt=l[6].t("TLS")+"",he,Ne,kt,ot,gt,wt,Mt,zt,Kt;B=new Ht({props:{placement:"top-start",content:l[6].t("Default to 389 or 636 if TLS is enabled"),className:"w-full",$$slots:{default:[Gf]},$$scope:{ctx:l}}}),X=new Ht({props:{content:l[6].t("The Application Account DN you bind with for search"),placement:"top-start",$$slots:{default:[jf]},$$scope:{ctx:l}}});function Xt(Re){l[26](Re)}let Gt={placeholder:l[6].t("Enter Application DN Password")};l[5].app_dn_password!==void 0&&(Gt.value=l[5].app_dn_password),te=new $l({props:Gt}),We.push(()=>Qe(te,"value",Xt)),_e=new Ht({props:{content:l[6].t("The LDAP attribute that maps to the mail that users use to sign in."),placement:"top-start",$$slots:{default:[Kf]},$$scope:{ctx:l}}}),Ue=new Ht({props:{content:l[6].t("The LDAP attribute that maps to the username that users use to sign in."),placement:"top-start",$$slots:{default:[Yf]},$$scope:{ctx:l}}}),Ke=new Ht({props:{content:l[6].t("The base to search for users"),placement:"top-start",$$slots:{default:[Ff]},$$scope:{ctx:l}}});function ll(Re){l[31](Re)}let qt={};l[5].use_tls!==void 0&&(qt.state=l[5].use_tls),ot=new yl({props:qt}),We.push(()=>Qe(ot,"state",ll));let At=l[5].use_tls&&jn(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("input"),E=A(),h=d("div"),m=A(),g=d("div"),b=d("div"),I=d("div"),k=L(w),T=A(),D=d("input"),V=A(),O=d("div"),N=d("div"),H=L(P),U=A(),pe(B.$$.fragment),Y=A(),S=d("div"),F=d("div"),G=d("div"),J=L(K),Q=A(),pe(X.$$.fragment),ie=A(),ue=d("div"),le=d("div"),Z=L(z),q=A(),pe(te.$$.fragment),de=A(),ne=d("div"),oe=d("div"),fe=d("div"),Ee=L(ke),x=A(),pe(_e.$$.fragment),Te=A(),be=d("div"),Ie=d("div"),Me=d("div"),De=L(ce),Ce=A(),pe(Ue.$$.fragment),se=A(),ye=d("div"),Be=d("div"),$e=d("div"),Ge=L(Le),qe=A(),pe(Ke.$$.fragment),je=A(),Ae=d("div"),Ve=d("div"),Pe=d("div"),It=L(st),at=A(),Ze=d("input"),Lt=A(),Dt=d("div"),Tt=d("a"),tt=L(_t),rt=A(),nt=d("div"),ut=d("div"),dt=d("div"),he=L(vt),Ne=A(),kt=d("div"),pe(ot.$$.fragment),wt=A(),At&&At.c(),this.h()},l(Re){e=_(Re,"DIV",{class:!0});var we=v(e);t=_(we,"DIV",{class:!0});var xe=v(t);s=_(xe,"DIV",{class:!0});var Ot=v(s);a=_(Ot,"DIV",{class:!0});var Ut=v(a);r=M(Ut,i),Ut.forEach(f),c=y(Ot),u=_(Ot,"INPUT",{class:!0,placeholder:!0}),Ot.forEach(f),E=y(xe),h=_(xe,"DIV",{class:!0}),v(h).forEach(f),xe.forEach(f),m=y(we),g=_(we,"DIV",{class:!0});var ct=v(g);b=_(ct,"DIV",{class:!0});var Nt=v(b);I=_(Nt,"DIV",{class:!0});var $t=v(I);k=M($t,w),$t.forEach(f),T=y(Nt),D=_(Nt,"INPUT",{class:!0,placeholder:!0}),Nt.forEach(f),V=y(ct),O=_(ct,"DIV",{class:!0});var Ct=v(O);N=_(Ct,"DIV",{class:!0});var He=v(N);H=M(He,P),He.forEach(f),U=y(Ct),ve(B.$$.fragment,Ct),Ct.forEach(f),ct.forEach(f),Y=y(we),S=_(we,"DIV",{class:!0});var et=v(S);F=_(et,"DIV",{class:!0});var ht=v(F);G=_(ht,"DIV",{class:!0});var Pt=v(G);J=M(Pt,K),Pt.forEach(f),Q=y(ht),ve(X.$$.fragment,ht),ht.forEach(f),ie=y(et),ue=_(et,"DIV",{class:!0});var Je=v(ue);le=_(Je,"DIV",{class:!0});var hl=v(le);Z=M(hl,z),hl.forEach(f),q=y(Je),ve(te.$$.fragment,Je),Je.forEach(f),et.forEach(f),de=y(we),ne=_(we,"DIV",{class:!0});var sl=v(ne);oe=_(sl,"DIV",{class:!0});var Qt=v(oe);fe=_(Qt,"DIV",{class:!0});var Zt=v(fe);Ee=M(Zt,ke),Zt.forEach(f),x=y(Qt),ve(_e.$$.fragment,Qt),Qt.forEach(f),sl.forEach(f),Te=y(we),be=_(we,"DIV",{class:!0});var rl=v(be);Ie=_(rl,"DIV",{class:!0});var it=v(Ie);Me=_(it,"DIV",{class:!0});var yt=v(Me);De=M(yt,ce),yt.forEach(f),Ce=y(it),ve(Ue.$$.fragment,it),it.forEach(f),rl.forEach(f),se=y(we),ye=_(we,"DIV",{class:!0});var Rt=v(ye);Be=_(Rt,"DIV",{class:!0});var dl=v(Be);$e=_(dl,"DIV",{class:!0});var Tl=v($e);Ge=M(Tl,Le),Tl.forEach(f),qe=y(dl),ve(Ke.$$.fragment,dl),dl.forEach(f),Rt.forEach(f),je=y(we),Ae=_(we,"DIV",{class:!0});var gl=v(Ae);Ve=_(gl,"DIV",{class:!0});var wl=v(Ve);Pe=_(wl,"DIV",{class:!0});var Yt=v(Pe);It=M(Yt,st),Yt.forEach(f),at=y(wl),Ze=_(wl,"INPUT",{class:!0,placeholder:!0}),wl.forEach(f),gl.forEach(f),Lt=y(we),Dt=_(we,"DIV",{class:!0});var Nl=v(Dt);Tt=_(Nl,"A",{class:!0,href:!0,target:!0});var Al=v(Tt);tt=M(Al,_t),Al.forEach(f),Nl.forEach(f),rt=y(we),nt=_(we,"DIV",{});var pl=v(nt);ut=_(pl,"DIV",{class:!0});var Jt=v(ut);dt=_(Jt,"DIV",{class:!0});var nl=v(dt);he=M(nl,vt),nl.forEach(f),Ne=y(Jt),kt=_(Jt,"DIV",{class:!0});var fl=v(kt);ve(ot.$$.fragment,fl),fl.forEach(f),Jt.forEach(f),wt=y(pl),At&&At.l(pl),pl.forEach(f),we.forEach(f),this.h()},h(){o(a,"class","self-center text-xs font-medium min-w-fit mb-1"),o(u,"class","w-full bg-transparent outline-hidden py-0.5"),u.required=!0,o(u,"placeholder",p=l[6].t("Enter server label")),o(s,"class","w-full"),o(h,"class","w-full"),o(t,"class","flex w-full gap-2"),o(I,"class","self-center text-xs font-medium min-w-fit mb-1"),o(D,"class","w-full bg-transparent outline-hidden py-0.5"),D.required=!0,o(D,"placeholder",$=l[6].t("Enter server host")),o(b,"class","w-full"),o(N,"class","self-center text-xs font-medium min-w-fit mb-1"),o(O,"class","w-full"),o(g,"class","flex w-full gap-2"),o(G,"class","self-center text-xs font-medium min-w-fit mb-1"),o(F,"class","w-full"),o(le,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ue,"class","w-full"),o(S,"class","flex w-full gap-2"),o(fe,"class","self-center text-xs font-medium min-w-fit mb-1"),o(oe,"class","w-full"),o(ne,"class","flex w-full gap-2"),o(Me,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ie,"class","w-full"),o(be,"class","flex w-full gap-2"),o($e,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Be,"class","w-full"),o(ye,"class","flex w-full gap-2"),o(Pe,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ze,"class","w-full bg-transparent outline-hidden py-0.5"),o(Ze,"placeholder",pt=l[6].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")),o(Ve,"class","w-full"),o(Ae,"class","flex w-full gap-2"),o(Tt,"class","text-gray-300 font-medium underline"),o(Tt,"href","https://ldap.com/ldap-filters/"),o(Tt,"target","_blank"),o(Dt,"class","text-xs text-gray-400 dark:text-gray-500"),o(dt,"class","font-medium"),o(kt,"class","mt-1"),o(ut,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col gap-1")},m(Re,we){R(Re,e,we),n(e,t),n(t,s),n(s,a),n(a,r),n(s,c),n(s,u),ee(u,l[5].label),n(t,E),n(t,h),n(e,m),n(e,g),n(g,b),n(b,I),n(I,k),n(b,T),n(b,D),ee(D,l[5].host),n(g,V),n(g,O),n(O,N),n(N,H),n(O,U),me(B,O,null),n(e,Y),n(e,S),n(S,F),n(F,G),n(G,J),n(F,Q),me(X,F,null),n(S,ie),n(S,ue),n(ue,le),n(le,Z),n(ue,q),me(te,ue,null),n(e,de),n(e,ne),n(ne,oe),n(oe,fe),n(fe,Ee),n(oe,x),me(_e,oe,null),n(e,Te),n(e,be),n(be,Ie),n(Ie,Me),n(Me,De),n(Ie,Ce),me(Ue,Ie,null),n(e,se),n(e,ye),n(ye,Be),n(Be,$e),n($e,Ge),n(Be,qe),me(Ke,Be,null),n(e,je),n(e,Ae),n(Ae,Ve),n(Ve,Pe),n(Pe,It),n(Ve,at),n(Ve,Ze),ee(Ze,l[5].search_filters),n(e,Lt),n(e,Dt),n(Dt,Tt),n(Tt,tt),n(e,rt),n(e,nt),n(nt,ut),n(ut,dt),n(dt,he),n(ut,Ne),n(ut,kt),me(ot,kt,null),n(nt,wt),At&&At.m(nt,null),Mt=!0,zt||(Kt=[re(u,"input",l[22]),re(D,"input",l[23]),re(Ze,"input",l[30])],zt=!0)},p(Re,we){(!Mt||we[0]&64)&&i!==(i=Re[6].t("Label")+"")&&C(r,i),(!Mt||we[0]&64&&p!==(p=Re[6].t("Enter server label")))&&o(u,"placeholder",p),we[0]&32&&u.value!==Re[5].label&&ee(u,Re[5].label),(!Mt||we[0]&64)&&w!==(w=Re[6].t("Host")+"")&&C(k,w),(!Mt||we[0]&64&&$!==($=Re[6].t("Enter server host")))&&o(D,"placeholder",$),we[0]&32&&D.value!==Re[5].host&&ee(D,Re[5].host),(!Mt||we[0]&64)&&P!==(P=Re[6].t("Port")+"")&&C(H,P);const xe={};we[0]&64&&(xe.content=Re[6].t("Default to 389 or 636 if TLS is enabled")),we[0]&96|we[1]&1024&&(xe.$$scope={dirty:we,ctx:Re}),B.$set(xe),(!Mt||we[0]&64)&&K!==(K=Re[6].t("Application DN")+"")&&C(J,K);const Ot={};we[0]&64&&(Ot.content=Re[6].t("The Application Account DN you bind with for search")),we[0]&96|we[1]&1024&&(Ot.$$scope={dirty:we,ctx:Re}),X.$set(Ot),(!Mt||we[0]&64)&&z!==(z=Re[6].t("Application DN Password")+"")&&C(Z,z);const Ut={};we[0]&64&&(Ut.placeholder=Re[6].t("Enter Application DN Password")),!ae&&we[0]&32&&(ae=!0,Ut.value=Re[5].app_dn_password,Xe(()=>ae=!1)),te.$set(Ut),(!Mt||we[0]&64)&&ke!==(ke=Re[6].t("Attribute for Mail")+"")&&C(Ee,ke);const ct={};we[0]&64&&(ct.content=Re[6].t("The LDAP attribute that maps to the mail that users use to sign in.")),we[0]&96|we[1]&1024&&(ct.$$scope={dirty:we,ctx:Re}),_e.$set(ct),(!Mt||we[0]&64)&&ce!==(ce=Re[6].t("Attribute for Username")+"")&&C(De,ce);const Nt={};we[0]&64&&(Nt.content=Re[6].t("The LDAP attribute that maps to the username that users use to sign in.")),we[0]&96|we[1]&1024&&(Nt.$$scope={dirty:we,ctx:Re}),Ue.$set(Nt),(!Mt||we[0]&64)&&Le!==(Le=Re[6].t("Search Base")+"")&&C(Ge,Le);const $t={};we[0]&64&&($t.content=Re[6].t("The base to search for users")),we[0]&96|we[1]&1024&&($t.$$scope={dirty:we,ctx:Re}),Ke.$set($t),(!Mt||we[0]&64)&&st!==(st=Re[6].t("Search Filters")+"")&&C(It,st),(!Mt||we[0]&64&&pt!==(pt=Re[6].t("Example: (&(objectClass=inetOrgPerson)(uid=%s))")))&&o(Ze,"placeholder",pt),we[0]&32&&Ze.value!==Re[5].search_filters&&ee(Ze,Re[5].search_filters),(!Mt||we[0]&64)&&_t!==(_t=Re[6].t("Click here for filter guides.")+"")&&C(tt,_t),(!Mt||we[0]&64)&&vt!==(vt=Re[6].t("TLS")+"")&&C(he,vt);const Ct={};!gt&&we[0]&32&&(gt=!0,Ct.state=Re[5].use_tls,Xe(()=>gt=!1)),ot.$set(Ct),Re[5].use_tls?At?(At.p(Re,we),we[0]&32&&j(At,1)):(At=jn(Re),At.c(),j(At,1),At.m(nt,null)):At&&(Et(),W(At,1,1,()=>{At=null}),bt())},i(Re){Mt||(j(B.$$.fragment,Re),j(X.$$.fragment,Re),j(te.$$.fragment,Re),j(_e.$$.fragment,Re),j(Ue.$$.fragment,Re),j(Ke.$$.fragment,Re),j(ot.$$.fragment,Re),j(At),Mt=!0)},o(Re){W(B.$$.fragment,Re),W(X.$$.fragment,Re),W(te.$$.fragment,Re),W(_e.$$.fragment,Re),W(Ue.$$.fragment,Re),W(Ke.$$.fragment,Re),W(ot.$$.fragment,Re),W(At),Mt=!1},d(Re){Re&&f(e),ge(B),ge(X),ge(te),ge(_e),ge(Ue),ge(Ke),ge(ot),At&&At.d(),zt=!1,bl(Kt)}}}function Gf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),o(e,"type","number"),o(e,"placeholder",t=l[6].t("Enter server port"))},m(i,r){R(i,e,r),ee(e,l[5].port),s||(a=re(e,"input",l[24]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Enter server port"))&&o(e,"placeholder",t),r[0]&32&&ts(e.value)!==i[5].port&&ee(e,i[5].port)},d(i){i&&f(e),s=!1,a()}}}function jf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Enter Application DN"))},m(i,r){R(i,e,r),ee(e,l[5].app_dn),s||(a=re(e,"input",l[25]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Enter Application DN"))&&o(e,"placeholder",t),r[0]&32&&e.value!==i[5].app_dn&&ee(e,i[5].app_dn)},d(i){i&&f(e),s=!1,a()}}}function Kf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: mail"))},m(i,r){R(i,e,r),ee(e,l[5].attribute_for_mail),s||(a=re(e,"input",l[27]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Example: mail"))&&o(e,"placeholder",t),r[0]&32&&e.value!==i[5].attribute_for_mail&&ee(e,i[5].attribute_for_mail)},d(i){i&&f(e),s=!1,a()}}}function Yf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: sAMAccountName or uid or userPrincipalName"))},m(i,r){R(i,e,r),ee(e,l[5].attribute_for_username),s||(a=re(e,"input",l[28]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Example: sAMAccountName or uid or userPrincipalName"))&&o(e,"placeholder",t),r[0]&32&&e.value!==i[5].attribute_for_username&&ee(e,i[5].attribute_for_username)},d(i){i&&f(e),s=!1,a()}}}function Ff(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),e.required=!0,o(e,"placeholder",t=l[6].t("Example: ou=users,dc=foo,dc=example"))},m(i,r){R(i,e,r),ee(e,l[5].search_base),s||(a=re(e,"input",l[29]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Example: ou=users,dc=foo,dc=example"))&&o(e,"placeholder",t),r[0]&32&&e.value!==i[5].search_base&&ee(e,i[5].search_base)},d(i){i&&f(e),s=!1,a()}}}function jn(l){let e,t,s,a=l[6].t("Certificate Path")+"",i,r,c,u,p,E,h,m,g=l[6].t("Ciphers")+"",b,I,w,k,T,D,$,V;return w=new Ht({props:{content:l[6].t("Default to ALL"),placement:"top-start",$$slots:{default:[Wf]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("input"),p=A(),E=d("div"),h=d("div"),m=d("div"),b=L(g),I=A(),pe(w.$$.fragment),k=A(),T=d("div"),this.h()},l(O){e=_(O,"DIV",{class:!0});var N=v(e);t=_(N,"DIV",{class:!0});var P=v(t);s=_(P,"DIV",{class:!0});var H=v(s);i=M(H,a),H.forEach(f),r=y(P),c=_(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(f),N.forEach(f),p=y(O),E=_(O,"DIV",{class:!0});var U=v(E);h=_(U,"DIV",{class:!0});var B=v(h);m=_(B,"DIV",{class:!0});var Y=v(m);b=M(Y,g),Y.forEach(f),I=y(B),ve(w.$$.fragment,B),B.forEach(f),k=y(U),T=_(U,"DIV",{class:!0}),v(T).forEach(f),U.forEach(f),this.h()},h(){o(s,"class","self-center text-xs font-medium min-w-fit mb-1 mt-1"),o(c,"class","w-full bg-transparent outline-hidden py-0.5"),c.required=!0,o(c,"placeholder",u=l[6].t("Enter certificate path")),o(t,"class","w-full"),o(e,"class","flex w-full gap-2"),o(m,"class","self-center text-xs font-medium min-w-fit mb-1"),o(h,"class","w-full"),o(T,"class","w-full"),o(E,"class","flex w-full gap-2")},m(O,N){R(O,e,N),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),ee(c,l[5].certificate_path),R(O,p,N),R(O,E,N),n(E,h),n(h,m),n(m,b),n(h,I),me(w,h,null),n(E,k),n(E,T),D=!0,$||(V=re(c,"input",l[32]),$=!0)},p(O,N){(!D||N[0]&64)&&a!==(a=O[6].t("Certificate Path")+"")&&C(i,a),(!D||N[0]&64&&u!==(u=O[6].t("Enter certificate path")))&&o(c,"placeholder",u),N[0]&32&&c.value!==O[5].certificate_path&&ee(c,O[5].certificate_path),(!D||N[0]&64)&&g!==(g=O[6].t("Ciphers")+"")&&C(b,g);const P={};N[0]&64&&(P.content=O[6].t("Default to ALL")),N[0]&96|N[1]&1024&&(P.$$scope={dirty:N,ctx:O}),w.$set(P)},i(O){D||(j(w.$$.fragment,O),D=!0)},o(O){W(w.$$.fragment,O),D=!1},d(O){O&&(f(e),f(p),f(E)),ge(w),$=!1,V()}}}function Wf(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full bg-transparent outline-hidden py-0.5"),o(e,"placeholder",t=l[6].t("Example: ALL"))},m(i,r){R(i,e,r),ee(e,l[5].ciphers),s||(a=re(e,"input",l[33]),s=!0)},p(i,r){r[0]&64&&t!==(t=i[6].t("Example: ALL"))&&o(e,"placeholder",t),r[0]&32&&e.value!==i[5].ciphers&&ee(e,i[5].ciphers)},d(i){i&&f(e),s=!1,a()}}}function qf(l){let e,t,s,a,i,r=l[6].t("Save")+"",c,u,p,E,h=l[2]!==null&&Un(l);return{c(){e=d("form"),t=d("div"),h&&h.c(),s=A(),a=d("div"),i=d("button"),c=L(r),this.h()},l(m){e=_(m,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);h&&h.l(b),b.forEach(f),s=y(g),a=_(g,"DIV",{class:!0});var I=v(a);i=_(I,"BUTTON",{class:!0,type:!0});var w=v(i);c=M(w,r),w.forEach(f),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","mt-0.5 space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){R(m,e,g),n(e,t),h&&h.m(t,null),n(e,s),n(e,a),n(a,i),n(i,c),u=!0,p||(E=re(e,"submit",Hs(l[39])),p=!0)},p(m,g){m[2]!==null?h?(h.p(m,g),g[0]&4&&j(h,1)):(h=Un(m),h.c(),j(h,1),h.m(t,null)):h&&(Et(),W(h,1,1,()=>{h=null}),bt()),(!u||g[0]&64)&&r!==(r=m[6].t("Save")+"")&&C(c,r)},i(m){u||(j(h),u=!0)},o(m){W(h),u=!1},d(m){m&&f(e),h&&h.d(),p=!1,E()}}}function Zf(l,e,t){let s;const a=Kl("i18n");Wt(l,a,de=>t(6,s=de));let{saveHandler:i}=e,r=null,c={current:"",latest:""},u=null,p="",E=!1,h={label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const m=async()=>{t(0,r=null),t(1,c=await Iu(localStorage.token).catch(de=>({current:Kr,latest:Kr}))),console.log(c),t(0,r=Qu(c.latest,c.current)),console.log(r)},g=async()=>{if(!E)return;await Xu(localStorage.token,h).catch(ne=>(Fe.error(`${ne}`),null))&&Fe.success(s.t("LDAP server updated"))},b=async()=>{t(3,p=await wu(localStorage.token,p));const de=await Ju(localStorage.token,u);await g(),de?i():Fe.error(a.t("Failed to update settings"))};bs(async()=>{m(),await Promise.all([(async()=>{t(2,u=await Wu(localStorage.token))})(),(async()=>{t(3,p=await bu(localStorage.token))})(),(async()=>{t(5,h=await qu(localStorage.token))})()]);const de=await Zu(localStorage.token);t(4,E=de.ENABLE_LDAP)});const I=()=>{gu.set(!0)},w=()=>{m()};function k(){u.DEFAULT_USER_ROLE=Bl(this),t(2,u)}function T(de){l.$$.not_equal(u.ENABLE_SIGNUP,de)&&(u.ENABLE_SIGNUP=de,t(2,u))}function D(de){l.$$.not_equal(u.SHOW_ADMIN_DETAILS,de)&&(u.SHOW_ADMIN_DETAILS=de,t(2,u))}function $(de){l.$$.not_equal(u.ENABLE_API_KEY,de)&&(u.ENABLE_API_KEY=de,t(2,u))}function V(de){l.$$.not_equal(u.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS,de)&&(u.ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=de,t(2,u))}function O(){u.API_KEY_ALLOWED_ENDPOINTS=this.value,t(2,u)}function N(){u.JWT_EXPIRES_IN=this.value,t(2,u)}function P(de){E=de,t(4,E)}const H=async()=>{zu(localStorage.token,E)};function U(){h.label=this.value,t(5,h)}function B(){h.host=this.value,t(5,h)}function Y(){h.port=ts(this.value),t(5,h)}function S(){h.app_dn=this.value,t(5,h)}function F(de){l.$$.not_equal(h.app_dn_password,de)&&(h.app_dn_password=de,t(5,h))}function G(){h.attribute_for_mail=this.value,t(5,h)}function K(){h.attribute_for_username=this.value,t(5,h)}function J(){h.search_base=this.value,t(5,h)}function Q(){h.search_filters=this.value,t(5,h)}function X(de){l.$$.not_equal(h.use_tls,de)&&(h.use_tls=de,t(5,h))}function ie(){h.certificate_path=this.value,t(5,h)}function ue(){h.ciphers=this.value,t(5,h)}function le(de){l.$$.not_equal(u.ENABLE_COMMUNITY_SHARING,de)&&(u.ENABLE_COMMUNITY_SHARING=de,t(2,u))}function z(de){l.$$.not_equal(u.ENABLE_MESSAGE_RATING,de)&&(u.ENABLE_MESSAGE_RATING=de,t(2,u))}function Z(de){l.$$.not_equal(u.ENABLE_CHANNELS,de)&&(u.ENABLE_CHANNELS=de,t(2,u))}function q(){u.WEBUI_URL=this.value,t(2,u)}function te(){p=this.value,t(3,p)}const ae=async()=>{b()};return l.$$set=de=>{"saveHandler"in de&&t(10,i=de.saveHandler)},[r,c,u,p,E,h,s,a,m,b,i,I,w,k,T,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z,Z,q,te,ae]}class Jf extends Ml{constructor(e){super(),Rl(this,e,Zf,qf,Ll,{saveHandler:10},null,[-1,-1])}}function Kn(l,e,t){const s=l.slice();return s[36]=e[t],s[37]=e,s[38]=t,s}function Yn(l,e,t){const s=l.slice();return s[39]=e[t],s}function Fn(l,e,t){const s=l.slice();return s[42]=e[t],s[38]=t,s}function Wn(l,e,t){const s=l.slice();return s[10]=e[t],s[38]=t,s}function zf(l){let e,t,s,a;return s=new Oa({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),pe(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var c=v(t);ve(s.$$.fragment,c),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center h-full")},m(i,r){R(i,e,r),n(e,t),me(s,t,null),a=!0},p:ft,i(i){a||(j(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&f(e),ge(s)}}}function Xf(l){let e,t,s=l[9].t("Manage Pipelines")+"",a,i,r,c,u,p;const E=[xf,Qf],h=[];function m(g,b){return g[3].length>0?0:1}return r=m(l),c=h[r]=E[r](l),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),c.c(),u=ul(),this.h()},l(g){e=_(g,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var I=v(t);a=M(I,s),I.forEach(f),b.forEach(f),i=y(g),c.l(g),u=ul(),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2")},m(g,b){R(g,e,b),n(e,t),n(t,a),R(g,i,b),h[r].m(g,b),R(g,u,b),p=!0},p(g,b){(!p||b[0]&512)&&s!==(s=g[9].t("Manage Pipelines")+"")&&C(a,s);let I=r;r=m(g),r===I?h[r].p(g,b):(Et(),W(h[I],1,1,()=>{h[I]=null}),bt(),c=h[r],c?c.p(g,b):(c=h[r]=E[r](g),c.c()),j(c,1),c.m(u.parentNode,u))},i(g){p||(j(c),p=!0)},o(g){W(c),p=!1},d(g){g&&(f(e),f(i),f(u)),h[r].d(g)}}}function Qf(l){let e,t=l[9].t("Pipelines Not Detected")+"",s;return{c(){e=d("div"),s=L(t)},l(a){e=_(a,"DIV",{});var i=v(e);s=M(i,t),i.forEach(f)},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("Pipelines Not Detected")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function xf(l){let e,t,s,a,i,r=l[9].t("Select a pipeline url")+"",c,u,p,E,h,m=l[9].t("Upload Pipeline")+"",g,b,I,w,k,T,D,$,V,O,N,P,H=l[9].t("Install from Github URL")+"",U,B,Y,S,F,G,K,J,Q,X,ie=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution 
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,ue,le,z,Z,q,te,ae,de,ne,oe=mt(l[3]),fe=[];for(let se=0;se<oe.length;se+=1)fe[se]=qn(Wn(l,oe,se));function ke(se,ye){return se[2]?tc:ec}let Ee=ke(l),x=Ee(l);function _e(se,ye){return se[1]?sc:lc}let Te=_e(l),be=Te(l);function Ie(se,ye){return se[0]?rc:ac}let Me=Ie(l),ce=Me(l);const De=[ic,nc],Ce=[];function Ue(se,ye){return se[10]!==null?0:1}return Z=Ue(l),q=Ce[Z]=De[Z](l),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("select"),i=d("option"),c=L(r);for(let se=0;se<fe.length;se+=1)fe[se].c();p=A(),E=d("div"),h=d("div"),g=L(m),b=A(),I=d("div"),w=d("div"),k=d("input"),T=A(),D=d("button"),x.c(),$=A(),V=d("button"),be.c(),O=A(),N=d("div"),P=d("div"),U=L(H),B=A(),Y=d("div"),S=d("div"),F=d("input"),K=A(),J=d("button"),ce.c(),Q=A(),X=d("div"),X.innerHTML=ie,ue=A(),le=d("hr"),z=A(),q.c(),te=ul(),this.h()},l(se){e=_(se,"DIV",{class:!0});var ye=v(e);t=_(ye,"DIV",{class:!0});var Be=v(t);s=_(Be,"DIV",{class:!0});var $e=v(s);a=_($e,"SELECT",{class:!0,placeholder:!0});var Le=v(a);i=_(Le,"OPTION",{class:!0});var Ge=v(i);c=M(Ge,r),Ge.forEach(f);for(let Lt=0;Lt<fe.length;Lt+=1)fe[Lt].l(Le);Le.forEach(f),$e.forEach(f),Be.forEach(f),ye.forEach(f),p=y(se),E=_(se,"DIV",{class:!0});var qe=v(E);h=_(qe,"DIV",{class:!0});var Ke=v(h);g=M(Ke,m),Ke.forEach(f),b=y(qe),I=_(qe,"DIV",{class:!0});var je=v(I);w=_(je,"DIV",{class:!0});var Ae=v(w);k=_(Ae,"INPUT",{id:!0,type:!0,accept:!0}),T=y(Ae),D=_(Ae,"BUTTON",{class:!0,type:!0});var Ve=v(D);x.l(Ve),Ve.forEach(f),Ae.forEach(f),$=y(je),V=_(je,"BUTTON",{class:!0,type:!0});var Pe=v(V);be.l(Pe),Pe.forEach(f),je.forEach(f),qe.forEach(f),O=y(se),N=_(se,"DIV",{class:!0});var st=v(N);P=_(st,"DIV",{class:!0});var It=v(P);U=M(It,H),It.forEach(f),B=y(st),Y=_(st,"DIV",{class:!0});var at=v(Y);S=_(at,"DIV",{class:!0});var Ze=v(S);F=_(Ze,"INPUT",{class:!0,placeholder:!0}),Ze.forEach(f),K=y(at),J=_(at,"BUTTON",{class:!0,type:!0});var pt=v(J);ce.l(pt),pt.forEach(f),at.forEach(f),Q=y(st),X=_(st,"DIV",{class:!0,"data-svelte-h":!0}),Bt(X)!=="svelte-ob7r3n"&&(X.innerHTML=ie),st.forEach(f),ue=y(se),le=_(se,"HR",{class:!0}),z=y(se),q.l(se),te=ul(),this.h()},h(){i.__value="",ee(i,i.__value),i.selected=!0,i.disabled=!0,o(i,"class","bg-gray-100 dark:bg-gray-700"),o(a,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(a,"placeholder",u=l[9].t("Select a pipeline url")),l[4]===void 0&&Hl(()=>l[19].call(a)),o(s,"class","flex-1"),o(t,"class","flex gap-2"),o(e,"class","space-y-1"),o(h,"class","mb-2 text-sm font-medium"),o(k,"id","pipelines-upload-input"),o(k,"type","file"),o(k,"accept",".py"),k.hidden=!0,o(D,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),o(D,"type","button"),o(w,"class","flex-1 mr-2"),o(V,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),V.disabled=l[1],o(V,"type","button"),o(I,"class","flex w-full"),o(E,"class","my-2"),o(P,"class","mb-2 text-sm font-medium"),o(F,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(F,"placeholder",G=l[9].t("Enter Github Raw URL")),o(S,"class","flex-1 mr-2"),o(J,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),J.disabled=l[0],o(J,"type","button"),o(Y,"class","flex w-full"),o(X,"class","mt-2 text-xs text-gray-500"),o(N,"class","my-2"),o(le,"class","border-gray-100 dark:border-gray-850 my-3 w-full")},m(se,ye){R(se,e,ye),n(e,t),n(t,s),n(s,a),n(a,i),n(i,c);for(let Be=0;Be<fe.length;Be+=1)fe[Be]&&fe[Be].m(a,null);jt(a,l[4],!0),R(se,p,ye),R(se,E,ye),n(E,h),n(h,g),n(E,b),n(E,I),n(I,w),n(w,k),n(w,T),n(w,D),x.m(D,null),n(I,$),n(I,V),be.m(V,null),R(se,O,ye),R(se,N,ye),n(N,P),n(P,U),n(N,B),n(N,Y),n(Y,S),n(S,F),ee(F,l[8]),n(Y,K),n(Y,J),ce.m(J,null),n(N,Q),n(N,X),R(se,ue,ye),R(se,le,ye),R(se,z,ye),Ce[Z].m(se,ye),R(se,te,ye),ae=!0,de||(ne=[re(a,"change",l[19]),re(a,"change",l[20]),re(k,"change",l[21]),re(D,"click",l[22]),re(V,"click",l[23]),re(F,"input",l[24]),re(J,"click",l[25])],de=!0)},p(se,ye){if((!ae||ye[0]&512)&&r!==(r=se[9].t("Select a pipeline url")+"")&&C(c,r),ye[0]&8){oe=mt(se[3]);let $e;for($e=0;$e<oe.length;$e+=1){const Le=Wn(se,oe,$e);fe[$e]?fe[$e].p(Le,ye):(fe[$e]=qn(Le),fe[$e].c(),fe[$e].m(a,null))}for(;$e<fe.length;$e+=1)fe[$e].d(1);fe.length=oe.length}(!ae||ye[0]&512&&u!==(u=se[9].t("Select a pipeline url")))&&o(a,"placeholder",u),ye[0]&24&&jt(a,se[4]),(!ae||ye[0]&512)&&m!==(m=se[9].t("Upload Pipeline")+"")&&C(g,m),Ee===(Ee=ke(se))&&x?x.p(se,ye):(x.d(1),x=Ee(se),x&&(x.c(),x.m(D,null))),Te!==(Te=_e(se))&&(be.d(1),be=Te(se),be&&(be.c(),be.m(V,null))),(!ae||ye[0]&2)&&(V.disabled=se[1]),(!ae||ye[0]&512)&&H!==(H=se[9].t("Install from Github URL")+"")&&C(U,H),(!ae||ye[0]&512&&G!==(G=se[9].t("Enter Github Raw URL")))&&o(F,"placeholder",G),ye[0]&256&&F.value!==se[8]&&ee(F,se[8]),Me!==(Me=Ie(se))&&(ce.d(1),ce=Me(se),ce&&(ce.c(),ce.m(J,null))),(!ae||ye[0]&1)&&(J.disabled=se[0]);let Be=Z;Z=Ue(se),Z===Be?Ce[Z].p(se,ye):(Et(),W(Ce[Be],1,1,()=>{Ce[Be]=null}),bt(),q=Ce[Z],q?q.p(se,ye):(q=Ce[Z]=De[Z](se),q.c()),j(q,1),q.m(te.parentNode,te))},i(se){ae||(j(q),ae=!0)},o(se){W(q),ae=!1},d(se){se&&(f(e),f(p),f(E),f(O),f(N),f(ue),f(le),f(z),f(te)),Il(fe,se),x.d(),be.d(),ce.d(),Ce[Z].d(se),de=!1,bl(ne)}}}function qn(l){let e,t=l[10].url+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[10].idx.toString(),ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&8&&t!==(t=i[10].url+"")&&C(s,t),r[0]&8&&a!==(a=i[10].idx.toString())&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function ec(l){let e=l[9].t("Click here to select a py file.")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&512&&e!==(e=s[9].t("Click here to select a py file.")+"")&&C(t,e)},d(s){s&&f(t)}}}function tc(l){let e=l[2].length>0?`${l[2].length}`:"",t,s;return{c(){t=L(e),s=L(" pipeline(s) selected.")},l(a){t=M(a,e),s=M(a," pipeline(s) selected.")},m(a,i){R(a,t,i),R(a,s,i)},p(a,i){i[0]&4&&e!==(e=a[2].length>0?`${a[2].length}`:"")&&C(t,e)},d(a){a&&(f(t),f(s))}}}function lc(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function sc(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function ac(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function rc(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function nc(l){let e,t,s,a;return s=new Oa({props:{className:"size-4"}}),{c(){e=d("div"),t=d("div"),pe(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var c=v(t);ve(s.$$.fragment,c),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex justify-center")},m(i,r){R(i,e,r),n(e,t),me(s,t,null),a=!0},p:ft,i(i){a||(j(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&f(e),ge(s)}}}function ic(l){let e,t,s,a;const i=[uc,oc],r=[];function c(u,p){return u[10].length>0?0:u[10].length===0?1:-1}return~(e=c(l))&&(t=r[e]=i[e](l)),{c(){t&&t.c(),s=ul()},l(u){t&&t.l(u),s=ul()},m(u,p){~e&&r[e].m(u,p),R(u,s,p),a=!0},p(u,p){let E=e;e=c(u),e===E?~e&&r[e].p(u,p):(t&&(Et(),W(r[E],1,1,()=>{r[E]=null}),bt()),~e?(t=r[e],t?t.p(u,p):(t=r[e]=i[e](u),t.c()),j(t,1),t.m(s.parentNode,s)):t=null)},i(u){a||(j(t),a=!0)},o(u){W(t),a=!1},d(u){u&&f(s),~e&&r[e].d(u)}}}function oc(l){let e,t="Pipelines Not Detected";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Bt(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(s,a){R(s,e,a)},p:ft,i:ft,o:ft,d(s){s&&f(e)}}}function uc(l){let e,t,s=l[9].t("Pipelines Valves")+"",a,i,r,c,u,p,E,h,m=l[10].length>0&&Zn(l);const g=[cc,fc],b=[];function I(w,k){return w[10][w[7]].valves?0:1}return p=I(l),E=b[p]=g[p](l),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),m&&m.c(),c=A(),u=d("div"),E.c(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);a=M(T,s),T.forEach(f),k.forEach(f),i=y(w),r=_(w,"DIV",{class:!0});var D=v(r);m&&m.l(D),c=y(D),u=_(D,"DIV",{class:!0});var $=v(u);E.l($),$.forEach(f),D.forEach(f),this.h()},h(){o(t,"class","self-center text-sm font-semibold"),o(e,"class","flex w-full justify-between mb-2"),o(u,"class","space-y-1"),o(r,"class","space-y-1")},m(w,k){R(w,e,k),n(e,t),n(t,a),R(w,i,k),R(w,r,k),m&&m.m(r,null),n(r,c),n(r,u),b[p].m(u,null),h=!0},p(w,k){(!h||k[0]&512)&&s!==(s=w[9].t("Pipelines Valves")+"")&&C(a,s),w[10].length>0?m?m.p(w,k):(m=Zn(w),m.c(),m.m(r,c)):m&&(m.d(1),m=null);let T=p;p=I(w),p===T?b[p].p(w,k):(Et(),W(b[T],1,1,()=>{b[T]=null}),bt(),E=b[p],E?E.p(w,k):(E=b[p]=g[p](w),E.c()),j(E,1),E.m(u,null))},i(w){h||(j(E),h=!0)},o(w){W(E),h=!1},d(w){w&&(f(e),f(i),f(r)),m&&m.d(),b[p].d()}}}function Zn(l){let e,t,s,a,i,r,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',u,p,E=mt(l[10]),h=[];for(let m=0;m<E.length;m+=1)h[m]=Jn(Fn(l,E,m));return{c(){e=d("div"),t=d("div"),s=d("select");for(let m=0;m<h.length;m+=1)h[m].c();i=A(),r=d("button"),r.innerHTML=c,this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);s=_(b,"SELECT",{class:!0,placeholder:!0});var I=v(s);for(let w=0;w<h.length;w+=1)h[w].l(I);I.forEach(f),b.forEach(f),i=y(g),r=_(g,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(r)!=="svelte-121ij38"&&(r.innerHTML=c),g.forEach(f),this.h()},h(){o(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[9].t("Select a pipeline")),l[7]===void 0&&Hl(()=>l[26].call(s)),o(t,"class","flex-1"),o(r,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(r,"type","button"),o(e,"class","flex gap-2")},m(m,g){R(m,e,g),n(e,t),n(t,s);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(s,null);jt(s,l[7],!0),n(e,i),n(e,r),u||(p=[re(s,"change",l[26]),re(s,"change",l[27]),re(r,"click",l[28])],u=!0)},p(m,g){if(g[0]&1024){E=mt(m[10]);let b;for(b=0;b<E.length;b+=1){const I=Fn(m,E,b);h[b]?h[b].p(I,g):(h[b]=Jn(I),h[b].c(),h[b].m(s,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=E.length}g[0]&512&&a!==(a=m[9].t("Select a pipeline"))&&o(s,"placeholder",a),g[0]&128&&jt(s,m[7])},d(m){m&&f(e),Il(h,m),u=!1,bl(p)}}}function Jn(l){let e,t=l[42].name+"",s,a,i=(l[42].type??"pipe")+"",r,c;return{c(){e=d("option"),s=L(t),a=L(" ("),r=L(i),c=L(")"),this.h()},l(u){e=_(u,"OPTION",{class:!0});var p=v(e);s=M(p,t),a=M(p," ("),r=M(p,i),c=M(p,")"),p.forEach(f),this.h()},h(){e.__value=l[38],ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,p){R(u,e,p),n(e,s),n(e,a),n(e,r),n(e,c)},p(u,p){p[0]&1024&&t!==(t=u[42].name+"")&&C(s,t),p[0]&1024&&i!==(i=(u[42].type??"pipe")+"")&&C(r,i)},d(u){u&&f(e)}}}function fc(l){let e,t="No valves";return{c(){e=d("div"),e.textContent=t},l(s){e=_(s,"DIV",{"data-svelte-h":!0}),Bt(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(s,a){R(s,e,a)},p:ft,i:ft,o:ft,d(s){s&&f(e)}}}function cc(l){let e,t,s,a;const i=[_c,dc],r=[];function c(u,p){return u[5]?0:1}return e=c(l),t=r[e]=i[e](l),{c(){t.c(),s=ul()},l(u){t.l(u),s=ul()},m(u,p){r[e].m(u,p),R(u,s,p),a=!0},p(u,p){let E=e;e=c(u),e===E?r[e].p(u,p):(Et(),W(r[E],1,1,()=>{r[E]=null}),bt(),t=r[e],t?t.p(u,p):(t=r[e]=i[e](u),t.c()),j(t,1),t.m(s.parentNode,s))},i(u){a||(j(t),a=!0)},o(u){W(t),a=!1},d(u){u&&f(s),r[e].d(u)}}}function dc(l){let e,t;return e=new Oa({props:{className:"size-5"}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function _c(l){let e,t,s=mt(Object.keys(l[6].properties)),a=[];for(let r=0;r<s.length;r+=1)a[r]=Qn(Kn(l,s,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=ul()},l(r){for(let c=0;c<a.length;c+=1)a[c].l(r);e=ul()},m(r,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,c);R(r,e,c),t=!0},p(r,c){if(c[0]&608){s=mt(Object.keys(r[6].properties));let u;for(u=0;u<s.length;u+=1){const p=Kn(r,s,u);a[u]?(a[u].p(p,c),j(a[u],1)):(a[u]=Qn(p),a[u].c(),j(a[u],1),a[u].m(e.parentNode,e))}for(Et(),u=s.length;u<a.length;u+=1)i(u);bt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)j(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)W(a[c]);t=!1},d(r){r&&f(e),Il(a,r)}}}function hc(l){let e,t=l[9].t("Custom")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("Custom")+"")&&C(s,t)},d(a){a&&f(e)}}}function pc(l){let e,t=l[9].t("None")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&512&&t!==(t=a[9].t("None")+"")&&C(s,t)},d(a){a&&f(e)}}}function zn(l){let e,t,s,a,i;const r=[gc,mc,vc],c=[];function u(p,E){var h,m;return((h=p[6].properties[p[36]])==null?void 0:h.enum)??null?0:(((m=p[6].properties[p[36]])==null?void 0:m.type)??null)==="boolean"?1:2}return s=u(l),a=c[s]=r[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var h=v(t);a.l(h),h.forEach(f),E.forEach(f),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(p,E){R(p,e,E),n(e,t),c[s].m(t,null),i=!0},p(p,E){let h=s;s=u(p),s===h?c[s].p(p,E):(Et(),W(c[h],1,1,()=>{c[h]=null}),bt(),a=c[s],a?a.p(p,E):(a=c[s]=r[s](p),a.c()),j(a,1),a.m(t,null))},i(p){i||(j(a),i=!0)},o(p){W(a),i=!1},d(p){p&&f(e),c[s].d()}}}function vc(l){let e,t,s,a;function i(){l[32].call(e,l[36])}return{c(){e=d("input"),this.h()},l(r){e=_(r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"type","text"),o(e,"placeholder",t=l[6].properties[l[36]].title),o(e,"autocomplete","off"),e.required=!0},m(r,c){R(r,e,c),ee(e,l[5][l[36]]),s||(a=re(e,"input",i),s=!0)},p(r,c){l=r,c[0]&64&&t!==(t=l[6].properties[l[36]].title)&&o(e,"placeholder",t),c[0]&96&&e.value!==l[5][l[36]]&&ee(e,l[5][l[36]])},i:ft,o:ft,d(r){r&&f(e),s=!1,a()}}}function mc(l){let e,t,s=l[5][l[36]]?"Enabled":"Disabled",a,i,r,c,u,p;function E(m){l[31](m,l[36])}let h={};return l[5][l[36]]!==void 0&&(h.state=l[5][l[36]]),c=new yl({props:h}),We.push(()=>Qe(c,"state",E)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),pe(c.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);a=M(b,s),b.forEach(f),i=y(g),r=_(g,"DIV",{class:!0});var I=v(r);ve(c.$$.fragment,I),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","text-xs text-gray-500"),o(r,"class","pr-2"),o(e,"class","flex justify-between items-center")},m(m,g){R(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),me(c,r,null),p=!0},p(m,g){l=m,(!p||g[0]&96)&&s!==(s=l[5][l[36]]?"Enabled":"Disabled")&&C(a,s);const b={};!u&&g[0]&96&&(u=!0,b.state=l[5][l[36]],Xe(()=>u=!1)),c.$set(b)},i(m){p||(j(c.$$.fragment,m),p=!0)},o(m){W(c.$$.fragment,m),p=!1},d(m){m&&f(e),ge(c)}}}function gc(l){let e,t,s,a=mt(l[6].properties[l[36]].enum),i=[];for(let c=0;c<a.length;c+=1)i[c]=Xn(Yn(l,a,c));function r(){l[30].call(e,l[36])}return{c(){e=d("select");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=_(c,"SELECT",{class:!0});var u=v(e);for(let p=0;p<i.length;p+=1)i[p].l(u);u.forEach(f),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),l[5][l[36]]===void 0&&Hl(r)},m(c,u){R(c,e,u);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);jt(e,l[5][l[36]],!0),t||(s=re(e,"change",r),t=!0)},p(c,u){if(l=c,u[0]&96){a=mt(l[6].properties[l[36]].enum);let p;for(p=0;p<a.length;p+=1){const E=Yn(l,a,p);i[p]?i[p].p(E,u):(i[p]=Xn(E),i[p].c(),i[p].m(e,null))}for(;p<i.length;p+=1)i[p].d(1);i.length=a.length}u[0]&96&&jt(e,l[5][l[36]])},i:ft,o:ft,d(c){c&&f(e),Il(i,c),t=!1,s()}}}function Xn(l){let e,t=l[39]+"",s,a,i,r;return{c(){e=d("option"),s=L(t),a=A(),this.h()},l(c){e=_(c,"OPTION",{});var u=v(e);s=M(u,t),a=y(u),u.forEach(f),this.h()},h(){e.__value=i=l[39],ee(e,e.__value),e.selected=r=l[39]===l[5][l[36]]},m(c,u){R(c,e,u),n(e,s),n(e,a)},p(c,u){u[0]&64&&t!==(t=c[39]+"")&&C(s,t),u[0]&64&&i!==(i=c[39])&&(e.__value=i,ee(e,e.__value)),u[0]&96&&r!==(r=c[39]===c[5][c[36]])&&(e.selected=r)},d(c){c&&f(e)}}}function Qn(l){let e,t,s,a=l[6].properties[l[36]].title+"",i,r,c,u,p,E,h,m;function g(T,D){return(T[5][T[36]]??null)===null?pc:hc}let b=g(l),I=b(l);function w(){return l[29](l[36])}let k=(l[5][l[36]]??null)!==null&&zn(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("button"),I.c(),u=A(),k&&k.c(),p=A(),this.h()},l(T){e=_(T,"DIV",{class:!0});var D=v(e);t=_(D,"DIV",{class:!0});var $=v(t);s=_($,"DIV",{class:!0});var V=v(s);i=M(V,a),V.forEach(f),r=y($),c=_($,"BUTTON",{class:!0,type:!0});var O=v(c);I.l(O),O.forEach(f),$.forEach(f),u=y(D),k&&k.l(D),p=y(D),D.forEach(f),this.h()},h(){o(s,"class","self-center text-xs font-medium"),o(c,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(c,"type","button"),o(t,"class","flex w-full justify-between"),o(e,"class","py-0.5 w-full justify-between")},m(T,D){R(T,e,D),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),I.m(c,null),n(e,u),k&&k.m(e,null),n(e,p),E=!0,h||(m=re(c,"click",w),h=!0)},p(T,D){l=T,(!E||D[0]&64)&&a!==(a=l[6].properties[l[36]].title+"")&&C(i,a),b===(b=g(l))&&I?I.p(l,D):(I.d(1),I=b(l),I&&(I.c(),I.m(c,null))),(l[5][l[36]]??null)!==null?k?(k.p(l,D),D[0]&96&&j(k,1)):(k=zn(l),k.c(),j(k,1),k.m(e,p)):k&&(Et(),W(k,1,1,()=>{k=null}),bt())},i(T){E||(j(k),E=!0)},o(T){W(k),E=!1},d(T){T&&f(e),I.d(),k&&k.d(),h=!1,m()}}}function xn(l){let e,t,s=l[9].t("Save")+"",a;return{c(){e=d("div"),t=d("button"),a=L(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"BUTTON",{class:!0,type:!0});var c=v(t);a=M(c,s),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(t,"type","submit"),o(e,"class","flex justify-end pt-3 text-sm font-medium")},m(i,r){R(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&512&&s!==(s=i[9].t("Save")+"")&&C(a,s)},d(i){i&&f(e)}}}function Ec(l){let e,t,s,a,i,r,c,u;const p=[Xf,zf],E=[];function h(g,b){return g[3]!==null?0:1}s=h(l),a=E[s]=p[s](l);let m=l[3]!==null&&l[3].length>0&&xn(l);return{c(){e=d("form"),t=d("div"),a.c(),i=A(),m&&m.c(),this.h()},l(g){e=_(g,"FORM",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var I=v(t);a.l(I),I.forEach(f),i=y(b),m&&m.l(b),b.forEach(f),this.h()},h(){o(t,"class","overflow-y-scroll scrollbar-hidden h-full"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(g,b){R(g,e,b),n(e,t),E[s].m(t,null),n(e,i),m&&m.m(e,null),r=!0,c||(u=re(e,"submit",Hs(l[33])),c=!0)},p(g,b){let I=s;s=h(g),s===I?E[s].p(g,b):(Et(),W(E[I],1,1,()=>{E[I]=null}),bt(),a=E[s],a?a.p(g,b):(a=E[s]=p[s](g),a.c()),j(a,1),a.m(t,null)),g[3]!==null&&g[3].length>0?m?m.p(g,b):(m=xn(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(g){r||(j(a),r=!0)},o(g){W(a),r=!1},d(g){g&&f(e),E[s].d(),m&&m.d(),c=!1,u()}}}function bc(l,e,t){let s,a,i;Wt(l,rr,z=>t(34,s=z)),Wt(l,Ps,z=>t(35,a=z));const r=Kl("i18n");Wt(l,r,z=>t(9,i=z));let{saveHandler:c}=e,u=!1,p=!1,E,h=null,m="",g=null,b=null,I=null,w=null,k="";const T=async()=>{var Z,q;const z=g[w];if(z&&((z==null?void 0:z.valves)??!1)){for(const ae in I.properties)((Z=I.properties[ae])==null?void 0:Z.type)==="array"&&t(5,b[ae]=b[ae].split(",").map(de=>de.trim()),b);await Tu(localStorage.token,z.id,b,m).catch(ae=>{Fe.error(`${ae}`)})&&(Fe.success(i.t("Valves updated successfully")),$(),Jl.set(await Es(localStorage.token,((q=a==null?void 0:a.features)==null?void 0:q.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),c())}else Fe.error(i.t("No valves to update"))},D=async z=>{var Z;t(5,b=null),t(6,I=null),t(6,I=await Du(localStorage.token,g[z].id,m)),t(5,b=await Au(localStorage.token,g[z].id,m));for(const q in I.properties)((Z=I.properties[q])==null?void 0:Z.type)==="array"&&t(5,b[q]=b[q].join(","),b)},$=async()=>{t(10,g=null),t(5,b=null),t(6,I=null),h.length>0?(console.log(m),t(10,g=await yu(localStorage.token,m)),g.length>0&&(t(7,w=0),await D(w))):t(10,g=[])},V=async()=>{var Z;t(0,u=!0),await $u(localStorage.token,k,m).catch(q=>(Fe.error(`${q}`),null))&&(Fe.success(i.t("Pipeline downloaded successfully")),$(),Jl.set(await Es(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))),t(0,u=!1)},O=async()=>{var Z;if(t(1,p=!0),E&&E.length!==0){const q=E[0];console.log(q),await Vu(localStorage.token,q,m).catch(ae=>(console.log(ae),Fe.error("Something went wrong :/"),null))&&(Fe.success(i.t("Pipeline downloaded successfully")),$(),Jl.set(await Es(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))))}else Fe.error(i.t("No file selected"));t(2,E=null);const z=document.getElementById("pipelines-upload-input");z&&(z.value=null),t(1,p=!1)},N=async()=>{var Z;await Nu(localStorage.token,g[w].id,m).catch(q=>(Fe.error(`${q}`),null))&&(Fe.success(i.t("Pipeline deleted successfully")),$(),Jl.set(await Es(localStorage.token,((Z=a==null?void 0:a.features)==null?void 0:Z.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))))};bs(async()=>{t(3,h=await ku(localStorage.token)),console.log(h),h.length>0&&t(4,m=h[0].idx.toString()),await $()});function P(){m=Bl(this),t(4,m),t(3,h)}const H=async()=>{await sr(),await $()};function U(){E=this.files,t(2,E)}const B=()=>{var z;(z=document.getElementById("pipelines-upload-input"))==null||z.click()},Y=()=>{O()};function S(){k=this.value,t(8,k)}const F=()=>{V()};function G(){w=Bl(this),t(7,w)}const K=async()=>{await sr(),await D(w)},J=()=>{N()},Q=z=>{t(5,b[z]=(b[z]??null)===null?"":null,b)};function X(z){b[z]=Bl(this),t(5,b),t(6,I)}function ie(z,Z){l.$$.not_equal(b[Z],z)&&(b[Z]=z,t(5,b))}function ue(z){b[z]=this.value,t(5,b),t(6,I)}const le=async()=>{T()};return l.$$set=z=>{"saveHandler"in z&&t(18,c=z.saveHandler)},[u,p,E,h,m,b,I,w,k,i,g,r,T,D,$,V,O,N,c,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le]}class Ic extends Ml{constructor(e){super(),Rl(this,e,bc,Ec,Ll,{saveHandler:18},null,[-1,-1])}}function ei(l,e,t){const s=l.slice();return s[53]=e[t],s}function ti(l,e,t){const s=l.slice();return s[56]=e[t],s}function li(l,e,t){const s=l.slice();return s[59]=e[t],s}function si(l,e,t){const s=l.slice();return s[56]=e[t],s}function ai(l,e,t){const s=l.slice();return s[59]=e[t],s}function ri(l,e,t){const s=l.slice();return s[56]=e[t],s}function ni(l,e,t){const s=l.slice();return s[56]=e[t],s}function wc(l){let e,t,s=l[18].t("STT Model")+"",a,i,r,c,u,p,E,h,m,g,b=l[18].t("Open WebUI uses faster-whisper internally.")+"",I,w,k,T=l[18].t("Click here to learn more about faster-whisper and see the available models.")+"",D,$,V;function O(H,U){return H[15]?Ac:Dc}let N=O(l),P=N(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("button"),P.c(),m=A(),g=d("div"),I=L(b),w=A(),k=d("a"),D=L(T),this.h()},l(H){e=_(H,"DIV",{});var U=v(e);t=_(U,"DIV",{class:!0});var B=v(t);a=M(B,s),B.forEach(f),i=y(U),r=_(U,"DIV",{class:!0});var Y=v(r);c=_(Y,"DIV",{class:!0});var S=v(c);u=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(f),E=y(Y),h=_(Y,"BUTTON",{class:!0});var F=v(h);P.l(F),F.forEach(f),Y.forEach(f),m=y(U),g=_(U,"DIV",{class:!0});var G=v(g);I=M(G,b),w=y(G),k=_(G,"A",{class:!0,href:!0,target:!0});var K=v(k);D=M(K,T),K.forEach(f),G.forEach(f),U.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"placeholder",p=l[18].t("Set whisper model")),o(c,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),h.disabled=l[15],o(r,"class","flex w-full"),o(k,"class","hover:underline dark:text-gray-200 text-gray-800"),o(k,"href","https://github.com/SYSTRAN/faster-whisper"),o(k,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(H,U){R(H,e,U),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[13]),n(r,E),n(r,h),P.m(h,null),n(e,m),n(e,g),n(g,I),n(g,w),n(g,k),n(k,D),$||(V=[re(u,"input",l[32]),re(h,"click",l[33])],$=!0)},p(H,U){U[0]&262144&&s!==(s=H[18].t("STT Model")+"")&&C(a,s),U[0]&262144&&p!==(p=H[18].t("Set whisper model"))&&o(u,"placeholder",p),U[0]&8192&&u.value!==H[13]&&ee(u,H[13]),N!==(N=O(H))&&(P.d(1),P=N(H),P&&(P.c(),P.m(h,null))),U[0]&32768&&(h.disabled=H[15]),U[0]&262144&&b!==(b=H[18].t("Open WebUI uses faster-whisper internally.")+"")&&C(I,b),U[0]&262144&&T!==(T=H[18].t("Click here to learn more about faster-whisper and see the available models.")+"")&&C(D,T)},i:ft,o:ft,d(H){H&&f(e),P.d(),$=!1,bl(V)}}}function kc(l){let e,t,s,a,i,r,c,u,p,E=l[18].t("STT Model")+"",h,m,g,b,I,w,k,T=l[18].t("Leave model field empty to use the default model.")+"",D,$,V,O=l[18].t("Click here to see available models.")+"",N,P,H,U;function B(S){l[30](S)}let Y={placeholder:l[18].t("API Key")};return l[14]!==void 0&&(Y.value=l[14]),s=new $l({props:Y}),We.push(()=>Qe(s,"value",B)),{c(){e=d("div"),t=d("div"),pe(s.$$.fragment),i=A(),r=d("hr"),c=A(),u=d("div"),p=d("div"),h=L(E),m=A(),g=d("div"),b=d("div"),I=d("input"),w=A(),k=d("div"),D=L(T),$=A(),V=d("a"),N=L(O),this.h()},l(S){e=_(S,"DIV",{});var F=v(e);t=_(F,"DIV",{class:!0});var G=v(t);ve(s.$$.fragment,G),G.forEach(f),F.forEach(f),i=y(S),r=_(S,"HR",{class:!0}),c=y(S),u=_(S,"DIV",{});var K=v(u);p=_(K,"DIV",{class:!0});var J=v(p);h=M(J,E),J.forEach(f),m=y(K),g=_(K,"DIV",{class:!0});var Q=v(g);b=_(Q,"DIV",{class:!0});var X=v(b);I=_(X,"INPUT",{class:!0,placeholder:!0}),X.forEach(f),Q.forEach(f),w=y(K),k=_(K,"DIV",{class:!0});var ie=v(k);D=M(ie,T),$=y(ie),V=_(ie,"A",{class:!0,href:!0,target:!0});var ue=v(V);N=M(ue,O),ue.forEach(f),ie.forEach(f),K.forEach(f),this.h()},h(){o(t,"class","mt-1 flex gap-2 mb-1"),o(r,"class","border-gray-100 dark:border-gray-850 my-2"),o(p,"class","mb-1.5 text-sm font-medium"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(I,"placeholder","Select a model (optional)"),o(b,"class","flex-1"),o(g,"class","flex w-full"),o(V,"class","hover:underline dark:text-gray-200 text-gray-800"),o(V,"href","https://developers.deepgram.com/docs/models"),o(V,"target","_blank"),o(k,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(S,F){R(S,e,F),n(e,t),me(s,t,null),R(S,i,F),R(S,r,F),R(S,c,F),R(S,u,F),n(u,p),n(p,h),n(u,m),n(u,g),n(g,b),n(b,I),ee(I,l[12]),n(u,w),n(u,k),n(k,D),n(k,$),n(k,V),n(V,N),P=!0,H||(U=re(I,"input",l[31]),H=!0)},p(S,F){const G={};F[0]&262144&&(G.placeholder=S[18].t("API Key")),!a&&F[0]&16384&&(a=!0,G.value=S[14],Xe(()=>a=!1)),s.$set(G),(!P||F[0]&262144)&&E!==(E=S[18].t("STT Model")+"")&&C(h,E),F[0]&4096&&I.value!==S[12]&&ee(I,S[12]),(!P||F[0]&262144)&&T!==(T=S[18].t("Leave model field empty to use the default model.")+"")&&C(D,T),(!P||F[0]&262144)&&O!==(O=S[18].t("Click here to see available models.")+"")&&C(N,O)},i(S){P||(j(s.$$.fragment,S),P=!0)},o(S){W(s.$$.fragment,S),P=!1},d(S){S&&(f(e),f(i),f(r),f(c),f(u)),ge(s),H=!1,U()}}}function Tc(l){let e,t,s,a,i,r,c,u,p,E,h,m,g=l[18].t("STT Model")+"",b,I,w,k,T,D,$,V,O,N,P;function H(B){l[28](B)}let U={placeholder:l[18].t("API Key")};return l[10]!==void 0&&(U.value=l[10]),r=new $l({props:U}),We.push(()=>Qe(r,"value",H)),{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),pe(r.$$.fragment),u=A(),p=d("hr"),E=A(),h=d("div"),m=d("div"),b=L(g),I=A(),w=d("div"),k=d("div"),T=d("input"),D=A(),$=d("datalist"),V=d("option"),this.h()},l(B){e=_(B,"DIV",{});var Y=v(e);t=_(Y,"DIV",{class:!0});var S=v(t);s=_(S,"INPUT",{class:!0,placeholder:!0}),i=y(S),ve(r.$$.fragment,S),S.forEach(f),Y.forEach(f),u=y(B),p=_(B,"HR",{class:!0}),E=y(B),h=_(B,"DIV",{});var F=v(h);m=_(F,"DIV",{class:!0});var G=v(m);b=M(G,g),G.forEach(f),I=y(F),w=_(F,"DIV",{class:!0});var K=v(w);k=_(K,"DIV",{class:!0});var J=v(k);T=_(J,"INPUT",{list:!0,class:!0,placeholder:!0}),D=y(J),$=_(J,"DATALIST",{id:!0});var Q=v($);V=_(Q,"OPTION",{}),v(V).forEach(f),Q.forEach(f),J.forEach(f),K.forEach(f),F.forEach(f),this.h()},h(){o(s,"class","flex-1 w-full bg-transparent outline-hidden"),o(s,"placeholder",a=l[18].t("API Base URL")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1"),o(p,"class","border-gray-100 dark:border-gray-850 my-2"),o(m,"class","mb-1.5 text-sm font-medium"),o(T,"list","model-list"),o(T,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(T,"placeholder","Select a model"),V.__value="whisper-1",ee(V,V.__value),o($,"id","model-list"),o(k,"class","flex-1"),o(w,"class","flex w-full")},m(B,Y){R(B,e,Y),n(e,t),n(t,s),ee(s,l[9]),n(t,i),me(r,t,null),R(B,u,Y),R(B,p,Y),R(B,E,Y),R(B,h,Y),n(h,m),n(m,b),n(h,I),n(h,w),n(w,k),n(k,T),ee(T,l[12]),n(k,D),n(k,$),n($,V),O=!0,N||(P=[re(s,"input",l[27]),re(T,"input",l[29])],N=!0)},p(B,Y){(!O||Y[0]&262144&&a!==(a=B[18].t("API Base URL")))&&o(s,"placeholder",a),Y[0]&512&&s.value!==B[9]&&ee(s,B[9]);const S={};Y[0]&262144&&(S.placeholder=B[18].t("API Key")),!c&&Y[0]&1024&&(c=!0,S.value=B[10],Xe(()=>c=!1)),r.$set(S),(!O||Y[0]&262144)&&g!==(g=B[18].t("STT Model")+"")&&C(b,g),Y[0]&4096&&T.value!==B[12]&&ee(T,B[12])},i(B){O||(j(r.$$.fragment,B),O=!0)},o(B){W(r.$$.fragment,B),O=!1},d(B){B&&(f(e),f(u),f(p),f(E),f(h)),ge(r),N=!1,bl(P)}}}function Dc(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function Ac(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function yc(l){let e,t,s,a,i,r,c,u,p;return{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),r=d("input"),this.h()},l(E){e=_(E,"DIV",{});var h=v(e);t=_(h,"DIV",{class:!0});var m=v(t);s=_(m,"INPUT",{class:!0,placeholder:!0}),i=y(m),r=_(m,"INPUT",{class:!0,placeholder:!0}),m.forEach(f),h.forEach(f),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[18].t("API Key")),s.required=!0,o(r,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(r,"placeholder",c=l[18].t("Azure Region")),r.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(E,h){R(E,e,h),n(e,t),n(t,s),ee(s,l[2]),n(t,i),n(t,r),ee(r,l[7]),u||(p=[re(s,"input",l[39]),re(r,"input",l[40])],u=!0)},p(E,h){h[0]&262144&&a!==(a=E[18].t("API Key"))&&o(s,"placeholder",a),h[0]&4&&s.value!==E[2]&&ee(s,E[2]),h[0]&262144&&c!==(c=E[18].t("Azure Region"))&&o(r,"placeholder",c),h[0]&128&&r.value!==E[7]&&ee(r,E[7])},i:ft,o:ft,d(E){E&&f(e),u=!1,bl(p)}}}function $c(l){let e,t,s,a,i,r;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{});var u=v(e);t=_(u,"DIV",{class:!0});var p=v(t);s=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(f),u.forEach(f),this.h()},h(){o(s,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[18].t("API Key")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(c,u){R(c,e,u),n(e,t),n(t,s),ee(s,l[2]),i||(r=re(s,"input",l[38]),i=!0)},p(c,u){u[0]&262144&&a!==(a=c[18].t("API Key"))&&o(s,"placeholder",a),u[0]&4&&s.value!==c[2]&&ee(s,c[2])},i:ft,o:ft,d(c){c&&f(e),i=!1,r()}}}function Nc(l){let e,t,s,a,i,r,c,u,p,E;function h(g){l[37](g)}let m={placeholder:l[18].t("API Key")};return l[1]!==void 0&&(m.value=l[1]),r=new $l({props:m}),We.push(()=>Qe(r,"value",h)),{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),pe(r.$$.fragment),this.h()},l(g){e=_(g,"DIV",{});var b=v(e);t=_(b,"DIV",{class:!0});var I=v(t);s=_(I,"INPUT",{class:!0,placeholder:!0}),i=y(I),ve(r.$$.fragment,I),I.forEach(f),b.forEach(f),this.h()},h(){o(s,"class","flex-1 w-full bg-transparent outline-hidden"),o(s,"placeholder",a=l[18].t("API Base URL")),s.required=!0,o(t,"class","mt-1 flex gap-2 mb-1")},m(g,b){R(g,e,b),n(e,t),n(t,s),ee(s,l[0]),n(t,i),me(r,t,null),u=!0,p||(E=re(s,"input",l[36]),p=!0)},p(g,b){(!u||b[0]&262144&&a!==(a=g[18].t("API Base URL")))&&o(s,"placeholder",a),b[0]&1&&s.value!==g[0]&&ee(s,g[0]);const I={};b[0]&262144&&(I.placeholder=g[18].t("API Key")),!c&&b[0]&2&&(c=!0,I.value=g[1],Xe(()=>c=!1)),r.$set(I)},i(g){u||(j(r.$$.fragment,g),u=!0)},o(g){W(r.$$.fragment,g),u=!1},d(g){g&&f(e),ge(r),p=!1,E()}}}function Vc(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,r,c,u,p,E,h,m,g,b,I=l[18].t("Output format")+"",w,k,T,D,$=l[18].t("Available list")+"",V,O,N,P,H,U,B,Y=mt(l[16]),S=[];for(let F=0;F<Y.length;F+=1)S[F]=ii(ti(l,Y,F));return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("div"),u=d("div"),p=d("input"),E=A(),h=d("datalist");for(let F=0;F<S.length;F+=1)S[F].c();m=A(),g=d("div"),b=d("div"),w=L(I),k=A(),T=d("a"),D=d("small"),V=L($),O=A(),N=d("div"),P=d("div"),H=d("input"),this.h()},l(F){e=_(F,"DIV",{class:!0});var G=v(e);t=_(G,"DIV",{class:!0});var K=v(t);s=_(K,"DIV",{class:!0});var J=v(s);i=M(J,a),J.forEach(f),r=y(K),c=_(K,"DIV",{class:!0});var Q=v(c);u=_(Q,"DIV",{class:!0});var X=v(u);p=_(X,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(X),h=_(X,"DATALIST",{id:!0});var ie=v(h);for(let ae=0;ae<S.length;ae+=1)S[ae].l(ie);ie.forEach(f),X.forEach(f),Q.forEach(f),K.forEach(f),m=y(G),g=_(G,"DIV",{class:!0});var ue=v(g);b=_(ue,"DIV",{class:!0});var le=v(b);w=M(le,I),k=y(le),T=_(le,"A",{href:!0,target:!0});var z=v(T);D=_(z,"SMALL",{});var Z=v(D);V=M(Z,$),Z.forEach(f),z.forEach(f),le.forEach(f),O=y(ue),N=_(ue,"DIV",{class:!0});var q=v(N);P=_(q,"DIV",{class:!0});var te=v(P);H=_(te,"INPUT",{list:!0,class:!0,placeholder:!0}),te.forEach(f),q.forEach(f),ue.forEach(f),G.forEach(f),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(p,"list","voice-list"),o(p,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(p,"placeholder","Select a voice"),o(h,"id","voice-list"),o(u,"class","flex-1"),o(c,"class","flex w-full"),o(t,"class","w-full"),o(T,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),o(T,"target","_blank"),o(b,"class","mb-1.5 text-sm font-medium"),o(H,"list","tts-model-list"),o(H,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(H,"placeholder","Select a output format"),o(P,"class","flex-1"),o(N,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(F,G){R(F,e,G),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(c,u),n(u,p),ee(p,l[5]),n(u,E),n(u,h);for(let K=0;K<S.length;K+=1)S[K]&&S[K].m(h,null);n(e,m),n(e,g),n(g,b),n(b,w),n(b,k),n(b,T),n(T,D),n(D,V),n(g,O),n(g,N),n(N,P),n(P,H),ee(H,l[8]),U||(B=[re(p,"input",l[47]),re(H,"input",l[48])],U=!0)},p(F,G){if(G[0]&262144&&a!==(a=F[18].t("TTS Voice")+"")&&C(i,a),G[0]&65568&&p.value!==F[5]&&ee(p,F[5]),G[0]&65536){Y=mt(F[16]);let K;for(K=0;K<Y.length;K+=1){const J=ti(F,Y,K);S[K]?S[K].p(J,G):(S[K]=ii(J),S[K].c(),S[K].m(h,null))}for(;K<S.length;K+=1)S[K].d(1);S.length=Y.length}G[0]&262144&&I!==(I=F[18].t("Output format")+"")&&C(w,I),G[0]&262144&&$!==($=F[18].t("Available list")+"")&&C(V,$),G[0]&256&&H.value!==F[8]&&ee(H,F[8])},d(F){F&&f(e),Il(S,F),U=!1,bl(B)}}}function Oc(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,r,c,u,p,E,h,m,g,b,I=l[18].t("TTS Model")+"",w,k,T,D,$,V,O,N,P,H=mt(l[16]),U=[];for(let S=0;S<H.length;S+=1)U[S]=oi(si(l,H,S));let B=mt(l[17]),Y=[];for(let S=0;S<B.length;S+=1)Y[S]=ui(li(l,B,S));return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("div"),u=d("div"),p=d("input"),E=A(),h=d("datalist");for(let S=0;S<U.length;S+=1)U[S].c();m=A(),g=d("div"),b=d("div"),w=L(I),k=A(),T=d("div"),D=d("div"),$=d("input"),V=A(),O=d("datalist");for(let S=0;S<Y.length;S+=1)Y[S].c();this.h()},l(S){e=_(S,"DIV",{class:!0});var F=v(e);t=_(F,"DIV",{class:!0});var G=v(t);s=_(G,"DIV",{class:!0});var K=v(s);i=M(K,a),K.forEach(f),r=y(G),c=_(G,"DIV",{class:!0});var J=v(c);u=_(J,"DIV",{class:!0});var Q=v(u);p=_(Q,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(Q),h=_(Q,"DATALIST",{id:!0});var X=v(h);for(let q=0;q<U.length;q+=1)U[q].l(X);X.forEach(f),Q.forEach(f),J.forEach(f),G.forEach(f),m=y(F),g=_(F,"DIV",{class:!0});var ie=v(g);b=_(ie,"DIV",{class:!0});var ue=v(b);w=M(ue,I),ue.forEach(f),k=y(ie),T=_(ie,"DIV",{class:!0});var le=v(T);D=_(le,"DIV",{class:!0});var z=v(D);$=_(z,"INPUT",{list:!0,class:!0,placeholder:!0}),V=y(z),O=_(z,"DATALIST",{id:!0});var Z=v(O);for(let q=0;q<Y.length;q+=1)Y[q].l(Z);Z.forEach(f),z.forEach(f),le.forEach(f),ie.forEach(f),F.forEach(f),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(p,"list","voice-list"),o(p,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(p,"placeholder","Select a voice"),o(h,"id","voice-list"),o(u,"class","flex-1"),o(c,"class","flex w-full"),o(t,"class","w-full"),o(b,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o($,"placeholder","Select a model"),o(O,"id","tts-model-list"),o(D,"class","flex-1"),o(T,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(S,F){R(S,e,F),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(c,u),n(u,p),ee(p,l[5]),n(u,E),n(u,h);for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(h,null);n(e,m),n(e,g),n(g,b),n(b,w),n(g,k),n(g,T),n(T,D),n(D,$),ee($,l[4]),n(D,V),n(D,O);for(let G=0;G<Y.length;G+=1)Y[G]&&Y[G].m(O,null);N||(P=[re(p,"input",l[45]),re($,"input",l[46])],N=!0)},p(S,F){if(F[0]&262144&&a!==(a=S[18].t("TTS Voice")+"")&&C(i,a),F[0]&65568&&p.value!==S[5]&&ee(p,S[5]),F[0]&65536){H=mt(S[16]);let G;for(G=0;G<H.length;G+=1){const K=si(S,H,G);U[G]?U[G].p(K,F):(U[G]=oi(K),U[G].c(),U[G].m(h,null))}for(;G<U.length;G+=1)U[G].d(1);U.length=H.length}if(F[0]&262144&&I!==(I=S[18].t("TTS Model")+"")&&C(w,I),F[0]&16&&$.value!==S[4]&&ee($,S[4]),F[0]&131072){B=mt(S[17]);let G;for(G=0;G<B.length;G+=1){const K=li(S,B,G);Y[G]?Y[G].p(K,F):(Y[G]=ui(K),Y[G].c(),Y[G].m(O,null))}for(;G<Y.length;G+=1)Y[G].d(1);Y.length=B.length}},d(S){S&&f(e),Il(U,S),Il(Y,S),N=!1,bl(P)}}}function Pc(l){let e,t,s,a=l[18].t("TTS Voice")+"",i,r,c,u,p,E,h,m,g,b,I=l[18].t("TTS Model")+"",w,k,T,D,$,V,O,N,P,H=mt(l[16]),U=[];for(let S=0;S<H.length;S+=1)U[S]=fi(ri(l,H,S));let B=mt(l[17]),Y=[];for(let S=0;S<B.length;S+=1)Y[S]=ci(ai(l,B,S));return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("div"),u=d("div"),p=d("input"),E=A(),h=d("datalist");for(let S=0;S<U.length;S+=1)U[S].c();m=A(),g=d("div"),b=d("div"),w=L(I),k=A(),T=d("div"),D=d("div"),$=d("input"),V=A(),O=d("datalist");for(let S=0;S<Y.length;S+=1)Y[S].c();this.h()},l(S){e=_(S,"DIV",{class:!0});var F=v(e);t=_(F,"DIV",{class:!0});var G=v(t);s=_(G,"DIV",{class:!0});var K=v(s);i=M(K,a),K.forEach(f),r=y(G),c=_(G,"DIV",{class:!0});var J=v(c);u=_(J,"DIV",{class:!0});var Q=v(u);p=_(Q,"INPUT",{list:!0,class:!0,placeholder:!0}),E=y(Q),h=_(Q,"DATALIST",{id:!0});var X=v(h);for(let q=0;q<U.length;q+=1)U[q].l(X);X.forEach(f),Q.forEach(f),J.forEach(f),G.forEach(f),m=y(F),g=_(F,"DIV",{class:!0});var ie=v(g);b=_(ie,"DIV",{class:!0});var ue=v(b);w=M(ue,I),ue.forEach(f),k=y(ie),T=_(ie,"DIV",{class:!0});var le=v(T);D=_(le,"DIV",{class:!0});var z=v(D);$=_(z,"INPUT",{list:!0,class:!0,placeholder:!0}),V=y(z),O=_(z,"DATALIST",{id:!0});var Z=v(O);for(let q=0;q<Y.length;q+=1)Y[q].l(Z);Z.forEach(f),z.forEach(f),le.forEach(f),ie.forEach(f),F.forEach(f),this.h()},h(){o(s,"class","mb-1.5 text-sm font-medium"),o(p,"list","voice-list"),o(p,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(p,"placeholder","Select a voice"),o(h,"id","voice-list"),o(u,"class","flex-1"),o(c,"class","flex w-full"),o(t,"class","w-full"),o(b,"class","mb-1.5 text-sm font-medium"),o($,"list","tts-model-list"),o($,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o($,"placeholder","Select a model"),o(O,"id","tts-model-list"),o(D,"class","flex-1"),o(T,"class","flex w-full"),o(g,"class","w-full"),o(e,"class","flex gap-2")},m(S,F){R(S,e,F),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(c,u),n(u,p),ee(p,l[5]),n(u,E),n(u,h);for(let G=0;G<U.length;G+=1)U[G]&&U[G].m(h,null);n(e,m),n(e,g),n(g,b),n(b,w),n(g,k),n(g,T),n(T,D),n(D,$),ee($,l[4]),n(D,V),n(D,O);for(let G=0;G<Y.length;G+=1)Y[G]&&Y[G].m(O,null);N||(P=[re(p,"input",l[43]),re($,"input",l[44])],N=!0)},p(S,F){if(F[0]&262144&&a!==(a=S[18].t("TTS Voice")+"")&&C(i,a),F[0]&65568&&p.value!==S[5]&&ee(p,S[5]),F[0]&65536){H=mt(S[16]);let G;for(G=0;G<H.length;G+=1){const K=ri(S,H,G);U[G]?U[G].p(K,F):(U[G]=fi(K),U[G].c(),U[G].m(h,null))}for(;G<U.length;G+=1)U[G].d(1);U.length=H.length}if(F[0]&262144&&I!==(I=S[18].t("TTS Model")+"")&&C(w,I),F[0]&16&&$.value!==S[4]&&ee($,S[4]),F[0]&131072){B=mt(S[17]);let G;for(G=0;G<B.length;G+=1){const K=ai(S,B,G);Y[G]?Y[G].p(K,F):(Y[G]=ci(K),Y[G].c(),Y[G].m(O,null))}for(;G<Y.length;G+=1)Y[G].d(1);Y.length=B.length}},d(S){S&&f(e),Il(U,S),Il(Y,S),N=!1,bl(P)}}}function Sc(l){let e,t,s=l[18].t("TTS Model")+"",a,i,r,c,u,p,E,h,m,g,b=l[18].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",I,w,k,T=l[18].t("click here",{name:"SpeechT5"})+"",D,$,V,O,N=l[18].t("click here")+"",P,H,U,B;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),p=A(),E=d("datalist"),h=d("option"),m=A(),g=d("div"),I=L(b),w=L(`\r
\r
							To learn more about SpeechT5,\r
\r
							`),k=d("a"),D=L(T),$=L("."),V=L(`\r
							To see the available CMU Arctic speaker embeddings,\r
							`),O=d("a"),P=L(N),H=L("."),this.h()},l(Y){e=_(Y,"DIV",{});var S=v(e);t=_(S,"DIV",{class:!0});var F=v(t);a=M(F,s),F.forEach(f),i=y(S),r=_(S,"DIV",{class:!0});var G=v(r);c=_(G,"DIV",{class:!0});var K=v(c);u=_(K,"INPUT",{list:!0,class:!0,placeholder:!0}),p=y(K),E=_(K,"DATALIST",{id:!0});var J=v(E);h=_(J,"OPTION",{}),v(h).forEach(f),J.forEach(f),K.forEach(f),G.forEach(f),m=y(S),g=_(S,"DIV",{class:!0});var Q=v(g);I=M(Q,b),w=M(Q,`\r
\r
							To learn more about SpeechT5,\r
\r
							`),k=_(Q,"A",{class:!0,href:!0,target:!0});var X=v(k);D=M(X,T),$=M(X,"."),X.forEach(f),V=M(Q,`\r
							To see the available CMU Arctic speaker embeddings,\r
							`),O=_(Q,"A",{class:!0,href:!0,target:!0});var ie=v(O);P=M(ie,N),H=M(ie,"."),ie.forEach(f),Q.forEach(f),S.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(u,"list","model-list"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"placeholder","CMU ARCTIC speaker embedding name"),h.__value="tts-1",ee(h,h.__value),o(E,"id","model-list"),o(c,"class","flex-1"),o(r,"class","flex w-full"),o(k,"class","hover:underline dark:text-gray-200 text-gray-800"),o(k,"href","https://github.com/microsoft/SpeechT5"),o(k,"target","_blank"),o(O,"class","hover:underline dark:text-gray-200 text-gray-800"),o(O,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),o(O,"target","_blank"),o(g,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(Y,S){R(Y,e,S),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[4]),n(c,p),n(c,E),n(E,h),n(e,m),n(e,g),n(g,I),n(g,w),n(g,k),n(k,D),n(k,$),n(g,V),n(g,O),n(O,P),n(O,H),U||(B=re(u,"input",l[42]),U=!0)},p(Y,S){S[0]&262144&&s!==(s=Y[18].t("TTS Model")+"")&&C(a,s),S[0]&16&&u.value!==Y[4]&&ee(u,Y[4]),S[0]&262144&&b!==(b=Y[18].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&C(I,b),S[0]&262144&&T!==(T=Y[18].t("click here",{name:"SpeechT5"})+"")&&C(D,T),S[0]&262144&&N!==(N=Y[18].t("click here")+"")&&C(P,N)},d(Y){Y&&f(e),U=!1,B()}}}function Lc(l){let e,t,s=l[18].t("TTS Voice")+"",a,i,r,c,u,p,E=l[18].t("Default")+"",h,m,g,b,I=mt(l[16]),w=[];for(let k=0;k<I.length;k+=1)w[k]=di(ni(l,I,k));return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("select"),p=d("option"),h=L(E);for(let k=0;k<w.length;k+=1)w[k].c();this.h()},l(k){e=_(k,"DIV",{});var T=v(e);t=_(T,"DIV",{class:!0});var D=v(t);a=M(D,s),D.forEach(f),i=y(T),r=_(T,"DIV",{class:!0});var $=v(r);c=_($,"DIV",{class:!0});var V=v(c);u=_(V,"SELECT",{class:!0});var O=v(u);p=_(O,"OPTION",{});var N=v(p);h=M(N,E),N.forEach(f);for(let P=0;P<w.length;P+=1)w[P].l(O);O.forEach(f),V.forEach(f),$.forEach(f),T.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),p.__value="",ee(p,p.__value),p.selected=m=l[5]!=="",o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),l[5]===void 0&&Hl(()=>l[41].call(u)),o(c,"class","flex-1"),o(r,"class","flex w-full")},m(k,T){R(k,e,T),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(u,p),n(p,h);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(u,null);jt(u,l[5],!0),g||(b=re(u,"change",l[41]),g=!0)},p(k,T){if(T[0]&262144&&s!==(s=k[18].t("TTS Voice")+"")&&C(a,s),T[0]&262144&&E!==(E=k[18].t("Default")+"")&&C(h,E),T[0]&65568&&m!==(m=k[5]!=="")&&(p.selected=m),T[0]&65568){I=mt(k[16]);let D;for(D=0;D<I.length;D+=1){const $=ni(k,I,D);w[D]?w[D].p($,T):(w[D]=di($),w[D].c(),w[D].m(u,null))}for(;D<w.length;D+=1)w[D].d(1);w.length=I.length}T[0]&65568&&jt(u,k[5])},d(k){k&&f(e),Il(w,k),g=!1,b()}}}function ii(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[56].id,ee(e,e.__value)},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&65536&&t!==(t=i[56].name+"")&&C(s,t),r[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function oi(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[56].id,ee(e,e.__value)},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&65536&&t!==(t=i[56].name+"")&&C(s,t),r[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function ui(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),v(e).forEach(f),this.h()},h(){e.__value=t=l[59].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){R(s,e,a)},p(s,a){a[0]&131072&&t!==(t=s[59].id)&&(e.__value=t,ee(e,e.__value))},d(s){s&&f(e)}}}function fi(l){let e,t=l[56].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[56].id,ee(e,e.__value)},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&65536&&t!==(t=i[56].name+"")&&C(s,t),r[0]&65536&&a!==(a=i[56].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function ci(l){let e,t;return{c(){e=d("option"),this.h()},l(s){e=_(s,"OPTION",{class:!0}),v(e).forEach(f),this.h()},h(){e.__value=t=l[59].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(s,a){R(s,e,a)},p(s,a){a[0]&131072&&t!==(t=s[59].id)&&(e.__value=t,ee(e,e.__value))},d(s){s&&f(e)}}}function di(l){let e,t=l[56].name.replace("+",", ")+"",s,a,i;return{c(){e=d("option"),s=L(t),this.h()},l(r){e=_(r,"OPTION",{class:!0});var c=v(e);s=M(c,t),c.forEach(f),this.h()},h(){e.__value=a=l[56].voiceURI,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=l[5]===l[56].voiceURI},m(r,c){R(r,e,c),n(e,s)},p(r,c){c[0]&65536&&t!==(t=r[56].name.replace("+",", ")+"")&&C(s,t),c[0]&65536&&a!==(a=r[56].voiceURI)&&(e.__value=a,ee(e,e.__value)),c[0]&65568&&i!==(i=r[5]===r[56].voiceURI)&&(e.selected=i)},d(r){r&&f(e)}}}function _i(l){let e,t=l[18].t(l[53].charAt(0).toUpperCase()+l[53].slice(1))+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[53],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&262144&&t!==(t=a[18].t(a[53].charAt(0).toUpperCase()+a[53].slice(1))+"")&&C(s,t)},d(a){a&&f(e)}}}function Mc(l){let e,t,s,a,i,r=l[18].t("STT Settings")+"",c,u,p,E,h=l[18].t("Speech-to-Text Engine")+"",m,g,b,I,w,k=l[18].t("Whisper (Local)")+"",T,D,$="OpenAI",V,O=l[18].t("Web API")+"",N,P,H="Deepgram",U,B,Y,S,F,G,K,J,Q=l[18].t("TTS Settings")+"",X,ie,ue,le,z=l[18].t("Text-to-Speech Engine")+"",Z,q,te,ae,de,ne=l[18].t("Web API")+"",oe,fe,ke=l[18].t("Transformers")+"",Ee,x,_e=l[18].t("Local")+"",Te,be,Ie,Me=l[18].t("OpenAI")+"",ce,De,Ce=l[18].t("ElevenLabs")+"",Ue,se,ye=l[18].t("Azure AI Speech")+"",Be,$e,Le,Ge,qe,Ke,je,Ae,Ve,Pe,st,It,at=l[18].t("Response splitting")+"",Ze,pt,Lt,Dt,Tt,_t,tt=l[18].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",rt,nt,ut,dt,vt=l[18].t("Save")+"",he,Ne,kt,ot;const gt=[Tc,kc,wc],wt=[];function Mt(we,xe){return we[11]==="openai"?0:we[11]==="deepgram"?1:we[11]===""?2:-1}~(B=Mt(l))&&(Y=wt[B]=gt[B](l));const zt=[Nc,$c,yc],Kt=[];function Xt(we,xe){return we[3]==="openai"?0:we[3]==="elevenlabs"?1:we[3]==="azure"?2:-1}~(Le=Xt(l))&&(Ge=Kt[Le]=zt[Le](l));function Gt(we,xe){if(we[3]==="")return Lc;if(we[3]==="transformers")return Sc;if(we[3]==="openai")return Pc;if(we[3]==="elevenlabs")return Oc;if(we[3]==="azure")return Vc}let ll=Gt(l),qt=ll&&ll(l),At=mt(Object.values(Fr)),Re=[];for(let we=0;we<At.length;we+=1)Re[we]=_i(ei(l,At,we));return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),i=d("div"),c=L(r),u=A(),p=d("div"),E=d("div"),m=L(h),g=A(),b=d("div"),I=d("select"),w=d("option"),T=L(k),D=d("option"),D.textContent=$,V=d("option"),N=L(O),P=d("option"),P.textContent=H,U=A(),Y&&Y.c(),S=A(),F=d("hr"),G=A(),K=d("div"),J=d("div"),X=L(Q),ie=A(),ue=d("div"),le=d("div"),Z=L(z),q=A(),te=d("div"),ae=d("select"),de=d("option"),oe=L(ne),fe=d("option"),Ee=L(ke),x=L(" ("),Te=L(_e),be=L(")"),Ie=d("option"),ce=L(Me),De=d("option"),Ue=L(Ce),se=d("option"),Be=L(ye),$e=A(),Ge&&Ge.c(),qe=A(),Ke=d("hr"),je=A(),qt&&qt.c(),Ae=A(),Ve=d("hr"),Pe=A(),st=d("div"),It=d("div"),Ze=L(at),pt=A(),Lt=d("div"),Dt=d("select");for(let we=0;we<Re.length;we+=1)Re[we].c();Tt=A(),_t=d("div"),rt=L(tt),nt=A(),ut=d("div"),dt=d("button"),he=L(vt),this.h()},l(we){e=_(we,"FORM",{class:!0});var xe=v(e);t=_(xe,"DIV",{class:!0});var Ot=v(t);s=_(Ot,"DIV",{class:!0});var Ut=v(s);a=_(Ut,"DIV",{});var ct=v(a);i=_(ct,"DIV",{class:!0});var Nt=v(i);c=M(Nt,r),Nt.forEach(f),u=y(ct),p=_(ct,"DIV",{class:!0});var $t=v(p);E=_($t,"DIV",{class:!0});var Ct=v(E);m=M(Ct,h),Ct.forEach(f),g=y($t),b=_($t,"DIV",{class:!0});var He=v(b);I=_(He,"SELECT",{class:!0,placeholder:!0});var et=v(I);w=_(et,"OPTION",{});var ht=v(w);T=M(ht,k),ht.forEach(f),D=_(et,"OPTION",{"data-svelte-h":!0}),Bt(D)!=="svelte-bbvrw2"&&(D.textContent=$),V=_(et,"OPTION",{});var Pt=v(V);N=M(Pt,O),Pt.forEach(f),P=_(et,"OPTION",{"data-svelte-h":!0}),Bt(P)!=="svelte-htpsvy"&&(P.textContent=H),et.forEach(f),He.forEach(f),$t.forEach(f),U=y(ct),Y&&Y.l(ct),ct.forEach(f),S=y(Ut),F=_(Ut,"HR",{class:!0}),G=y(Ut),K=_(Ut,"DIV",{});var Je=v(K);J=_(Je,"DIV",{class:!0});var hl=v(J);X=M(hl,Q),hl.forEach(f),ie=y(Je),ue=_(Je,"DIV",{class:!0});var sl=v(ue);le=_(sl,"DIV",{class:!0});var Qt=v(le);Z=M(Qt,z),Qt.forEach(f),q=y(sl),te=_(sl,"DIV",{class:!0});var Zt=v(te);ae=_(Zt,"SELECT",{class:!0,placeholder:!0});var rl=v(ae);de=_(rl,"OPTION",{});var it=v(de);oe=M(it,ne),it.forEach(f),fe=_(rl,"OPTION",{});var yt=v(fe);Ee=M(yt,ke),x=M(yt," ("),Te=M(yt,_e),be=M(yt,")"),yt.forEach(f),Ie=_(rl,"OPTION",{});var Rt=v(Ie);ce=M(Rt,Me),Rt.forEach(f),De=_(rl,"OPTION",{});var dl=v(De);Ue=M(dl,Ce),dl.forEach(f),se=_(rl,"OPTION",{});var Tl=v(se);Be=M(Tl,ye),Tl.forEach(f),rl.forEach(f),Zt.forEach(f),sl.forEach(f),$e=y(Je),Ge&&Ge.l(Je),qe=y(Je),Ke=_(Je,"HR",{class:!0}),je=y(Je),qt&&qt.l(Je),Ae=y(Je),Ve=_(Je,"HR",{class:!0}),Pe=y(Je),st=_(Je,"DIV",{class:!0});var gl=v(st);It=_(gl,"DIV",{class:!0});var wl=v(It);Ze=M(wl,at),wl.forEach(f),pt=y(gl),Lt=_(gl,"DIV",{class:!0});var Yt=v(Lt);Dt=_(Yt,"SELECT",{class:!0,"aria-label":!0});var Nl=v(Dt);for(let nl=0;nl<Re.length;nl+=1)Re[nl].l(Nl);Nl.forEach(f),Yt.forEach(f),gl.forEach(f),Tt=y(Je),_t=_(Je,"DIV",{class:!0});var Al=v(_t);rt=M(Al,tt),Al.forEach(f),Je.forEach(f),Ut.forEach(f),Ot.forEach(f),nt=y(xe),ut=_(xe,"DIV",{class:!0});var pl=v(ut);dt=_(pl,"BUTTON",{class:!0,type:!0});var Jt=v(dt);he=M(Jt,vt),Jt.forEach(f),pl.forEach(f),xe.forEach(f),this.h()},h(){o(i,"class","mb-1 text-sm font-medium"),o(E,"class","self-center text-xs font-medium"),w.__value="",ee(w,w.__value),D.__value="openai",ee(D,D.__value),V.__value="web",ee(V,V.__value),P.__value="deepgram",ee(P,P.__value),o(I,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(I,"placeholder","Select an engine"),l[11]===void 0&&Hl(()=>l[26].call(I)),o(b,"class","flex items-center relative"),o(p,"class","py-0.5 flex w-full justify-between"),o(F,"class","border-gray-100 dark:border-gray-850"),o(J,"class","mb-1 text-sm font-medium"),o(le,"class","self-center text-xs font-medium"),de.__value="",ee(de,de.__value),fe.__value="transformers",ee(fe,fe.__value),Ie.__value="openai",ee(Ie,Ie.__value),De.__value="elevenlabs",ee(De,De.__value),se.__value="azure",ee(se,se.__value),o(ae,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(ae,"placeholder","Select a mode"),l[3]===void 0&&Hl(()=>l[34].call(ae)),o(te,"class","flex items-center relative"),o(ue,"class","py-0.5 flex w-full justify-between"),o(Ke,"class","border-gray-100 dark:border-gray-850 my-2"),o(Ve,"class","border-gray-100 dark:border-gray-850 my-2"),o(It,"class","self-center text-xs font-medium"),o(Dt,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(Dt,"aria-label","Select how to split message text for TTS requests"),l[6]===void 0&&Hl(()=>l[49].call(Dt)),o(Lt,"class","flex items-center relative"),o(st,"class","pt-0.5 flex w-full justify-between"),o(_t,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(s,"class","flex flex-col gap-3"),o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(dt,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(dt,"type","submit"),o(ut,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(we,xe){R(we,e,xe),n(e,t),n(t,s),n(s,a),n(a,i),n(i,c),n(a,u),n(a,p),n(p,E),n(E,m),n(p,g),n(p,b),n(b,I),n(I,w),n(w,T),n(I,D),n(I,V),n(V,N),n(I,P),jt(I,l[11],!0),n(a,U),~B&&wt[B].m(a,null),n(s,S),n(s,F),n(s,G),n(s,K),n(K,J),n(J,X),n(K,ie),n(K,ue),n(ue,le),n(le,Z),n(ue,q),n(ue,te),n(te,ae),n(ae,de),n(de,oe),n(ae,fe),n(fe,Ee),n(fe,x),n(fe,Te),n(fe,be),n(ae,Ie),n(Ie,ce),n(ae,De),n(De,Ue),n(ae,se),n(se,Be),jt(ae,l[3],!0),n(K,$e),~Le&&Kt[Le].m(K,null),n(K,qe),n(K,Ke),n(K,je),qt&&qt.m(K,null),n(K,Ae),n(K,Ve),n(K,Pe),n(K,st),n(st,It),n(It,Ze),n(st,pt),n(st,Lt),n(Lt,Dt);for(let Ot=0;Ot<Re.length;Ot+=1)Re[Ot]&&Re[Ot].m(Dt,null);jt(Dt,l[6],!0),n(K,Tt),n(K,_t),n(_t,rt),n(e,nt),n(e,ut),n(ut,dt),n(dt,he),Ne=!0,kt||(ot=[re(I,"change",l[26]),re(ae,"change",l[34]),re(ae,"change",l[35]),re(Dt,"change",l[49]),re(e,"submit",Hs(l[50]))],kt=!0)},p(we,xe){(!Ne||xe[0]&262144)&&r!==(r=we[18].t("STT Settings")+"")&&C(c,r),(!Ne||xe[0]&262144)&&h!==(h=we[18].t("Speech-to-Text Engine")+"")&&C(m,h),(!Ne||xe[0]&262144)&&k!==(k=we[18].t("Whisper (Local)")+"")&&C(T,k),(!Ne||xe[0]&262144)&&O!==(O=we[18].t("Web API")+"")&&C(N,O),xe[0]&2048&&jt(I,we[11]);let Ot=B;B=Mt(we),B===Ot?~B&&wt[B].p(we,xe):(Y&&(Et(),W(wt[Ot],1,1,()=>{wt[Ot]=null}),bt()),~B?(Y=wt[B],Y?Y.p(we,xe):(Y=wt[B]=gt[B](we),Y.c()),j(Y,1),Y.m(a,null)):Y=null),(!Ne||xe[0]&262144)&&Q!==(Q=we[18].t("TTS Settings")+"")&&C(X,Q),(!Ne||xe[0]&262144)&&z!==(z=we[18].t("Text-to-Speech Engine")+"")&&C(Z,z),(!Ne||xe[0]&262144)&&ne!==(ne=we[18].t("Web API")+"")&&C(oe,ne),(!Ne||xe[0]&262144)&&ke!==(ke=we[18].t("Transformers")+"")&&C(Ee,ke),(!Ne||xe[0]&262144)&&_e!==(_e=we[18].t("Local")+"")&&C(Te,_e),(!Ne||xe[0]&262144)&&Me!==(Me=we[18].t("OpenAI")+"")&&C(ce,Me),(!Ne||xe[0]&262144)&&Ce!==(Ce=we[18].t("ElevenLabs")+"")&&C(Ue,Ce),(!Ne||xe[0]&262144)&&ye!==(ye=we[18].t("Azure AI Speech")+"")&&C(Be,ye),xe[0]&8&&jt(ae,we[3]);let Ut=Le;if(Le=Xt(we),Le===Ut?~Le&&Kt[Le].p(we,xe):(Ge&&(Et(),W(Kt[Ut],1,1,()=>{Kt[Ut]=null}),bt()),~Le?(Ge=Kt[Le],Ge?Ge.p(we,xe):(Ge=Kt[Le]=zt[Le](we),Ge.c()),j(Ge,1),Ge.m(K,qe)):Ge=null),ll===(ll=Gt(we))&&qt?qt.p(we,xe):(qt&&qt.d(1),qt=ll&&ll(we),qt&&(qt.c(),qt.m(K,Ae))),(!Ne||xe[0]&262144)&&at!==(at=we[18].t("Response splitting")+"")&&C(Ze,at),xe[0]&262144){At=mt(Object.values(Fr));let ct;for(ct=0;ct<At.length;ct+=1){const Nt=ei(we,At,ct);Re[ct]?Re[ct].p(Nt,xe):(Re[ct]=_i(Nt),Re[ct].c(),Re[ct].m(Dt,null))}for(;ct<Re.length;ct+=1)Re[ct].d(1);Re.length=At.length}xe[0]&64&&jt(Dt,we[6]),(!Ne||xe[0]&262144)&&tt!==(tt=we[18].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&C(rt,tt),(!Ne||xe[0]&262144)&&vt!==(vt=we[18].t("Save")+"")&&C(he,vt)},i(we){Ne||(j(Y),j(Ge),Ne=!0)},o(we){W(Y),W(Ge),Ne=!1},d(we){we&&f(e),~B&&wt[B].d(),~Le&&Kt[Le].d(),qt&&qt.d(),Il(Re,we),kt=!1,bl(ot)}}}function Rc(l,e,t){let s,a,i;Wt(l,rr,ce=>t(51,a=ce)),Wt(l,Ps,ce=>t(52,i=ce));const r=Ea(),c=Kl("i18n");Wt(l,c,ce=>t(18,s=ce));let{saveHandler:u}=e,p="",E="",h="",m="",g="",b="",I=Fr.PUNCTUATION,w="",k="",T="",D="",$="",V="",O="",N="",P=!1,H=[],U=[];const B=async()=>{var ce;if(m==="")t(17,U=[]);else{const De=await tf(localStorage.token,((ce=i==null?void 0:i.features)==null?void 0:ce.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)).catch(Ce=>{Fe.error(`${Ce}`)});De&&(console.log(De),t(17,U=De.models))}},Y=async()=>{if(m===""){const ce=setInterval(()=>{t(16,H=speechSynthesis.getVoices()),H.length>0&&(clearInterval(ce),H.sort((De,Ce)=>De.name.localeCompare(Ce.name,s.resolvedLanguage)))},100)}else{const ce=await lf(localStorage.token).catch(De=>{Fe.error(`${De}`)});ce&&(console.log(ce),t(16,H=ce.voices),H.sort((De,Ce)=>De.name.localeCompare(Ce.name,s.resolvedLanguage)))}},S=async()=>{await sf(localStorage.token,{tts:{OPENAI_API_BASE_URL:p,OPENAI_API_KEY:E,API_KEY:h,ENGINE:m,MODEL:g,VOICE:b,SPLIT_ON:I,AZURE_SPEECH_REGION:w,AZURE_SPEECH_OUTPUT_FORMAT:k},stt:{OPENAI_API_BASE_URL:T,OPENAI_API_KEY:D,ENGINE:$,MODEL:V,WHISPER_MODEL:O,DEEPGRAM_API_KEY:N}})&&(u(),Ps.set(await Wa()))},F=async()=>{t(15,P=!0),await S(),t(15,P=!1)};bs(async()=>{const ce=await ef(localStorage.token);ce&&(console.log(ce),t(0,p=ce.tts.OPENAI_API_BASE_URL),t(1,E=ce.tts.OPENAI_API_KEY),t(2,h=ce.tts.API_KEY),t(3,m=ce.tts.ENGINE),t(4,g=ce.tts.MODEL),t(5,b=ce.tts.VOICE),t(6,I=ce.tts.SPLIT_ON||Fr.PUNCTUATION),t(8,k=ce.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(7,w=ce.tts.AZURE_SPEECH_REGION),t(9,T=ce.stt.OPENAI_API_BASE_URL),t(10,D=ce.stt.OPENAI_API_KEY),t(11,$=ce.stt.ENGINE),t(12,V=ce.stt.MODEL),t(13,O=ce.stt.WHISPER_MODEL),t(14,N=ce.stt.DEEPGRAM_API_KEY)),await Y(),await B()});function G(){$=Bl(this),t(11,$)}function K(){T=this.value,t(9,T)}function J(ce){D=ce,t(10,D)}function Q(){V=this.value,t(12,V)}function X(ce){N=ce,t(14,N)}function ie(){V=this.value,t(12,V)}function ue(){O=this.value,t(13,O)}const le=()=>{F()};function z(){m=Bl(this),t(3,m)}const Z=async ce=>{var De;await S(),await Y(),await B(),((De=ce.target)==null?void 0:De.value)==="openai"?(t(5,b="alloy"),t(4,g="tts-1")):(t(5,b=""),t(4,g=""))};function q(){p=this.value,t(0,p)}function te(ce){E=ce,t(1,E)}function ae(){h=this.value,t(2,h)}function de(){h=this.value,t(2,h)}function ne(){w=this.value,t(7,w)}function oe(){b=Bl(this),t(5,b),t(16,H)}function fe(){g=this.value,t(4,g)}function ke(){b=this.value,t(5,b),t(16,H)}function Ee(){g=this.value,t(4,g)}function x(){b=this.value,t(5,b),t(16,H)}function _e(){g=this.value,t(4,g)}function Te(){b=this.value,t(5,b),t(16,H)}function be(){k=this.value,t(8,k)}function Ie(){I=Bl(this),t(6,I)}const Me=async()=>{await S(),r("save")};return l.$$set=ce=>{"saveHandler"in ce&&t(25,u=ce.saveHandler)},[p,E,h,m,g,b,I,w,k,T,D,$,V,O,N,P,H,U,s,r,c,B,Y,S,F,u,G,K,J,Q,X,ie,ue,le,z,Z,q,te,ae,de,ne,oe,fe,ke,Ee,x,_e,Te,be,Ie,Me]}class Cc extends Ml{constructor(e){super(),Rl(this,e,Rc,Mc,Ll,{saveHandler:25},null,[-1,-1,-1])}}function hi(l,e,t){const s=l.slice();return s[42]=e[t],s}function pi(l,e,t){const s=l.slice();return s[51]=e[t],s[52]=e,s[53]=t,s}function vi(l,e,t){const s=l.slice();return s[45]=e[t],s}function mi(l,e,t){const s=l.slice();return s[48]=e[t],s}function gi(l){var Me;let e,t,s=l[5].t("Image Settings")+"",a,i,r,c,u,p=l[5].t("Image Generation (Experimental)")+"",E,h,m,g,b,I,w,k,T,D=l[5].t("Image Generation Engine")+"",$,V,O,N,P,H=l[5].t("Default (Open AI)")+"",U,B,Y=l[5].t("ComfyUI")+"",S,F,G=l[5].t("Automatic1111")+"",K,J,Q=l[5].t("Gemini")+"",X,ie,ue,le,z,Z,q,te,ae,de,ne,oe,fe;function ke(ce){l[11](ce)}let Ee={};l[1].enabled!==void 0&&(Ee.state=l[1].enabled),g=new yl({props:Ee}),We.push(()=>Qe(g,"state",ke)),g.$on("change",l[12]);let x=l[1].enabled&&Ei(l);const _e=[Gc,Hc,Bc,Uc],Te=[];function be(ce,De){var Ce,Ue,se,ye;return(((Ce=ce[1])==null?void 0:Ce.engine)??"automatic1111")==="automatic1111"?0:((Ue=ce[1])==null?void 0:Ue.engine)==="comfyui"?1:((se=ce[1])==null?void 0:se.engine)==="openai"?2:((ye=ce[1])==null?void 0:ye.engine)==="gemini"?3:-1}~(q=be(l))&&(te=Te[q]=_e[q](l));let Ie=((Me=l[1])==null?void 0:Me.enabled)&&Di(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("div"),E=L(p),h=A(),m=d("div"),pe(g.$$.fragment),I=A(),x&&x.c(),w=A(),k=d("div"),T=d("div"),$=L(D),V=A(),O=d("div"),N=d("select"),P=d("option"),U=L(H),B=d("option"),S=L(Y),F=d("option"),K=L(G),J=d("option"),X=L(Q),ue=A(),le=d("hr"),z=A(),Z=d("div"),te&&te.c(),ae=A(),Ie&&Ie.c(),de=ul(),this.h()},l(ce){e=_(ce,"DIV",{});var De=v(e);t=_(De,"DIV",{class:!0});var Ce=v(t);a=M(Ce,s),Ce.forEach(f),i=y(De),r=_(De,"DIV",{});var Ue=v(r);c=_(Ue,"DIV",{class:!0});var se=v(c);u=_(se,"DIV",{class:!0});var ye=v(u);E=M(ye,p),ye.forEach(f),h=y(se),m=_(se,"DIV",{class:!0});var Be=v(m);ve(g.$$.fragment,Be),Be.forEach(f),se.forEach(f),Ue.forEach(f),I=y(De),x&&x.l(De),w=y(De),k=_(De,"DIV",{class:!0});var $e=v(k);T=_($e,"DIV",{class:!0});var Le=v(T);$=M(Le,D),Le.forEach(f),V=y($e),O=_($e,"DIV",{class:!0});var Ge=v(O);N=_(Ge,"SELECT",{class:!0,placeholder:!0});var qe=v(N);P=_(qe,"OPTION",{});var Ke=v(P);U=M(Ke,H),Ke.forEach(f),B=_(qe,"OPTION",{});var je=v(B);S=M(je,Y),je.forEach(f),F=_(qe,"OPTION",{});var Ae=v(F);K=M(Ae,G),Ae.forEach(f),J=_(qe,"OPTION",{});var Ve=v(J);X=M(Ve,Q),Ve.forEach(f),qe.forEach(f),Ge.forEach(f),$e.forEach(f),De.forEach(f),ue=y(ce),le=_(ce,"HR",{class:!0}),z=y(ce),Z=_(ce,"DIV",{class:!0});var Pe=v(Z);te&&te.l(Pe),Pe.forEach(f),ae=y(ce),Ie&&Ie.l(ce),de=ul(),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(m,"class","px-1"),o(c,"class","py-1 flex w-full justify-between"),o(T,"class","self-center text-xs font-medium"),P.__value="openai",ee(P,P.__value),B.__value="comfyui",ee(B,B.__value),F.__value="automatic1111",ee(F,F.__value),J.__value="gemini",ee(J,J.__value),o(N,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(N,"placeholder",ie=l[5].t("Select Engine")),l[1].engine===void 0&&Hl(()=>l[14].call(N)),o(O,"class","flex items-center relative"),o(k,"class","py-1 flex w-full justify-between"),o(le,"class","border-gray-100 dark:border-gray-850"),o(Z,"class","flex flex-col gap-2")},m(ce,De){R(ce,e,De),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(u,E),n(c,h),n(c,m),me(g,m,null),n(e,I),x&&x.m(e,null),n(e,w),n(e,k),n(k,T),n(T,$),n(k,V),n(k,O),n(O,N),n(N,P),n(P,U),n(N,B),n(B,S),n(N,F),n(F,K),n(N,J),n(J,X),jt(N,l[1].engine,!0),R(ce,ue,De),R(ce,le,De),R(ce,z,De),R(ce,Z,De),~q&&Te[q].m(Z,null),R(ce,ae,De),Ie&&Ie.m(ce,De),R(ce,de,De),ne=!0,oe||(fe=[re(N,"change",l[14]),re(N,"change",l[15])],oe=!0)},p(ce,De){var se;(!ne||De[0]&32)&&s!==(s=ce[5].t("Image Settings")+"")&&C(a,s),(!ne||De[0]&32)&&p!==(p=ce[5].t("Image Generation (Experimental)")+"")&&C(E,p);const Ce={};!b&&De[0]&2&&(b=!0,Ce.state=ce[1].enabled,Xe(()=>b=!1)),g.$set(Ce),ce[1].enabled?x?(x.p(ce,De),De[0]&2&&j(x,1)):(x=Ei(ce),x.c(),j(x,1),x.m(e,w)):x&&(Et(),W(x,1,1,()=>{x=null}),bt()),(!ne||De[0]&32)&&D!==(D=ce[5].t("Image Generation Engine")+"")&&C($,D),(!ne||De[0]&32)&&H!==(H=ce[5].t("Default (Open AI)")+"")&&C(U,H),(!ne||De[0]&32)&&Y!==(Y=ce[5].t("ComfyUI")+"")&&C(S,Y),(!ne||De[0]&32)&&G!==(G=ce[5].t("Automatic1111")+"")&&C(K,G),(!ne||De[0]&32)&&Q!==(Q=ce[5].t("Gemini")+"")&&C(X,Q),(!ne||De[0]&32&&ie!==(ie=ce[5].t("Select Engine")))&&o(N,"placeholder",ie),De[0]&2&&jt(N,ce[1].engine);let Ue=q;q=be(ce),q===Ue?~q&&Te[q].p(ce,De):(te&&(Et(),W(Te[Ue],1,1,()=>{Te[Ue]=null}),bt()),~q?(te=Te[q],te?te.p(ce,De):(te=Te[q]=_e[q](ce),te.c()),j(te,1),te.m(Z,null)):te=null),(se=ce[1])!=null&&se.enabled?Ie?(Ie.p(ce,De),De[0]&2&&j(Ie,1)):(Ie=Di(ce),Ie.c(),j(Ie,1),Ie.m(de.parentNode,de)):Ie&&(Et(),W(Ie,1,1,()=>{Ie=null}),bt())},i(ce){ne||(j(g.$$.fragment,ce),j(x),j(te),j(Ie),ne=!0)},o(ce){W(g.$$.fragment,ce),W(x),W(te),W(Ie),ne=!1},d(ce){ce&&(f(e),f(ue),f(le),f(z),f(Z),f(ae),f(de)),ge(g),x&&x.d(),~q&&Te[q].d(),Ie&&Ie.d(ce),oe=!1,bl(fe)}}}function Ei(l){let e,t,s=l[5].t("Image Prompt Generation")+"",a,i,r,c,u,p;function E(m){l[13](m)}let h={};return l[1].prompt_generation!==void 0&&(h.state=l[1].prompt_generation),c=new yl({props:h}),We.push(()=>Qe(c,"state",E)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),pe(c.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);a=M(b,s),b.forEach(f),i=y(g),r=_(g,"DIV",{class:!0});var I=v(r);ve(c.$$.fragment,I),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(r,"class","px-1"),o(e,"class","py-1 flex w-full justify-between")},m(m,g){R(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),me(c,r,null),p=!0},p(m,g){(!p||g[0]&32)&&s!==(s=m[5].t("Image Prompt Generation")+"")&&C(a,s);const b={};!u&&g[0]&2&&(u=!0,b.state=m[1].prompt_generation,Xe(()=>u=!1)),c.$set(b)},i(m){p||(j(c.$$.fragment,m),p=!0)},o(m){W(c.$$.fragment,m),p=!1},d(m){m&&f(e),ge(c)}}}function Uc(l){let e,t,s=l[5].t("Gemini API Config")+"",a,i,r,c,u,p,E,h,m,g,b;function I(k){l[33](k)}let w={placeholder:l[5].t("API Key")};return l[1].gemini.GEMINI_API_KEY!==void 0&&(w.value=l[1].gemini.GEMINI_API_KEY),E=new $l({props:w}),We.push(()=>Qe(E,"value",I)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("input"),p=A(),pe(E.$$.fragment),this.h()},l(k){e=_(k,"DIV",{});var T=v(e);t=_(T,"DIV",{class:!0});var D=v(t);a=M(D,s),D.forEach(f),i=y(T),r=_(T,"DIV",{class:!0});var $=v(r);c=_($,"INPUT",{class:!0,placeholder:!0}),p=y($),ve(E.$$.fragment,$),$.forEach(f),T.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","flex-1 w-full text-sm bg-transparent outline-none"),o(c,"placeholder",u=l[5].t("API Base URL")),c.required=!0,o(r,"class","flex gap-2 mb-1")},m(k,T){R(k,e,T),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),ee(c,l[1].gemini.GEMINI_API_BASE_URL),n(r,p),me(E,r,null),m=!0,g||(b=re(c,"input",l[32]),g=!0)},p(k,T){(!m||T[0]&32)&&s!==(s=k[5].t("Gemini API Config")+"")&&C(a,s),(!m||T[0]&32&&u!==(u=k[5].t("API Base URL")))&&o(c,"placeholder",u),T[0]&2&&c.value!==k[1].gemini.GEMINI_API_BASE_URL&&ee(c,k[1].gemini.GEMINI_API_BASE_URL);const D={};T[0]&32&&(D.placeholder=k[5].t("API Key")),!h&&T[0]&2&&(h=!0,D.value=k[1].gemini.GEMINI_API_KEY,Xe(()=>h=!1)),E.$set(D)},i(k){m||(j(E.$$.fragment,k),m=!0)},o(k){W(E.$$.fragment,k),m=!1},d(k){k&&f(e),ge(E),g=!1,b()}}}function Bc(l){let e,t,s=l[5].t("OpenAI API Config")+"",a,i,r,c,u,p,E,h,m,g,b;function I(k){l[31](k)}let w={placeholder:l[5].t("API Key")};return l[1].openai.OPENAI_API_KEY!==void 0&&(w.value=l[1].openai.OPENAI_API_KEY),E=new $l({props:w}),We.push(()=>Qe(E,"value",I)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("input"),p=A(),pe(E.$$.fragment),this.h()},l(k){e=_(k,"DIV",{});var T=v(e);t=_(T,"DIV",{class:!0});var D=v(t);a=M(D,s),D.forEach(f),i=y(T),r=_(T,"DIV",{class:!0});var $=v(r);c=_($,"INPUT",{class:!0,placeholder:!0}),p=y($),ve(E.$$.fragment,$),$.forEach(f),T.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","flex-1 w-full text-sm bg-transparent outline-hidden"),o(c,"placeholder",u=l[5].t("API Base URL")),c.required=!0,o(r,"class","flex gap-2 mb-1")},m(k,T){R(k,e,T),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),ee(c,l[1].openai.OPENAI_API_BASE_URL),n(r,p),me(E,r,null),m=!0,g||(b=re(c,"input",l[30]),g=!0)},p(k,T){(!m||T[0]&32)&&s!==(s=k[5].t("OpenAI API Config")+"")&&C(a,s),(!m||T[0]&32&&u!==(u=k[5].t("API Base URL")))&&o(c,"placeholder",u),T[0]&2&&c.value!==k[1].openai.OPENAI_API_BASE_URL&&ee(c,k[1].openai.OPENAI_API_BASE_URL);const D={};T[0]&32&&(D.placeholder=k[5].t("API Key")),!h&&T[0]&2&&(h=!0,D.value=k[1].openai.OPENAI_API_KEY,Xe(()=>h=!1)),E.$set(D)},i(k){m||(j(E.$$.fragment,k),m=!0)},o(k){W(E.$$.fragment,k),m=!1},d(k){k&&f(e),ge(E),g=!1,b()}}}function Hc(l){let e,t,s=l[5].t("ComfyUI Base URL")+"",a,i,r,c,u,p,E,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,b,I,w=l[5].t("ComfyUI API Key")+"",k,T,D,$,V,O,N,P,H,U=l[5].t("ComfyUI Workflow")+"",B,Y,S,F,G,K,J,Q,X=l[5].t("Click here to upload a workflow.json file.")+"",ie,ue,le,z=l[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",Z,q,te,ae,de,ne;function oe(x){l[24](x)}let fe={placeholder:l[5].t("sk-1234"),required:!1};l[1].comfyui.COMFYUI_API_KEY!==void 0&&(fe.value=l[1].comfyui.COMFYUI_API_KEY),V=new $l({props:fe}),We.push(()=>Qe(V,"value",oe));let ke=l[1].comfyui.COMFYUI_WORKFLOW&&bi(l),Ee=l[1].comfyui.COMFYUI_WORKFLOW&&Ii(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("button"),h.innerHTML=m,g=A(),b=d("div"),I=d("div"),k=L(w),T=A(),D=d("div"),$=d("div"),pe(V.$$.fragment),N=A(),P=d("div"),H=d("div"),B=L(U),Y=A(),ke&&ke.c(),S=A(),F=d("div"),G=d("div"),K=d("input"),J=A(),Q=d("button"),ie=L(X),ue=A(),le=d("div"),Z=L(z),q=A(),Ee&&Ee.c(),te=ul(),this.h()},l(x){e=_(x,"DIV",{class:!0});var _e=v(e);t=_(_e,"DIV",{class:!0});var Te=v(t);a=M(Te,s),Te.forEach(f),i=y(_e),r=_(_e,"DIV",{class:!0});var be=v(r);c=_(be,"DIV",{class:!0});var Ie=v(c);u=_(Ie,"INPUT",{class:!0,placeholder:!0}),Ie.forEach(f),E=y(be),h=_(be,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(h)!=="svelte-6bmm9v"&&(h.innerHTML=m),be.forEach(f),_e.forEach(f),g=y(x),b=_(x,"DIV",{class:!0});var Me=v(b);I=_(Me,"DIV",{class:!0});var ce=v(I);k=M(ce,w),ce.forEach(f),T=y(Me),D=_(Me,"DIV",{class:!0});var De=v(D);$=_(De,"DIV",{class:!0});var Ce=v($);ve(V.$$.fragment,Ce),Ce.forEach(f),De.forEach(f),Me.forEach(f),N=y(x),P=_(x,"DIV",{class:!0});var Ue=v(P);H=_(Ue,"DIV",{class:!0});var se=v(H);B=M(se,U),se.forEach(f),Y=y(Ue),ke&&ke.l(Ue),S=y(Ue),F=_(Ue,"DIV",{class:!0});var ye=v(F);G=_(ye,"DIV",{class:!0});var Be=v(G);K=_(Be,"INPUT",{id:!0,type:!0,accept:!0}),J=y(Be),Q=_(Be,"BUTTON",{class:!0,type:!0});var $e=v(Q);ie=M($e,X),$e.forEach(f),Be.forEach(f),ye.forEach(f),ue=y(Ue),le=_(Ue,"DIV",{class:!0});var Le=v(le);Z=M(Le,z),Le.forEach(f),Ue.forEach(f),q=y(x),Ee&&Ee.l(x),te=ul(),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"placeholder",p=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(c,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(r,"class","flex w-full"),o(e,"class",""),o(I,"class","mb-2 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(D,"class","flex w-full"),o(b,"class",""),o(H,"class","mb-2 text-sm font-medium"),o(K,"id","upload-comfyui-workflow-input"),K.hidden=!0,o(K,"type","file"),o(K,"accept",".json"),o(Q,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),o(Q,"type","button"),o(G,"class","flex-1"),o(F,"class","flex w-full"),o(le,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(P,"class","")},m(x,_e){R(x,e,_e),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].comfyui.COMFYUI_BASE_URL),n(r,E),n(r,h),R(x,g,_e),R(x,b,_e),n(b,I),n(I,k),n(b,T),n(b,D),n(D,$),me(V,$,null),R(x,N,_e),R(x,P,_e),n(P,H),n(H,B),n(P,Y),ke&&ke.m(P,null),n(P,S),n(P,F),n(F,G),n(G,K),n(G,J),n(G,Q),n(Q,ie),n(P,ue),n(P,le),n(le,Z),R(x,q,_e),Ee&&Ee.m(x,_e),R(x,te,_e),ae=!0,de||(ne=[re(u,"input",l[22]),re(h,"click",l[23]),re(K,"change",l[26]),re(Q,"click",l[27])],de=!0)},p(x,_e){(!ae||_e[0]&32)&&s!==(s=x[5].t("ComfyUI Base URL")+"")&&C(a,s),(!ae||_e[0]&32&&p!==(p=x[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",p),_e[0]&2&&u.value!==x[1].comfyui.COMFYUI_BASE_URL&&ee(u,x[1].comfyui.COMFYUI_BASE_URL),(!ae||_e[0]&32)&&w!==(w=x[5].t("ComfyUI API Key")+"")&&C(k,w);const Te={};_e[0]&32&&(Te.placeholder=x[5].t("sk-1234")),!O&&_e[0]&2&&(O=!0,Te.value=x[1].comfyui.COMFYUI_API_KEY,Xe(()=>O=!1)),V.$set(Te),(!ae||_e[0]&32)&&U!==(U=x[5].t("ComfyUI Workflow")+"")&&C(B,U),x[1].comfyui.COMFYUI_WORKFLOW?ke?ke.p(x,_e):(ke=bi(x),ke.c(),ke.m(P,S)):ke&&(ke.d(1),ke=null),(!ae||_e[0]&32)&&X!==(X=x[5].t("Click here to upload a workflow.json file.")+"")&&C(ie,X),(!ae||_e[0]&32)&&z!==(z=x[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&C(Z,z),x[1].comfyui.COMFYUI_WORKFLOW?Ee?(Ee.p(x,_e),_e[0]&2&&j(Ee,1)):(Ee=Ii(x),Ee.c(),j(Ee,1),Ee.m(te.parentNode,te)):Ee&&(Et(),W(Ee,1,1,()=>{Ee=null}),bt())},i(x){ae||(j(V.$$.fragment,x),j(Ee),ae=!0)},o(x){W(V.$$.fragment,x),W(Ee),ae=!1},d(x){x&&(f(e),f(g),f(b),f(N),f(P),f(q),f(te)),ge(V),ke&&ke.d(),Ee&&Ee.d(x),de=!1,bl(ne)}}}function Gc(l){let e,t,s=l[5].t("AUTOMATIC1111 Base URL")+"",a,i,r,c,u,p,E,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,b,I=l[5].t("Include `--api` flag when running stable-diffusion-webui")+"",w,k,T,D=l[5].t("(e.g. `sh webui.sh --api`)")+"",$,V,O,N,P=l[5].t("AUTOMATIC1111 Api Auth String")+"",H,U,B,Y,S,F,G=l[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",K,J,Q,X=l[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",ie,ue,le,z,Z=l[5].t("Set Sampler")+"",q,te,ae,de,ne,oe,fe,ke,Ee=l[5].t("Set Scheduler")+"",x,_e,Te,be,Ie,Me,ce,De,Ce=l[5].t("Set CFG Scale")+"",Ue,se,ye,Be,$e,Le,Ge,qe;function Ke(Ae){l[18](Ae)}let je={placeholder:l[5].t("Enter api auth string (e.g. username:password)"),required:!1};return l[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(je.value=l[1].automatic1111.AUTOMATIC1111_API_AUTH),B=new $l({props:je}),We.push(()=>Qe(B,"value",Ke)),ne=new Ht({props:{content:l[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[Yc]},$$scope:{ctx:l}}}),Ie=new Ht({props:{content:l[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[Fc]},$$scope:{ctx:l}}}),$e=new Ht({props:{content:l[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[Wc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("button"),h.innerHTML=m,g=A(),b=d("div"),w=L(I),k=A(),T=d("a"),$=L(D),V=A(),O=d("div"),N=d("div"),H=L(P),U=A(),pe(B.$$.fragment),S=A(),F=d("div"),K=L(G),J=A(),Q=d("a"),ie=L(X),ue=A(),le=d("div"),z=d("div"),q=L(Z),te=A(),ae=d("div"),de=d("div"),pe(ne.$$.fragment),oe=A(),fe=d("div"),ke=d("div"),x=L(Ee),_e=A(),Te=d("div"),be=d("div"),pe(Ie.$$.fragment),Me=A(),ce=d("div"),De=d("div"),Ue=L(Ce),se=A(),ye=d("div"),Be=d("div"),pe($e.$$.fragment),this.h()},l(Ae){e=_(Ae,"DIV",{});var Ve=v(e);t=_(Ve,"DIV",{class:!0});var Pe=v(t);a=M(Pe,s),Pe.forEach(f),i=y(Ve),r=_(Ve,"DIV",{class:!0});var st=v(r);c=_(st,"DIV",{class:!0});var It=v(c);u=_(It,"INPUT",{class:!0,placeholder:!0}),It.forEach(f),E=y(st),h=_(st,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(h)!=="svelte-6bmm9v"&&(h.innerHTML=m),st.forEach(f),g=y(Ve),b=_(Ve,"DIV",{class:!0});var at=v(b);w=M(at,I),k=y(at),T=_(at,"A",{class:!0,href:!0,target:!0});var Ze=v(T);$=M(Ze,D),Ze.forEach(f),at.forEach(f),Ve.forEach(f),V=y(Ae),O=_(Ae,"DIV",{});var pt=v(O);N=_(pt,"DIV",{class:!0});var Lt=v(N);H=M(Lt,P),Lt.forEach(f),U=y(pt),ve(B.$$.fragment,pt),S=y(pt),F=_(pt,"DIV",{class:!0});var Dt=v(F);K=M(Dt,G),J=y(Dt),Q=_(Dt,"A",{class:!0,href:!0,target:!0});var Tt=v(Q);ie=M(Tt,X),Tt.forEach(f),Dt.forEach(f),pt.forEach(f),ue=y(Ae),le=_(Ae,"DIV",{});var _t=v(le);z=_(_t,"DIV",{class:!0});var tt=v(z);q=M(tt,Z),tt.forEach(f),te=y(_t),ae=_(_t,"DIV",{class:!0});var rt=v(ae);de=_(rt,"DIV",{class:!0});var nt=v(de);ve(ne.$$.fragment,nt),nt.forEach(f),rt.forEach(f),_t.forEach(f),oe=y(Ae),fe=_(Ae,"DIV",{});var ut=v(fe);ke=_(ut,"DIV",{class:!0});var dt=v(ke);x=M(dt,Ee),dt.forEach(f),_e=y(ut),Te=_(ut,"DIV",{class:!0});var vt=v(Te);be=_(vt,"DIV",{class:!0});var he=v(be);ve(Ie.$$.fragment,he),he.forEach(f),vt.forEach(f),ut.forEach(f),Me=y(Ae),ce=_(Ae,"DIV",{});var Ne=v(ce);De=_(Ne,"DIV",{class:!0});var kt=v(De);Ue=M(kt,Ce),kt.forEach(f),se=y(Ne),ye=_(Ne,"DIV",{class:!0});var ot=v(ye);Be=_(ot,"DIV",{class:!0});var gt=v(Be);ve($e.$$.fragment,gt),gt.forEach(f),ot.forEach(f),Ne.forEach(f),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"placeholder",p=l[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),o(c,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(h,"type","button"),o(r,"class","flex w-full"),o(T,"class","text-gray-300 font-medium"),o(T,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),o(T,"target","_blank"),o(b,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(N,"class","mb-2 text-sm font-medium"),o(Q,"class","text-gray-300 font-medium"),o(Q,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),o(Q,"target","_blank"),o(F,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(z,"class","mb-2.5 text-sm font-medium"),o(de,"class","flex-1 mr-2"),o(ae,"class","flex w-full"),o(ke,"class","mb-2.5 text-sm font-medium"),o(be,"class","flex-1 mr-2"),o(Te,"class","flex w-full"),o(De,"class","mb-2.5 text-sm font-medium"),o(Be,"class","flex-1 mr-2"),o(ye,"class","flex w-full")},m(Ae,Ve){R(Ae,e,Ve),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].automatic1111.AUTOMATIC1111_BASE_URL),n(r,E),n(r,h),n(e,g),n(e,b),n(b,w),n(b,k),n(b,T),n(T,$),R(Ae,V,Ve),R(Ae,O,Ve),n(O,N),n(N,H),n(O,U),me(B,O,null),n(O,S),n(O,F),n(F,K),n(F,J),n(F,Q),n(Q,ie),R(Ae,ue,Ve),R(Ae,le,Ve),n(le,z),n(z,q),n(le,te),n(le,ae),n(ae,de),me(ne,de,null),R(Ae,oe,Ve),R(Ae,fe,Ve),n(fe,ke),n(ke,x),n(fe,_e),n(fe,Te),n(Te,be),me(Ie,be,null),R(Ae,Me,Ve),R(Ae,ce,Ve),n(ce,De),n(De,Ue),n(ce,se),n(ce,ye),n(ye,Be),me($e,Be,null),Le=!0,Ge||(qe=[re(u,"input",l[16]),re(h,"click",l[17])],Ge=!0)},p(Ae,Ve){(!Le||Ve[0]&32)&&s!==(s=Ae[5].t("AUTOMATIC1111 Base URL")+"")&&C(a,s),(!Le||Ve[0]&32&&p!==(p=Ae[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&o(u,"placeholder",p),Ve[0]&2&&u.value!==Ae[1].automatic1111.AUTOMATIC1111_BASE_URL&&ee(u,Ae[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Le||Ve[0]&32)&&I!==(I=Ae[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&C(w,I),(!Le||Ve[0]&32)&&D!==(D=Ae[5].t("(e.g. `sh webui.sh --api`)")+"")&&C($,D),(!Le||Ve[0]&32)&&P!==(P=Ae[5].t("AUTOMATIC1111 Api Auth String")+"")&&C(H,P);const Pe={};Ve[0]&32&&(Pe.placeholder=Ae[5].t("Enter api auth string (e.g. username:password)")),!Y&&Ve[0]&2&&(Y=!0,Pe.value=Ae[1].automatic1111.AUTOMATIC1111_API_AUTH,Xe(()=>Y=!1)),B.$set(Pe),(!Le||Ve[0]&32)&&G!==(G=Ae[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&C(K,G),(!Le||Ve[0]&32)&&X!==(X=Ae[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&C(ie,X),(!Le||Ve[0]&32)&&Z!==(Z=Ae[5].t("Set Sampler")+"")&&C(q,Z);const st={};Ve[0]&32&&(st.content=Ae[5].t("Enter Sampler (e.g. Euler a)")),Ve[0]&34|Ve[1]&8388608&&(st.$$scope={dirty:Ve,ctx:Ae}),ne.$set(st),(!Le||Ve[0]&32)&&Ee!==(Ee=Ae[5].t("Set Scheduler")+"")&&C(x,Ee);const It={};Ve[0]&32&&(It.content=Ae[5].t("Enter Scheduler (e.g. Karras)")),Ve[0]&34|Ve[1]&8388608&&(It.$$scope={dirty:Ve,ctx:Ae}),Ie.$set(It),(!Le||Ve[0]&32)&&Ce!==(Ce=Ae[5].t("Set CFG Scale")+"")&&C(Ue,Ce);const at={};Ve[0]&32&&(at.content=Ae[5].t("Enter CFG Scale (e.g. 7.0)")),Ve[0]&34|Ve[1]&8388608&&(at.$$scope={dirty:Ve,ctx:Ae}),$e.$set(at)},i(Ae){Le||(j(B.$$.fragment,Ae),j(ne.$$.fragment,Ae),j(Ie.$$.fragment,Ae),j($e.$$.fragment,Ae),Le=!0)},o(Ae){W(B.$$.fragment,Ae),W(ne.$$.fragment,Ae),W(Ie.$$.fragment,Ae),W($e.$$.fragment,Ae),Le=!1},d(Ae){Ae&&(f(e),f(V),f(O),f(ue),f(le),f(oe),f(fe),f(Me),f(ce)),ge(B),ge(ne),ge(Ie),ge($e),Ge=!1,bl(qe)}}}function bi(l){let e,t,s;return{c(){e=d("textarea"),this.h()},l(a){e=_(a,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(f),this.h()},h(){o(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden disabled:text-gray-600 resize-none"),o(e,"rows","10"),e.required=!0},m(a,i){R(a,e,i),ee(e,l[1].comfyui.COMFYUI_WORKFLOW),t||(s=re(e,"input",l[25]),t=!0)},p(a,i){i[0]&2&&ee(e,a[1].comfyui.COMFYUI_WORKFLOW)},d(a){a&&f(e),t=!1,s()}}}function Ii(l){let e,t,s=l[5].t("ComfyUI Workflow Nodes")+"",a,i,r,c,u,p=l[5].t("*Prompt node ID(s) are required for image generation")+"",E,h,m=mt(l[4]),g=[];for(let I=0;I<m.length;I+=1)g[I]=wi(pi(l,m,I));const b=I=>W(g[I],1,1,()=>{g[I]=null});return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div");for(let I=0;I<g.length;I+=1)g[I].c();c=A(),u=d("div"),E=L(p),this.h()},l(I){e=_(I,"DIV",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);a=M(k,s),k.forEach(f),i=y(w),r=_(w,"DIV",{class:!0});var T=v(r);for(let $=0;$<g.length;$+=1)g[$].l(T);T.forEach(f),c=y(w),u=_(w,"DIV",{class:!0});var D=v(u);E=M(D,p),D.forEach(f),w.forEach(f),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(r,"class","text-xs flex flex-col gap-1.5"),o(u,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),o(e,"class","")},m(I,w){R(I,e,w),n(e,t),n(t,a),n(e,i),n(e,r);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(r,null);n(e,c),n(e,u),n(u,E),h=!0},p(I,w){if((!h||w[0]&32)&&s!==(s=I[5].t("ComfyUI Workflow Nodes")+"")&&C(a,s),w[0]&16){m=mt(I[4]);let k;for(k=0;k<m.length;k+=1){const T=pi(I,m,k);g[k]?(g[k].p(T,w),j(g[k],1)):(g[k]=wi(T),g[k].c(),j(g[k],1),g[k].m(r,null))}for(Et(),k=m.length;k<g.length;k+=1)b(k);bt()}(!h||w[0]&32)&&p!==(p=I[5].t("*Prompt node ID(s) are required for image generation")+"")&&C(E,p)},i(I){if(!h){for(let w=0;w<m.length;w+=1)j(g[w]);h=!0}},o(I){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)W(g[w]);h=!1},d(I){I&&f(e),Il(g,I)}}}function jc(l){let e,t,s;function a(){l[28].call(e,l[52],l[53])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-hidden border-r dark:border-gray-850"),o(e,"placeholder","Key"),e.required=!0},m(i,r){R(i,e,r),ee(e,l[51].key),t||(s=re(e,"input",a),t=!0)},p(i,r){l=i,r[0]&16&&e.value!==l[51].key&&ee(e,l[51].key)},d(i){i&&f(e),t=!1,s()}}}function Kc(l){let e,t,s;function a(){l[29].call(e,l[52],l[53])}return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-hidden"),o(e,"placeholder","Node Ids")},m(i,r){R(i,e,r),ee(e,l[51].node_ids),t||(s=re(e,"input",a),t=!0)},p(i,r){l=i,r[0]&16&&e.value!==l[51].node_ids&&ee(e,l[51].node_ids)},d(i){i&&f(e),t=!1,s()}}}function wi(l){let e,t,s,a=l[51].type+"",i,r=l[51].type==="prompt"?"*":"",c,u,p,E,h,m,g,b,I;return E=new Ht({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[jc]},$$scope:{ctx:l}}}),g=new Ht({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Kc]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),c=L(r),u=A(),p=d("div"),pe(E.$$.fragment),h=A(),m=d("div"),pe(g.$$.fragment),b=A(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);s=_(T,"DIV",{class:!0});var D=v(s);i=M(D,a),c=M(D,r),D.forEach(f),T.forEach(f),u=y(k),p=_(k,"DIV",{class:!0});var $=v(p);ve(E.$$.fragment,$),$.forEach(f),h=y(k),m=_(k,"DIV",{class:!0});var V=v(m);ve(g.$$.fragment,V),V.forEach(f),b=y(k),k.forEach(f),this.h()},h(){o(s,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),o(t,"class","shrink-0"),o(p,"class",""),o(m,"class","w-full"),o(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(w,k){R(w,e,k),n(e,t),n(t,s),n(s,i),n(s,c),n(e,u),n(e,p),me(E,p,null),n(e,h),n(e,m),me(g,m,null),n(e,b),I=!0},p(w,k){(!I||k[0]&16)&&a!==(a=w[51].type+"")&&C(i,a),(!I||k[0]&16)&&r!==(r=w[51].type==="prompt"?"*":"")&&C(c,r);const T={};k[0]&16|k[1]&8388608&&(T.$$scope={dirty:k,ctx:w}),E.$set(T);const D={};k[0]&16|k[1]&8388608&&(D.$$scope={dirty:k,ctx:w}),g.$set(D)},i(w){I||(j(E.$$.fragment,w),j(g.$$.fragment,w),I=!0)},o(w){W(E.$$.fragment,w),W(g.$$.fragment,w),I=!1},d(w){w&&f(e),ge(E),ge(g)}}}function ki(l){let e,t=l[48]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[48],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p:ft,d(a){a&&f(e)}}}function Yc(l){let e,t,s,a,i,r,c=mt(l[7]??[]),u=[];for(let p=0;p<c.length;p+=1)u[p]=ki(mi(l,c,p));return{c(){e=d("input"),s=A(),a=d("datalist");for(let p=0;p<u.length;p+=1)u[p].c();this.h()},l(p){e=_(p,"INPUT",{list:!0,class:!0,placeholder:!0}),s=y(p),a=_(p,"DATALIST",{id:!0});var E=v(a);for(let h=0;h<u.length;h+=1)u[h].l(E);E.forEach(f),this.h()},h(){o(e,"list","sampler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Sampler (e.g. Euler a)")),o(a,"id","sampler-list")},m(p,E){R(p,e,E),ee(e,l[1].automatic1111.AUTOMATIC1111_SAMPLER),R(p,s,E),R(p,a,E);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(a,null);i||(r=re(e,"input",l[19]),i=!0)},p(p,E){if(E[0]&32&&t!==(t=p[5].t("Enter Sampler (e.g. Euler a)"))&&o(e,"placeholder",t),E[0]&2&&e.value!==p[1].automatic1111.AUTOMATIC1111_SAMPLER&&ee(e,p[1].automatic1111.AUTOMATIC1111_SAMPLER),E[0]&128){c=mt(p[7]??[]);let h;for(h=0;h<c.length;h+=1){const m=mi(p,c,h);u[h]?u[h].p(m,E):(u[h]=ki(m),u[h].c(),u[h].m(a,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}},d(p){p&&(f(e),f(s),f(a)),Il(u,p),i=!1,r()}}}function Ti(l){let e,t=l[45]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[45],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p:ft,d(a){a&&f(e)}}}function Fc(l){let e,t,s,a,i,r,c=mt(l[8]??[]),u=[];for(let p=0;p<c.length;p+=1)u[p]=Ti(vi(l,c,p));return{c(){e=d("input"),s=A(),a=d("datalist");for(let p=0;p<u.length;p+=1)u[p].c();this.h()},l(p){e=_(p,"INPUT",{list:!0,class:!0,placeholder:!0}),s=y(p),a=_(p,"DATALIST",{id:!0});var E=v(a);for(let h=0;h<u.length;h+=1)u[h].l(E);E.forEach(f),this.h()},h(){o(e,"list","scheduler-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Scheduler (e.g. Karras)")),o(a,"id","scheduler-list")},m(p,E){R(p,e,E),ee(e,l[1].automatic1111.AUTOMATIC1111_SCHEDULER),R(p,s,E),R(p,a,E);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(a,null);i||(r=re(e,"input",l[20]),i=!0)},p(p,E){if(E[0]&32&&t!==(t=p[5].t("Enter Scheduler (e.g. Karras)"))&&o(e,"placeholder",t),E[0]&2&&e.value!==p[1].automatic1111.AUTOMATIC1111_SCHEDULER&&ee(e,p[1].automatic1111.AUTOMATIC1111_SCHEDULER),E[0]&256){c=mt(p[8]??[]);let h;for(h=0;h<c.length;h+=1){const m=vi(p,c,h);u[h]?u[h].p(m,E):(u[h]=Ti(m),u[h].c(),u[h].m(a,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=c.length}},d(p){p&&(f(e),f(s),f(a)),Il(u,p),i=!1,r()}}}function Wc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter CFG Scale (e.g. 7.0)"))},m(i,r){R(i,e,r),ee(e,l[1].automatic1111.AUTOMATIC1111_CFG_SCALE),s||(a=re(e,"input",l[21]),s=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter CFG Scale (e.g. 7.0)"))&&o(e,"placeholder",t),r[0]&2&&e.value!==i[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&ee(e,i[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(i){i&&f(e),s=!1,a()}}}function Di(l){let e,t,s,a,i=l[5].t("Set Default Model")+"",r,c,u,p,E,h,m,g,b,I,w=l[5].t("Set Image Size")+"",k,T,D,$,V,O,N,P,H=l[5].t("Set Steps")+"",U,B,Y,S,F,G;return m=new Ht({props:{content:l[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[qc]},$$scope:{ctx:l}}}),V=new Ht({props:{content:l[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[Zc]},$$scope:{ctx:l}}}),F=new Ht({props:{content:l[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[Jc]},$$scope:{ctx:l}}}),{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("div"),p=d("div"),E=d("div"),h=d("div"),pe(m.$$.fragment),g=A(),b=d("div"),I=d("div"),k=L(w),T=A(),D=d("div"),$=d("div"),pe(V.$$.fragment),O=A(),N=d("div"),P=d("div"),U=L(H),B=A(),Y=d("div"),S=d("div"),pe(F.$$.fragment),this.h()},l(K){e=_(K,"HR",{class:!0}),t=y(K),s=_(K,"DIV",{});var J=v(s);a=_(J,"DIV",{class:!0});var Q=v(a);r=M(Q,i),Q.forEach(f),c=y(J),u=_(J,"DIV",{class:!0});var X=v(u);p=_(X,"DIV",{class:!0});var ie=v(p);E=_(ie,"DIV",{class:!0});var ue=v(E);h=_(ue,"DIV",{class:!0});var le=v(h);ve(m.$$.fragment,le),le.forEach(f),ue.forEach(f),ie.forEach(f),X.forEach(f),J.forEach(f),g=y(K),b=_(K,"DIV",{});var z=v(b);I=_(z,"DIV",{class:!0});var Z=v(I);k=M(Z,w),Z.forEach(f),T=y(z),D=_(z,"DIV",{class:!0});var q=v(D);$=_(q,"DIV",{class:!0});var te=v($);ve(V.$$.fragment,te),te.forEach(f),q.forEach(f),z.forEach(f),O=y(K),N=_(K,"DIV",{});var ae=v(N);P=_(ae,"DIV",{class:!0});var de=v(P);U=M(de,H),de.forEach(f),B=y(ae),Y=_(ae,"DIV",{class:!0});var ne=v(Y);S=_(ne,"DIV",{class:!0});var oe=v(S);ve(F.$$.fragment,oe),oe.forEach(f),ne.forEach(f),ae.forEach(f),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850"),o(a,"class","mb-2.5 text-sm font-medium"),o(h,"class","flex-1"),o(E,"class","flex w-full"),o(p,"class","flex-1 mr-2"),o(u,"class","flex w-full"),o(I,"class","mb-2.5 text-sm font-medium"),o($,"class","flex-1 mr-2"),o(D,"class","flex w-full"),o(P,"class","mb-2.5 text-sm font-medium"),o(S,"class","flex-1 mr-2"),o(Y,"class","flex w-full")},m(K,J){R(K,e,J),R(K,t,J),R(K,s,J),n(s,a),n(a,r),n(s,c),n(s,u),n(u,p),n(p,E),n(E,h),me(m,h,null),R(K,g,J),R(K,b,J),n(b,I),n(I,k),n(b,T),n(b,D),n(D,$),me(V,$,null),R(K,O,J),R(K,N,J),n(N,P),n(P,U),n(N,B),n(N,Y),n(Y,S),me(F,S,null),G=!0},p(K,J){(!G||J[0]&32)&&i!==(i=K[5].t("Set Default Model")+"")&&C(r,i);const Q={};J[0]&32&&(Q.content=K[5].t("Enter Model ID")),J[0]&12|J[1]&8388608&&(Q.$$scope={dirty:J,ctx:K}),m.$set(Q),(!G||J[0]&32)&&w!==(w=K[5].t("Set Image Size")+"")&&C(k,w);const X={};J[0]&32&&(X.content=K[5].t("Enter Image Size (e.g. 512x512)")),J[0]&36|J[1]&8388608&&(X.$$scope={dirty:J,ctx:K}),V.$set(X),(!G||J[0]&32)&&H!==(H=K[5].t("Set Steps")+"")&&C(U,H);const ie={};J[0]&32&&(ie.content=K[5].t("Enter Number of Steps (e.g. 50)")),J[0]&36|J[1]&8388608&&(ie.$$scope={dirty:J,ctx:K}),F.$set(ie)},i(K){G||(j(m.$$.fragment,K),j(V.$$.fragment,K),j(F.$$.fragment,K),G=!0)},o(K){W(m.$$.fragment,K),W(V.$$.fragment,K),W(F.$$.fragment,K),G=!1},d(K){K&&(f(e),f(t),f(s),f(g),f(b),f(O),f(N)),ge(m),ge(V),ge(F)}}}function Ai(l){let e,t=l[42].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[42].id,ee(e,e.__value)},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&8&&t!==(t=i[42].name+"")&&C(s,t),r[0]&8&&a!==(a=i[42].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function qc(l){let e,t,s,a,i,r=mt(l[3]??[]),c=[];for(let u=0;u<r.length;u+=1)c[u]=Ai(hi(l,r,u));return{c(){e=d("input"),t=A(),s=d("datalist");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=_(u,"INPUT",{list:!0,class:!0,placeholder:!0}),t=y(u),s=_(u,"DATALIST",{id:!0});var p=v(s);for(let E=0;E<c.length;E+=1)c[E].l(p);p.forEach(f),this.h()},h(){o(e,"list","model-list"),o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder","Select a model"),e.required=!0,o(s,"id","model-list")},m(u,p){R(u,e,p),ee(e,l[2].MODEL),R(u,t,p),R(u,s,p);for(let E=0;E<c.length;E+=1)c[E]&&c[E].m(s,null);a||(i=re(e,"input",l[34]),a=!0)},p(u,p){if(p[0]&4&&e.value!==u[2].MODEL&&ee(e,u[2].MODEL),p[0]&8){r=mt(u[3]??[]);let E;for(E=0;E<r.length;E+=1){const h=hi(u,r,E);c[E]?c[E].p(h,p):(c[E]=Ai(h),c[E].c(),c[E].m(s,null))}for(;E<c.length;E+=1)c[E].d(1);c.length=r.length}},d(u){u&&(f(e),f(t),f(s)),Il(c,u),a=!1,i()}}}function Zc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(i,r){R(i,e,r),ee(e,l[2].IMAGE_SIZE),s||(a=re(e,"input",l[35]),s=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Image Size (e.g. 512x512)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_SIZE&&ee(e,i[2].IMAGE_SIZE)},d(i){i&&f(e),s=!1,a()}}}function Jc(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"placeholder",t=l[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(i,r){R(i,e,r),ee(e,l[2].IMAGE_STEPS),s||(a=re(e,"input",l[36]),s=!0)},p(i,r){r[0]&32&&t!==(t=i[5].t("Enter Number of Steps (e.g. 50)"))&&o(e,"placeholder",t),r[0]&4&&e.value!==i[2].IMAGE_STEPS&&ee(e,i[2].IMAGE_STEPS)},d(i){i&&f(e),s=!1,a()}}}function yi(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function zc(l){let e,t,s,a,i,r=l[5].t("Save")+"",c,u,p,E,h,m,g=l[1]&&l[2]&&gi(l),b=l[0]&&yi();return{c(){e=d("form"),t=d("div"),g&&g.c(),s=A(),a=d("div"),i=d("button"),c=L(r),u=A(),b&&b.c(),this.h()},l(I){e=_(I,"FORM",{class:!0});var w=v(e);t=_(w,"DIV",{class:!0});var k=v(t);g&&g.l(k),k.forEach(f),s=y(w),a=_(w,"DIV",{class:!0});var T=v(a);i=_(T,"BUTTON",{class:!0,type:!0});var D=v(i);c=M(D,r),u=y(D),b&&b.l(D),D.forEach(f),T.forEach(f),w.forEach(f),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),o(i,"class",p="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[0]?" cursor-not-allowed":"")),o(i,"type","submit"),i.disabled=l[0],o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(I,w){R(I,e,w),n(e,t),g&&g.m(t,null),n(e,s),n(e,a),n(a,i),n(i,c),n(i,u),b&&b.m(i,null),E=!0,h||(m=re(e,"submit",Hs(l[37])),h=!0)},p(I,w){I[1]&&I[2]?g?(g.p(I,w),w[0]&6&&j(g,1)):(g=gi(I),g.c(),j(g,1),g.m(t,null)):g&&(Et(),W(g,1,1,()=>{g=null}),bt()),(!E||w[0]&32)&&r!==(r=I[5].t("Save")+"")&&C(c,r),I[0]?b||(b=yi(),b.c(),b.m(i,null)):b&&(b.d(1),b=null),(!E||w[0]&1&&p!==(p="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(I[0]?" cursor-not-allowed":"")))&&o(i,"class",p),(!E||w[0]&1)&&(i.disabled=I[0])},i(I){E||(j(g),E=!0)},o(I){W(g),E=!1},d(I){I&&f(e),g&&g.d(),b&&b.d(),h=!1,m()}}}function Xc(l,e,t){let s,a;Wt(l,nr,ne=>t(38,s=ne));const i=Ea(),r=Kl("i18n");Wt(l,r,ne=>t(5,a=ne));let c=!1,u=null,p=null,E=null,h=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],m=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],g=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const b=async()=>{t(3,E=await nf(localStorage.token).catch(ne=>(Fe.error(`${ne}`),null)))},I=async()=>{const ne=await Nn(localStorage.token,u).catch(oe=>(Fe.error(`${oe}`),null)).catch(oe=>(Fe.error(`${oe}`),null));ne&&t(1,u=ne),u.enabled&&(Ps.set(await Wa()),b())},w=ne=>{try{const oe=JSON.parse(ne);if(oe&&typeof oe=="object")return!0}catch{}return!1},k=async()=>{var ne,oe;if(t(0,c=!0),(ne=u==null?void 0:u.comfyui)!=null&&ne.COMFYUI_WORKFLOW&&!w(u.comfyui.COMFYUI_WORKFLOW)){Fe.error("Invalid JSON format for ComfyUI Workflow."),t(0,c=!1);return}(oe=u==null?void 0:u.comfyui)!=null&&oe.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW_NODES=g.map(fe=>({type:fe.type,key:fe.key,node_ids:fe.node_ids.trim()===""?[]:fe.node_ids.split(",").map(ke=>ke.trim())})),u),await Nn(localStorage.token,u).catch(fe=>(Fe.error(`${fe}`),t(0,c=!1),null)),await of(localStorage.token,p).catch(fe=>(Fe.error(`${fe}`),t(0,c=!1),null)),b(),i("save"),t(0,c=!1)};bs(async()=>{if(s.role==="admin"){const ne=await af(localStorage.token).catch(fe=>(Fe.error(`${fe}`),null));ne&&t(1,u=ne),u.enabled&&b(),u.comfyui.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(u.comfyui.COMFYUI_WORKFLOW),null,2),u),t(4,g=g.map(fe=>{const ke=u.comfyui.COMFYUI_WORKFLOW_NODES.find(Ee=>Ee.type===fe.type)??fe;return console.log(ke),{type:ke.type,key:ke.key,node_ids:typeof ke.node_ids=="string"?ke.node_ids:ke.node_ids.join(",")}}));const oe=await rf(localStorage.token).catch(fe=>(Fe.error(`${fe}`),null));oe&&t(2,p=oe)}});function T(ne){l.$$.not_equal(u.enabled,ne)&&(u.enabled=ne,t(1,u))}const D=ne=>{ne.detail&&(u.engine==="automatic1111"&&u.automatic1111.AUTOMATIC1111_BASE_URL===""?(Fe.error(a.t("AUTOMATIC1111 Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="comfyui"&&u.comfyui.COMFYUI_BASE_URL===""?(Fe.error(a.t("ComfyUI Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="openai"&&u.openai.OPENAI_API_KEY===""?(Fe.error(a.t("OpenAI API Key is required.")),t(1,u.enabled=!1,u)):u.engine==="gemini"&&u.gemini.GEMINI_API_KEY===""&&(Fe.error(a.t("Gemini API Key is required.")),t(1,u.enabled=!1,u))),I()};function $(ne){l.$$.not_equal(u.prompt_generation,ne)&&(u.prompt_generation=ne,t(1,u))}function V(){u.engine=Bl(this),t(1,u)}const O=async()=>{I()};function N(){u.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,u)}const P=async()=>{await I(),await Vn(localStorage.token).catch(oe=>(Fe.error(`${oe}`),null))&&Fe.success(a.t("Server connection verified"))};function H(ne){l.$$.not_equal(u.automatic1111.AUTOMATIC1111_API_AUTH,ne)&&(u.automatic1111.AUTOMATIC1111_API_AUTH=ne,t(1,u))}function U(){u.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,u)}function B(){u.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,u)}function Y(){u.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,u)}function S(){u.comfyui.COMFYUI_BASE_URL=this.value,t(1,u)}const F=async()=>{await I(),await Vn(localStorage.token).catch(oe=>(Fe.error(`${oe}`),null))&&Fe.success(a.t("Server connection verified"))};function G(ne){l.$$.not_equal(u.comfyui.COMFYUI_API_KEY,ne)&&(u.comfyui.COMFYUI_API_KEY=ne,t(1,u))}function K(){u.comfyui.COMFYUI_WORKFLOW=this.value,t(1,u)}const J=ne=>{const oe=ne.target.files[0],fe=new FileReader;fe.onload=ke=>{t(1,u.comfyui.COMFYUI_WORKFLOW=ke.target.result,u),ke.target.value=null},fe.readAsText(oe)},Q=()=>{var ne;(ne=document.getElementById("upload-comfyui-workflow-input"))==null||ne.click()};function X(ne,oe){ne[oe].key=this.value,t(4,g)}function ie(ne,oe){ne[oe].node_ids=this.value,t(4,g)}function ue(){u.openai.OPENAI_API_BASE_URL=this.value,t(1,u)}function le(ne){l.$$.not_equal(u.openai.OPENAI_API_KEY,ne)&&(u.openai.OPENAI_API_KEY=ne,t(1,u))}function z(){u.gemini.GEMINI_API_BASE_URL=this.value,t(1,u)}function Z(ne){l.$$.not_equal(u.gemini.GEMINI_API_KEY,ne)&&(u.gemini.GEMINI_API_KEY=ne,t(1,u))}function q(){p.MODEL=this.value,t(2,p)}function te(){p.IMAGE_SIZE=this.value,t(2,p)}function ae(){p.IMAGE_STEPS=this.value,t(2,p)}return[c,u,p,E,g,a,r,h,m,I,k,T,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z,Z,q,te,ae,async()=>{k()}]}class Qc extends Ml{constructor(e){super(),Rl(this,e,Xc,zc,Ll,{},null,[-1,-1])}}function $i(l,e,t){const s=l.slice();return s[35]=e[t],s[36]=e,s[37]=t,s}function Ni(l,e,t){const s=l.slice();return s[38]=e[t],s[39]=e,s[40]=t,s}function Vi(l,e,t){const s=l.slice();return s[41]=e[t],s}function Oi(l,e,t){const s=l.slice();return s[41]=e[t],s}function Pi(l){let e,t,s,a,i=l[3].t("Tasks")+"",r,c,u,p,E,h,m=l[3].t("Set Task Model")+"",g,b,I,w,k,T,D,$=l[3].t("Local Models")+"",V,O,N,P,H=l[3].t("Current Model")+"",U,B,Y,S,F,G=l[3].t("External Models")+"",K,J,Q,X,ie=l[3].t("Current Model")+"",ue,le,z,Z,q,te=l[3].t("Title Generation")+"",ae,de,ne,oe,fe,ke,Ee,x,_e=l[3].t("Tags Generation")+"",Te,be,Ie,Me,ce,De,Ce,Ue,se=l[3].t("Retrieval Query Generation")+"",ye,Be,$e,Le,Ge,qe,Ke,je=l[3].t("Web Search Query Generation")+"",Ae,Ve,Pe,st,It,at,Ze,pt=l[3].t("Query Generation Prompt")+"",Lt,Dt,Tt,_t,tt,rt,nt=l[3].t("Autocomplete Generation")+"",ut,dt,vt,he,Ne,kt,ot,gt=l[3].t("Image Prompt Generation Prompt")+"",wt,Mt,zt,Kt,Xt,Gt,ll=l[3].t("Tools Function Calling Prompt")+"",qt,At,Re,we,xe,Ot,Ut=l[3].t("UI")+"",ct,Nt,$t,Ct,He,et,ht,Pt=l[3].t("Banners")+"",Je,hl,sl,Qt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',Zt,rl,it,yt,Rt,dl,Tl,gl=l[3].t("Save")+"",wl,Yt,Nl,Al;I=new Ht({props:{content:l[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[xc]},$$scope:{ctx:l}}});let pl=mt(l[4].filter(Ki)),Jt=[];for(let Se=0;Se<pl.length;Se+=1)Jt[Se]=Si(Oi(l,pl,Se));let nl=mt(l[4]),fl=[];for(let Se=0;Se<nl.length;Se+=1)fl[Se]=Li(Vi(l,nl,Se));function Yl(Se){l[11](Se)}let as={};l[0].ENABLE_TITLE_GENERATION!==void 0&&(as.state=l[0].ENABLE_TITLE_GENERATION),ne=new yl({props:as}),We.push(()=>Qe(ne,"state",Yl));let cl=l[0].ENABLE_TITLE_GENERATION&&Mi(l);function Vl(Se){l[13](Se)}let zl={};l[0].ENABLE_TAGS_GENERATION!==void 0&&(zl.state=l[0].ENABLE_TAGS_GENERATION),Ie=new yl({props:zl}),We.push(()=>Qe(Ie,"state",Vl));let _l=l[0].ENABLE_TAGS_GENERATION&&Ri(l);function rs(Se){l[15](Se)}let kl={};l[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(kl.state=l[0].ENABLE_RETRIEVAL_QUERY_GENERATION),$e=new yl({props:kl}),We.push(()=>Qe($e,"state",rs));function Gl(Se){l[16](Se)}let Pl={};l[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&(Pl.state=l[0].ENABLE_SEARCH_QUERY_GENERATION),Pe=new yl({props:Pl}),We.push(()=>Qe(Pe,"state",Gl)),Tt=new Ht({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[ld]},$$scope:{ctx:l}}}),vt=new Ht({props:{content:l[3].t("Enable autocomplete generation for chat messages"),$$slots:{default:[sd]},$$scope:{ctx:l}}});let Ft=l[0].ENABLE_AUTOCOMPLETE_GENERATION&&Ci(l);zt=new Ht({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[rd]},$$scope:{ctx:l}}}),Re=new Ht({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[nd]},$$scope:{ctx:l}}});let Cl=mt(l[2]),xt=[];for(let Se=0;Se<Cl.length;Se+=1)xt[Se]=Bi(Ni(l,Cl,Se));const Fs=Se=>W(xt[Se],1,1,()=>{xt[Se]=null});let El=l[5].role==="admin"&&Hi(l);return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("hr"),p=A(),E=d("div"),h=d("div"),g=L(m),b=A(),pe(I.$$.fragment),w=A(),k=d("div"),T=d("div"),D=d("div"),V=L($),O=A(),N=d("select"),P=d("option"),U=L(H);for(let Se=0;Se<Jt.length;Se+=1)Jt[Se].c();Y=A(),S=d("div"),F=d("div"),K=L(G),J=A(),Q=d("select"),X=d("option"),ue=L(ie);for(let Se=0;Se<fl.length;Se+=1)fl[Se].c();z=A(),Z=d("div"),q=d("div"),ae=L(te),de=A(),pe(ne.$$.fragment),fe=A(),cl&&cl.c(),ke=A(),Ee=d("div"),x=d("div"),Te=L(_e),be=A(),pe(Ie.$$.fragment),ce=A(),_l&&_l.c(),De=A(),Ce=d("div"),Ue=d("div"),ye=L(se),Be=A(),pe($e.$$.fragment),Ge=A(),qe=d("div"),Ke=d("div"),Ae=L(je),Ve=A(),pe(Pe.$$.fragment),It=A(),at=d("div"),Ze=d("div"),Lt=L(pt),Dt=A(),pe(Tt.$$.fragment),_t=A(),tt=d("div"),rt=d("div"),ut=L(nt),dt=A(),pe(vt.$$.fragment),he=A(),Ft&&Ft.c(),Ne=A(),kt=d("div"),ot=d("div"),wt=L(gt),Mt=A(),pe(zt.$$.fragment),Kt=A(),Xt=d("div"),Gt=d("div"),qt=L(ll),At=A(),pe(Re.$$.fragment),we=A(),xe=d("div"),Ot=d("div"),ct=L(Ut),Nt=A(),$t=d("hr"),Ct=A(),He=d("div"),et=d("div"),ht=d("div"),Je=L(Pt),hl=A(),sl=d("button"),sl.innerHTML=Qt,Zt=A(),rl=d("div");for(let Se=0;Se<xt.length;Se+=1)xt[Se].c();yt=A(),El&&El.c(),Rt=A(),dl=d("div"),Tl=d("button"),wl=L(gl),this.h()},l(Se){e=_(Se,"FORM",{class:!0});var lt=v(e);t=_(lt,"DIV",{class:!0});var il=v(t);s=_(il,"DIV",{class:!0});var el=v(s);a=_(el,"DIV",{class:!0});var ls=v(a);r=M(ls,i),ls.forEach(f),c=y(el),u=_(el,"HR",{class:!0}),p=y(el),E=_(el,"DIV",{class:!0});var Ds=v(E);h=_(Ds,"DIV",{class:!0});var As=v(h);g=M(As,m),As.forEach(f),b=y(Ds),ve(I.$$.fragment,Ds),Ds.forEach(f),w=y(el),k=_(el,"DIV",{class:!0});var Fl=v(k);T=_(Fl,"DIV",{class:!0});var ns=v(T);D=_(ns,"DIV",{class:!0});var Is=v(D);V=M(Is,$),Is.forEach(f),O=y(ns),N=_(ns,"SELECT",{class:!0,placeholder:!0});var Xl=v(N);P=_(Xl,"OPTION",{});var St=v(P);U=M(St,H),St.forEach(f);for(let Ul=0;Ul<Jt.length;Ul+=1)Jt[Ul].l(Xl);Xl.forEach(f),ns.forEach(f),Y=y(Fl),S=_(Fl,"DIV",{class:!0});var Dl=v(S);F=_(Dl,"DIV",{class:!0});var Ws=v(F);K=M(Ws,G),Ws.forEach(f),J=y(Dl),Q=_(Dl,"SELECT",{class:!0,placeholder:!0});var qs=v(Q);X=_(qs,"OPTION",{});var ys=v(X);ue=M(ys,ie),ys.forEach(f);for(let Ul=0;Ul<fl.length;Ul+=1)fl[Ul].l(qs);qs.forEach(f),Dl.forEach(f),Fl.forEach(f),z=y(el),Z=_(el,"DIV",{class:!0});var Ql=v(Z);q=_(Ql,"DIV",{class:!0});var Wl=v(q);ae=M(Wl,te),Wl.forEach(f),de=y(Ql),ve(ne.$$.fragment,Ql),Ql.forEach(f),fe=y(el),cl&&cl.l(el),ke=y(el),Ee=_(el,"DIV",{class:!0});var Ss=v(Ee);x=_(Ss,"DIV",{class:!0});var ca=v(x);Te=M(ca,_e),ca.forEach(f),be=y(Ss),ve(Ie.$$.fragment,Ss),Ss.forEach(f),ce=y(el),_l&&_l.l(el),De=y(el),Ce=_(el,"DIV",{class:!0});var is=v(Ce);Ue=_(is,"DIV",{class:!0});var Ls=v(Ue);ye=M(Ls,se),Ls.forEach(f),Be=y(is),ve($e.$$.fragment,is),is.forEach(f),Ge=y(el),qe=_(el,"DIV",{class:!0});var Ms=v(qe);Ke=_(Ms,"DIV",{class:!0});var Qs=v(Ke);Ae=M(Qs,je),Qs.forEach(f),Ve=y(Ms),ve(Pe.$$.fragment,Ms),Ms.forEach(f),It=y(el),at=_(el,"DIV",{class:!0});var ps=v(at);Ze=_(ps,"DIV",{class:!0});var Gs=v(Ze);Lt=M(Gs,pt),Gs.forEach(f),Dt=y(ps),ve(Tt.$$.fragment,ps),ps.forEach(f),_t=y(el),tt=_(el,"DIV",{class:!0});var ql=v(tt);rt=_(ql,"DIV",{class:!0});var vs=v(rt);ut=M(vs,nt),vs.forEach(f),dt=y(ql),ve(vt.$$.fragment,ql),ql.forEach(f),he=y(el),Ft&&Ft.l(el),Ne=y(el),kt=_(el,"DIV",{class:!0});var $s=v(kt);ot=_($s,"DIV",{class:!0});var ws=v(ot);wt=M(ws,gt),ws.forEach(f),Mt=y($s),ve(zt.$$.fragment,$s),$s.forEach(f),Kt=y(el),Xt=_(el,"DIV",{class:!0});var os=v(Xt);Gt=_(os,"DIV",{class:!0});var Rs=v(Gt);qt=M(Rs,ll),Rs.forEach(f),At=y(os),ve(Re.$$.fragment,os),os.forEach(f),el.forEach(f),we=y(il),xe=_(il,"DIV",{class:!0});var ms=v(xe);Ot=_(ms,"DIV",{class:!0});var Cs=v(Ot);ct=M(Cs,Ut),Cs.forEach(f),Nt=y(ms),$t=_(ms,"HR",{class:!0}),Ct=y(ms),He=_(ms,"DIV",{class:!0});var us=v(He);et=_(us,"DIV",{class:!0});var Us=v(et);ht=_(Us,"DIV",{class:!0});var fs=v(ht);Je=M(fs,Pt),fs.forEach(f),hl=y(Us),sl=_(Us,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(sl)!=="svelte-62xclb"&&(sl.innerHTML=Qt),Us.forEach(f),Zt=y(us),rl=_(us,"DIV",{class:!0});var Zs=v(rl);for(let Ul=0;Ul<xt.length;Ul+=1)xt[Ul].l(Zs);Zs.forEach(f),us.forEach(f),yt=y(ms),El&&El.l(ms),ms.forEach(f),il.forEach(f),Rt=y(lt),dl=_(lt,"DIV",{class:!0});var xs=v(dl);Tl=_(xs,"BUTTON",{class:!0,type:!0});var ea=v(Tl);wl=M(ea,gl),ea.forEach(f),xs.forEach(f),lt.forEach(f),this.h()},h(){o(a,"class","mb-2.5 text-base font-medium"),o(u,"class","border-gray-100 dark:border-gray-850 my-2"),o(h,"class","text-xs mr-1"),o(E,"class","mb-1 font-medium flex items-center"),o(D,"class","text-xs mb-1"),P.__value="",ee(P,P.__value),P.selected=!0,o(N,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(N,"placeholder",B=l[3].t("Select a model")),l[0].TASK_MODEL===void 0&&Hl(()=>l[9].call(N)),o(T,"class","flex-1"),o(F,"class","text-xs mb-1"),X.__value="",ee(X,X.__value),X.selected=!0,o(Q,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Q,"placeholder",le=l[3].t("Select a model")),l[0].TASK_MODEL_EXTERNAL===void 0&&Hl(()=>l[10].call(Q)),o(S,"class","flex-1"),o(k,"class","mb-2.5 flex w-full gap-2"),o(q,"class","self-center text-xs font-medium"),o(Z,"class","mb-2.5 flex w-full items-center justify-between"),o(x,"class","self-center text-xs font-medium"),o(Ee,"class","mb-2.5 flex w-full items-center justify-between"),o(Ue,"class","self-center text-xs font-medium"),o(Ce,"class","mb-2.5 flex w-full items-center justify-between"),o(Ke,"class","self-center text-xs font-medium"),o(qe,"class","mb-2.5 flex w-full items-center justify-between"),o(Ze,"class","mb-1 text-xs font-medium"),o(at,"class","mb-2.5"),o(rt,"class","self-center text-xs font-medium"),o(tt,"class","mb-2.5 flex w-full items-center justify-between"),o(ot,"class","mb-1 text-xs font-medium"),o(kt,"class","mb-2.5"),o(Gt,"class","mb-1 text-xs font-medium"),o(Xt,"class","mb-2.5"),o(s,"class","mb-3.5"),o(Ot,"class","mb-2.5 text-base font-medium"),o($t,"class","border-gray-100 dark:border-gray-850 my-2"),o(ht,"class","self-center text-sm font-semibold"),o(sl,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(sl,"type","button"),o(et,"class","mb-2.5 flex w-full justify-between"),o(rl,"class","flex flex-col space-y-1"),o(He,"class",it=l[2].length>0?" mb-3":""),o(xe,"class","mb-3.5"),o(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Tl,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(Tl,"type","submit"),o(dl,"class","flex justify-end text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Se,lt){R(Se,e,lt),n(e,t),n(t,s),n(s,a),n(a,r),n(s,c),n(s,u),n(s,p),n(s,E),n(E,h),n(h,g),n(E,b),me(I,E,null),n(s,w),n(s,k),n(k,T),n(T,D),n(D,V),n(T,O),n(T,N),n(N,P),n(P,U);for(let il=0;il<Jt.length;il+=1)Jt[il]&&Jt[il].m(N,null);jt(N,l[0].TASK_MODEL,!0),n(k,Y),n(k,S),n(S,F),n(F,K),n(S,J),n(S,Q),n(Q,X),n(X,ue);for(let il=0;il<fl.length;il+=1)fl[il]&&fl[il].m(Q,null);jt(Q,l[0].TASK_MODEL_EXTERNAL,!0),n(s,z),n(s,Z),n(Z,q),n(q,ae),n(Z,de),me(ne,Z,null),n(s,fe),cl&&cl.m(s,null),n(s,ke),n(s,Ee),n(Ee,x),n(x,Te),n(Ee,be),me(Ie,Ee,null),n(s,ce),_l&&_l.m(s,null),n(s,De),n(s,Ce),n(Ce,Ue),n(Ue,ye),n(Ce,Be),me($e,Ce,null),n(s,Ge),n(s,qe),n(qe,Ke),n(Ke,Ae),n(qe,Ve),me(Pe,qe,null),n(s,It),n(s,at),n(at,Ze),n(Ze,Lt),n(at,Dt),me(Tt,at,null),n(s,_t),n(s,tt),n(tt,rt),n(rt,ut),n(tt,dt),me(vt,tt,null),n(s,he),Ft&&Ft.m(s,null),n(s,Ne),n(s,kt),n(kt,ot),n(ot,wt),n(kt,Mt),me(zt,kt,null),n(s,Kt),n(s,Xt),n(Xt,Gt),n(Gt,qt),n(Xt,At),me(Re,Xt,null),n(t,we),n(t,xe),n(xe,Ot),n(Ot,ct),n(xe,Nt),n(xe,$t),n(xe,Ct),n(xe,He),n(He,et),n(et,ht),n(ht,Je),n(et,hl),n(et,sl),n(He,Zt),n(He,rl);for(let il=0;il<xt.length;il+=1)xt[il]&&xt[il].m(rl,null);n(xe,yt),El&&El.m(xe,null),n(e,Rt),n(e,dl),n(dl,Tl),n(Tl,wl),Yt=!0,Nl||(Al=[re(N,"change",l[9]),re(Q,"change",l[10]),re(sl,"click",l[22]),re(e,"submit",Hs(l[32]))],Nl=!0)},p(Se,lt){(!Yt||lt[0]&8)&&i!==(i=Se[3].t("Tasks")+"")&&C(r,i),(!Yt||lt[0]&8)&&m!==(m=Se[3].t("Set Task Model")+"")&&C(g,m);const il={};if(lt[0]&8&&(il.content=Se[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),lt[1]&32768&&(il.$$scope={dirty:lt,ctx:Se}),I.$set(il),(!Yt||lt[0]&8)&&$!==($=Se[3].t("Local Models")+"")&&C(V,$),(!Yt||lt[0]&8)&&H!==(H=Se[3].t("Current Model")+"")&&C(U,H),lt[0]&16){pl=mt(Se[4].filter(Ki));let St;for(St=0;St<pl.length;St+=1){const Dl=Oi(Se,pl,St);Jt[St]?Jt[St].p(Dl,lt):(Jt[St]=Si(Dl),Jt[St].c(),Jt[St].m(N,null))}for(;St<Jt.length;St+=1)Jt[St].d(1);Jt.length=pl.length}if((!Yt||lt[0]&8&&B!==(B=Se[3].t("Select a model")))&&o(N,"placeholder",B),lt[0]&17&&jt(N,Se[0].TASK_MODEL),(!Yt||lt[0]&8)&&G!==(G=Se[3].t("External Models")+"")&&C(K,G),(!Yt||lt[0]&8)&&ie!==(ie=Se[3].t("Current Model")+"")&&C(ue,ie),lt[0]&16){nl=mt(Se[4]);let St;for(St=0;St<nl.length;St+=1){const Dl=Vi(Se,nl,St);fl[St]?fl[St].p(Dl,lt):(fl[St]=Li(Dl),fl[St].c(),fl[St].m(Q,null))}for(;St<fl.length;St+=1)fl[St].d(1);fl.length=nl.length}(!Yt||lt[0]&8&&le!==(le=Se[3].t("Select a model")))&&o(Q,"placeholder",le),lt[0]&17&&jt(Q,Se[0].TASK_MODEL_EXTERNAL),(!Yt||lt[0]&8)&&te!==(te=Se[3].t("Title Generation")+"")&&C(ae,te);const el={};!oe&&lt[0]&1&&(oe=!0,el.state=Se[0].ENABLE_TITLE_GENERATION,Xe(()=>oe=!1)),ne.$set(el),Se[0].ENABLE_TITLE_GENERATION?cl?(cl.p(Se,lt),lt[0]&1&&j(cl,1)):(cl=Mi(Se),cl.c(),j(cl,1),cl.m(s,ke)):cl&&(Et(),W(cl,1,1,()=>{cl=null}),bt()),(!Yt||lt[0]&8)&&_e!==(_e=Se[3].t("Tags Generation")+"")&&C(Te,_e);const ls={};!Me&&lt[0]&1&&(Me=!0,ls.state=Se[0].ENABLE_TAGS_GENERATION,Xe(()=>Me=!1)),Ie.$set(ls),Se[0].ENABLE_TAGS_GENERATION?_l?(_l.p(Se,lt),lt[0]&1&&j(_l,1)):(_l=Ri(Se),_l.c(),j(_l,1),_l.m(s,De)):_l&&(Et(),W(_l,1,1,()=>{_l=null}),bt()),(!Yt||lt[0]&8)&&se!==(se=Se[3].t("Retrieval Query Generation")+"")&&C(ye,se);const Ds={};!Le&&lt[0]&1&&(Le=!0,Ds.state=Se[0].ENABLE_RETRIEVAL_QUERY_GENERATION,Xe(()=>Le=!1)),$e.$set(Ds),(!Yt||lt[0]&8)&&je!==(je=Se[3].t("Web Search Query Generation")+"")&&C(Ae,je);const As={};!st&&lt[0]&1&&(st=!0,As.state=Se[0].ENABLE_SEARCH_QUERY_GENERATION,Xe(()=>st=!1)),Pe.$set(As),(!Yt||lt[0]&8)&&pt!==(pt=Se[3].t("Query Generation Prompt")+"")&&C(Lt,pt);const Fl={};lt[0]&8&&(Fl.content=Se[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&32768&&(Fl.$$scope={dirty:lt,ctx:Se}),Tt.$set(Fl),(!Yt||lt[0]&8)&&nt!==(nt=Se[3].t("Autocomplete Generation")+"")&&C(ut,nt);const ns={};lt[0]&8&&(ns.content=Se[3].t("Enable autocomplete generation for chat messages")),lt[0]&1|lt[1]&32768&&(ns.$$scope={dirty:lt,ctx:Se}),vt.$set(ns),Se[0].ENABLE_AUTOCOMPLETE_GENERATION?Ft?(Ft.p(Se,lt),lt[0]&1&&j(Ft,1)):(Ft=Ci(Se),Ft.c(),j(Ft,1),Ft.m(s,Ne)):Ft&&(Et(),W(Ft,1,1,()=>{Ft=null}),bt()),(!Yt||lt[0]&8)&&gt!==(gt=Se[3].t("Image Prompt Generation Prompt")+"")&&C(wt,gt);const Is={};lt[0]&8&&(Is.content=Se[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&32768&&(Is.$$scope={dirty:lt,ctx:Se}),zt.$set(Is),(!Yt||lt[0]&8)&&ll!==(ll=Se[3].t("Tools Function Calling Prompt")+"")&&C(qt,ll);const Xl={};if(lt[0]&8&&(Xl.content=Se[3].t("Leave empty to use the default prompt, or enter a custom prompt")),lt[0]&9|lt[1]&32768&&(Xl.$$scope={dirty:lt,ctx:Se}),Re.$set(Xl),(!Yt||lt[0]&8)&&Ut!==(Ut=Se[3].t("UI")+"")&&C(ct,Ut),(!Yt||lt[0]&8)&&Pt!==(Pt=Se[3].t("Banners")+"")&&C(Je,Pt),lt[0]&12){Cl=mt(Se[2]);let St;for(St=0;St<Cl.length;St+=1){const Dl=Ni(Se,Cl,St);xt[St]?(xt[St].p(Dl,lt),j(xt[St],1)):(xt[St]=Bi(Dl),xt[St].c(),j(xt[St],1),xt[St].m(rl,null))}for(Et(),St=Cl.length;St<xt.length;St+=1)Fs(St);bt()}(!Yt||lt[0]&4&&it!==(it=Se[2].length>0?" mb-3":""))&&o(He,"class",it),Se[5].role==="admin"?El?El.p(Se,lt):(El=Hi(Se),El.c(),El.m(xe,null)):El&&(El.d(1),El=null),(!Yt||lt[0]&8)&&gl!==(gl=Se[3].t("Save")+"")&&C(wl,gl)},i(Se){if(!Yt){j(I.$$.fragment,Se),j(ne.$$.fragment,Se),j(cl),j(Ie.$$.fragment,Se),j(_l),j($e.$$.fragment,Se),j(Pe.$$.fragment,Se),j(Tt.$$.fragment,Se),j(vt.$$.fragment,Se),j(Ft),j(zt.$$.fragment,Se),j(Re.$$.fragment,Se);for(let lt=0;lt<Cl.length;lt+=1)j(xt[lt]);Yt=!0}},o(Se){W(I.$$.fragment,Se),W(ne.$$.fragment,Se),W(cl),W(Ie.$$.fragment,Se),W(_l),W($e.$$.fragment,Se),W(Pe.$$.fragment,Se),W(Tt.$$.fragment,Se),W(vt.$$.fragment,Se),W(Ft),W(zt.$$.fragment,Se),W(Re.$$.fragment,Se),xt=xt.filter(Boolean);for(let lt=0;lt<xt.length;lt+=1)W(xt[lt]);Yt=!1},d(Se){Se&&f(e),ge(I),Il(Jt,Se),Il(fl,Se),ge(ne),cl&&cl.d(),ge(Ie),_l&&_l.d(),ge($e),ge(Pe),ge(Tt),ge(vt),Ft&&Ft.d(),ge(zt),ge(Re),Il(xt,Se),El&&El.d(),Nl=!1,bl(Al)}}}function xc(l){let e,t;return{c(){e=vl("svg"),t=vl("path"),this.h()},l(s){e=ml(s,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=v(e);t=ml(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(f),a.forEach(f),this.h()},h(){o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","size-3.5")},m(s,a){R(s,e,a),n(e,t)},p:ft,d(s){s&&f(e)}}}function Si(l){let e,t=l[41].name+"",s,a,i;return{c(){e=d("option"),s=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var c=v(e);s=M(c,t),a=y(c),c.forEach(f),this.h()},h(){e.__value=i=l[41].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,c){R(r,e,c),n(e,s),n(e,a)},p(r,c){c[0]&16&&t!==(t=r[41].name+"")&&C(s,t),c[0]&16&&i!==(i=r[41].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&f(e)}}}function Li(l){let e,t=l[41].name+"",s,a,i;return{c(){e=d("option"),s=L(t),a=A(),this.h()},l(r){e=_(r,"OPTION",{class:!0});var c=v(e);s=M(c,t),a=y(c),c.forEach(f),this.h()},h(){e.__value=i=l[41].id,ee(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,c){R(r,e,c),n(e,s),n(e,a)},p(r,c){c[0]&16&&t!==(t=r[41].name+"")&&C(s,t),c[0]&16&&i!==(i=r[41].id)&&(e.__value=i,ee(e,e.__value))},d(r){r&&f(e)}}}function Mi(l){let e,t,s=l[3].t("Title Generation Prompt")+"",a,i,r,c;return r=new Ht({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[ed]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=v(e);t=_(p,"DIV",{class:!0});var E=v(t);a=M(E,s),E.forEach(f),i=y(p),ve(r.$$.fragment,p),p.forEach(f),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(u,p){R(u,e,p),n(e,t),n(t,a),n(e,i),me(r,e,null),c=!0},p(u,p){(!c||p[0]&8)&&s!==(s=u[3].t("Title Generation Prompt")+"")&&C(a,s);const E={};p[0]&8&&(E.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),p[0]&9|p[1]&32768&&(E.$$scope={dirty:p,ctx:u}),r.$set(E)},i(u){c||(j(r.$$.fragment,u),c=!0)},o(u){W(r.$$.fragment,u),c=!1},d(u){u&&f(e),ge(r)}}}function ed(l){let e,t,s;function a(r){l[12](r)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=r[0].TITLE_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Ri(l){let e,t,s=l[3].t("Tags Generation Prompt")+"",a,i,r,c;return r=new Ht({props:{content:l[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[td]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=v(e);t=_(p,"DIV",{class:!0});var E=v(t);a=M(E,s),E.forEach(f),i=y(p),ve(r.$$.fragment,p),p.forEach(f),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(u,p){R(u,e,p),n(e,t),n(t,a),n(e,i),me(r,e,null),c=!0},p(u,p){(!c||p[0]&8)&&s!==(s=u[3].t("Tags Generation Prompt")+"")&&C(a,s);const E={};p[0]&8&&(E.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),p[0]&9|p[1]&32768&&(E.$$scope={dirty:p,ctx:u}),r.$set(E)},i(u){c||(j(r.$$.fragment,u),c=!0)},o(u){W(r.$$.fragment,u),c=!1},d(u){u&&f(e),ge(r)}}}function td(l){let e,t,s;function a(r){l[14](r)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=r[0].TAGS_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function ld(l){let e,t,s;function a(r){l[17](r)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=r[0].QUERY_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function sd(l){let e,t,s;function a(r){l[18](r)}let i={};return l[0].ENABLE_AUTOCOMPLETE_GENERATION!==void 0&&(i.state=l[0].ENABLE_AUTOCOMPLETE_GENERATION),e=new yl({props:i}),We.push(()=>Qe(e,"state",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};!t&&c[0]&1&&(t=!0,u.state=r[0].ENABLE_AUTOCOMPLETE_GENERATION,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Ci(l){let e,t,s=l[3].t("Autocomplete Generation Input Max Length")+"",a,i,r,c;return r=new Ht({props:{content:l[3].t("Character limit for autocomplete generation input"),placement:"top-start",$$slots:{default:[ad]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=v(e);t=_(p,"DIV",{class:!0});var E=v(t);a=M(E,s),E.forEach(f),i=y(p),ve(r.$$.fragment,p),p.forEach(f),this.h()},h(){o(t,"class","mb-1 text-xs font-medium"),o(e,"class","mb-2.5")},m(u,p){R(u,e,p),n(e,t),n(t,a),n(e,i),me(r,e,null),c=!0},p(u,p){(!c||p[0]&8)&&s!==(s=u[3].t("Autocomplete Generation Input Max Length")+"")&&C(a,s);const E={};p[0]&8&&(E.content=u[3].t("Character limit for autocomplete generation input")),p[0]&9|p[1]&32768&&(E.$$scope={dirty:p,ctx:u}),r.$set(E)},i(u){c||(j(r.$$.fragment,u),c=!0)},o(u){W(r.$$.fragment,u),c=!1},d(u){u&&f(e),ge(r)}}}function ad(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(e,"class","w-full outline-hidden bg-transparent"),o(e,"placeholder",t=l[3].t("-1 for no limit, or a positive integer for a specific limit"))},m(i,r){R(i,e,r),ee(e,l[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH),s||(a=re(e,"input",l[19]),s=!0)},p(i,r){r[0]&8&&t!==(t=i[3].t("-1 for no limit, or a positive integer for a specific limit"))&&o(e,"placeholder",t),r[0]&17&&e.value!==i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH&&ee(e,i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH)},d(i){i&&f(e),s=!1,a()}}}function rd(l){let e,t,s;function a(r){l[20](r)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=r[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function nd(l){let e,t,s;function a(r){l[21](r)}let i={placeholder:l[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE!==void 0&&(i.value=l[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&8&&(u.placeholder=r[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&1&&(t=!0,u.value=r[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Ui(l){let e,t=l[3].t("Type")+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value="",ee(e,e.__value),e.selected=!0,e.disabled=!0,o(e,"class","text-gray-900")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8&&t!==(t=a[3].t("Type")+"")&&C(s,t)},d(a){a&&f(e)}}}function id(l){let e,t,s;function a(r){l[25](r,l[38])}let i={};return l[38].dismissible!==void 0&&(i.state=l[38].dismissible),e=new yl({props:i}),We.push(()=>Qe(e,"state",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){l=r;const u={};!t&&c[0]&4&&(t=!0,u.state=l[38].dismissible,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Bi(l){let e,t,s,a,i=l[3].t("Info")+"",r,c,u=l[3].t("Warning")+"",p,E,h=l[3].t("Error")+"",m,g,b=l[3].t("Success")+"",I,w,k,T,D,$,V,O,N,P='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',H,U,B,Y,S=l[38].type==""&&Ui(l);function F(){l[23].call(s,l[39],l[40])}function G(){l[24].call(k,l[39],l[40])}V=new Ht({props:{content:l[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[id]},$$scope:{ctx:l}}});function K(){return l[26](l[40])}return{c(){e=d("div"),t=d("div"),s=d("select"),S&&S.c(),a=d("option"),r=L(i),c=d("option"),p=L(u),E=d("option"),m=L(h),g=d("option"),I=L(b),w=A(),k=d("input"),D=A(),$=d("div"),pe(V.$$.fragment),O=A(),N=d("button"),N.innerHTML=P,H=A(),this.h()},l(J){e=_(J,"DIV",{class:!0});var Q=v(e);t=_(Q,"DIV",{class:!0});var X=v(t);s=_(X,"SELECT",{class:!0});var ie=v(s);S&&S.l(ie),a=_(ie,"OPTION",{class:!0});var ue=v(a);r=M(ue,i),ue.forEach(f),c=_(ie,"OPTION",{class:!0});var le=v(c);p=M(le,u),le.forEach(f),E=_(ie,"OPTION",{class:!0});var z=v(E);m=M(z,h),z.forEach(f),g=_(ie,"OPTION",{class:!0});var Z=v(g);I=M(Z,b),Z.forEach(f),ie.forEach(f),w=y(X),k=_(X,"INPUT",{class:!0,placeholder:!0}),D=y(X),$=_(X,"DIV",{class:!0});var q=v($);ve(V.$$.fragment,q),q.forEach(f),X.forEach(f),O=y(Q),N=_(Q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(N)!=="svelte-xxjdq8"&&(N.innerHTML=P),H=y(Q),Q.forEach(f),this.h()},h(){a.__value="info",ee(a,a.__value),o(a,"class","text-gray-900"),c.__value="warning",ee(c,c.__value),o(c,"class","text-gray-900"),E.__value="error",ee(E,E.__value),o(E,"class","text-gray-900"),g.__value="success",ee(g,g.__value),o(g,"class","text-gray-900"),o(s,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-hidden"),s.required=!0,l[38].type===void 0&&Hl(F),o(k,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-hidden"),o(k,"placeholder",T=l[3].t("Content")),o($,"class","relative top-1.5 -left-2"),o(t,"class","flex flex-row flex-1 border rounded-xl border-gray-100 dark:border-gray-850"),o(N,"class","px-2"),o(N,"type","button"),o(e,"class","flex justify-between")},m(J,Q){R(J,e,Q),n(e,t),n(t,s),S&&S.m(s,null),n(s,a),n(a,r),n(s,c),n(c,p),n(s,E),n(E,m),n(s,g),n(g,I),jt(s,l[38].type,!0),n(t,w),n(t,k),ee(k,l[38].content),n(t,D),n(t,$),me(V,$,null),n(e,O),n(e,N),n(e,H),U=!0,B||(Y=[re(s,"change",F),re(k,"input",G),re(N,"click",K)],B=!0)},p(J,Q){l=J,l[38].type==""?S?S.p(l,Q):(S=Ui(l),S.c(),S.m(s,a)):S&&(S.d(1),S=null),(!U||Q[0]&8)&&i!==(i=l[3].t("Info")+"")&&C(r,i),(!U||Q[0]&8)&&u!==(u=l[3].t("Warning")+"")&&C(p,u),(!U||Q[0]&8)&&h!==(h=l[3].t("Error")+"")&&C(m,h),(!U||Q[0]&8)&&b!==(b=l[3].t("Success")+"")&&C(I,b),Q[0]&4&&jt(s,l[38].type),(!U||Q[0]&8&&T!==(T=l[3].t("Content")))&&o(k,"placeholder",T),Q[0]&4&&k.value!==l[38].content&&ee(k,l[38].content);const X={};Q[0]&8&&(X.content=l[3].t("Dismissible")),Q[0]&4|Q[1]&32768&&(X.$$scope={dirty:Q,ctx:l}),V.$set(X)},i(J){U||(j(V.$$.fragment,J),U=!0)},o(J){W(V.$$.fragment,J),U=!1},d(J){J&&f(e),S&&S.d(),ge(V),B=!1,bl(Y)}}}function Hi(l){let e,t,s,a=l[3].t("Default Prompt Suggestions")+"",i,r,c,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',p,E,h,m,g,b=mt(l[1]),I=[];for(let k=0;k<b.length;k+=1)I[k]=Gi($i(l,b,k));let w=l[1].length>0&&ji(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("button"),c.innerHTML=u,p=A(),E=d("div");for(let k=0;k<I.length;k+=1)I[k].c();h=A(),w&&w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var D=v(t);s=_(D,"DIV",{class:!0});var $=v(s);i=M($,a),$.forEach(f),r=y(D),c=_(D,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(c)!=="svelte-huk1q2"&&(c.innerHTML=u),D.forEach(f),p=y(T),E=_(T,"DIV",{class:!0});var V=v(E);for(let O=0;O<I.length;O+=1)I[O].l(V);V.forEach(f),h=y(T),w&&w.l(T),T.forEach(f),this.h()},h(){o(s,"class","self-center text-sm font-semibold"),o(c,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(c,"type","button"),o(t,"class","flex w-full justify-between mb-2"),o(E,"class","grid lg:grid-cols-2 flex-col gap-1.5"),o(e,"class","space-y-3")},m(k,T){R(k,e,T),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(e,p),n(e,E);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(E,null);n(e,h),w&&w.m(e,null),m||(g=re(c,"click",l[27]),m=!0)},p(k,T){if(T[0]&8&&a!==(a=k[3].t("Default Prompt Suggestions")+"")&&C(i,a),T[0]&10){b=mt(k[1]);let D;for(D=0;D<b.length;D+=1){const $=$i(k,b,D);I[D]?I[D].p($,T):(I[D]=Gi($),I[D].c(),I[D].m(E,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=b.length}k[1].length>0?w?w.p(k,T):(w=ji(k),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},d(k){k&&f(e),Il(I,k),w&&w.d(),m=!1,g()}}}function Gi(l){let e,t,s,a,i,r,c,u,p,E,h,m,g,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',I,w,k;function T(){l[28].call(a,l[36],l[37])}function D(){l[29].call(c,l[36],l[37])}function $(){l[30].call(E,l[36],l[37])}function V(){return l[31](l[37])}return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("input"),r=A(),c=d("input"),p=A(),E=d("textarea"),m=A(),g=d("button"),g.innerHTML=b,I=A(),this.h()},l(O){e=_(O,"DIV",{class:!0});var N=v(e);t=_(N,"DIV",{class:!0});var P=v(t);s=_(P,"DIV",{class:!0});var H=v(s);a=_(H,"INPUT",{class:!0,placeholder:!0}),r=y(H),c=_(H,"INPUT",{class:!0,placeholder:!0}),H.forEach(f),p=y(P),E=_(P,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),v(E).forEach(f),P.forEach(f),m=y(N),g=_(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt(g)!=="svelte-nde82b"&&(g.innerHTML=b),I=y(N),N.forEach(f),this.h()},h(){o(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),o(a,"placeholder",i=l[3].t("Title (e.g. Tell me a fun fact)")),o(c,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),o(c,"placeholder",u=l[3].t("Subtitle (e.g. about the Roman Empire)")),o(s,"class","flex border-b border-gray-100 dark:border-gray-850 w-full"),o(E,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850 resize-none"),o(E,"placeholder",h=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),o(E,"rows","3"),o(t,"class","flex flex-col flex-1 pl-1"),o(g,"class","px-3"),o(g,"type","button"),o(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(O,N){R(O,e,N),n(e,t),n(t,s),n(s,a),ee(a,l[35].title[0]),n(s,r),n(s,c),ee(c,l[35].title[1]),n(t,p),n(t,E),ee(E,l[35].content),n(e,m),n(e,g),n(e,I),w||(k=[re(a,"input",T),re(c,"input",D),re(E,"input",$),re(g,"click",V)],w=!0)},p(O,N){l=O,N[0]&8&&i!==(i=l[3].t("Title (e.g. Tell me a fun fact)"))&&o(a,"placeholder",i),N[0]&2&&a.value!==l[35].title[0]&&ee(a,l[35].title[0]),N[0]&8&&u!==(u=l[3].t("Subtitle (e.g. about the Roman Empire)"))&&o(c,"placeholder",u),N[0]&2&&c.value!==l[35].title[1]&&ee(c,l[35].title[1]),N[0]&8&&h!==(h=l[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&o(E,"placeholder",h),N[0]&2&&ee(E,l[35].content)},d(O){O&&f(e),w=!1,bl(k)}}}function ji(l){let e,t=l[3].t("Adjusting these settings will apply changes universally to all users.")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8&&t!==(t=a[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&C(s,t)},d(a){a&&f(e)}}}function od(l){let e,t,s=l[0]&&Pi(l);return{c(){s&&s.c(),e=ul()},l(a){s&&s.l(a),e=ul()},m(a,i){s&&s.m(a,i),R(a,e,i),t=!0},p(a,i){a[0]?s?(s.p(a,i),i[0]&1&&j(s,1)):(s=Pi(a),s.c(),j(s,1),s.m(e.parentNode,e)):s&&(Et(),W(s,1,1,()=>{s=null}),bt())},i(a){t||(j(s),t=!0)},o(a){W(s),t=!1},d(a){a&&f(e),s&&s.d(a)}}}const Ki=l=>l.owned_by==="ollama";function ud(l,e,t){let s,a,i,r;Wt(l,Ps,le=>t(33,s=le)),Wt(l,Jl,le=>t(4,i=le)),Wt(l,nr,le=>t(5,r=le));const c=Ea(),u=Kl("i18n");Wt(l,u,le=>t(3,a=le));let p={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",ENABLE_TITLE_GENERATION:!0,TITLE_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:""},E=[],h=[];const m=async()=>{t(0,p=await Pu(localStorage.token,p)),t(1,E=await Uu(localStorage.token,E)),await g(),await Ps.set(await Wa())};bs(async()=>{t(0,p=await Ou(localStorage.token)),t(1,E=(s==null?void 0:s.default_prompt_suggestions)??[]),t(2,h=await Cu(localStorage.token))});const g=async()=>{Eu.set(await Bu(localStorage.token,h))};function b(){p.TASK_MODEL=Bl(this),t(0,p)}function I(){p.TASK_MODEL_EXTERNAL=Bl(this),t(0,p)}function w(le){l.$$.not_equal(p.ENABLE_TITLE_GENERATION,le)&&(p.ENABLE_TITLE_GENERATION=le,t(0,p))}function k(le){l.$$.not_equal(p.TITLE_GENERATION_PROMPT_TEMPLATE,le)&&(p.TITLE_GENERATION_PROMPT_TEMPLATE=le,t(0,p))}function T(le){l.$$.not_equal(p.ENABLE_TAGS_GENERATION,le)&&(p.ENABLE_TAGS_GENERATION=le,t(0,p))}function D(le){l.$$.not_equal(p.TAGS_GENERATION_PROMPT_TEMPLATE,le)&&(p.TAGS_GENERATION_PROMPT_TEMPLATE=le,t(0,p))}function $(le){l.$$.not_equal(p.ENABLE_RETRIEVAL_QUERY_GENERATION,le)&&(p.ENABLE_RETRIEVAL_QUERY_GENERATION=le,t(0,p))}function V(le){l.$$.not_equal(p.ENABLE_SEARCH_QUERY_GENERATION,le)&&(p.ENABLE_SEARCH_QUERY_GENERATION=le,t(0,p))}function O(le){l.$$.not_equal(p.QUERY_GENERATION_PROMPT_TEMPLATE,le)&&(p.QUERY_GENERATION_PROMPT_TEMPLATE=le,t(0,p))}function N(le){l.$$.not_equal(p.ENABLE_AUTOCOMPLETE_GENERATION,le)&&(p.ENABLE_AUTOCOMPLETE_GENERATION=le,t(0,p))}function P(){p.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=this.value,t(0,p)}function H(le){l.$$.not_equal(p.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,le)&&(p.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=le,t(0,p))}function U(le){l.$$.not_equal(p.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,le)&&(p.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=le,t(0,p))}const B=()=>{(h.length===0||h.at(-1).content!=="")&&t(2,h=[...h,{id:xu(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function Y(le,z){le[z].type=Bl(this),t(2,h)}function S(le,z){le[z].content=this.value,t(2,h)}function F(le,z){l.$$.not_equal(z.dismissible,le)&&(z.dismissible=le,t(2,h))}const G=le=>{h.splice(le,1),t(2,h)},K=()=>{(E.length===0||E.at(-1).content!=="")&&t(1,E=[...E,{content:"",title:["",""]}])};function J(le,z){le[z].title[0]=this.value,t(1,E)}function Q(le,z){le[z].title[1]=this.value,t(1,E)}function X(le,z){le[z].content=this.value,t(1,E)}return[p,E,h,a,i,r,c,u,m,b,I,w,k,T,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,le=>{E.splice(le,1),t(1,E)},()=>{m(),c("save")}]}class fd extends Ml{constructor(e){super(),Rl(this,e,ud,od,Ll,{},null,[-1,-1])}}function Yi(l,e,t){const s=l.slice();return s[10]=e[t],s[12]=t,s}function cd(l){let e,t=l[3].t("No models found")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i&8&&t!==(t=a[3].t("No models found")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function dd(l){let e,t=[],s=new Map,a,i=mt(l[0]);const r=c=>c[10];for(let c=0;c<i.length;c+=1){let u=Yi(l,i,c),p=r(u);s.set(p,t[c]=Fi(p,u))}return{c(){e=d("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);for(let p=0;p<t.length;p+=1)t[p].l(u);u.forEach(f),this.h()},h(){o(e,"class","flex flex-col -translate-x-1")},m(c,u){R(c,e,u);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);l[7](e),a=!0},p(c,u){u&5&&(i=mt(c[0]),Et(),t=uu(t,u,r,1,c,i,s,e,fu,Fi,null,Yi),bt())},i(c){if(!a){for(let u=0;u<i.length;u+=1)j(t[u]);a=!0}},o(c){for(let u=0;u<t.length;u+=1)W(t[u]);a=!1},d(c){c&&f(e);for(let u=0;u<t.length;u+=1)t[u].d();l[7](null)}}}function _d(l){let e=l[10]+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a&1&&e!==(e=s[10]+"")&&C(t,e)},d(s){s&&f(t)}}}function hd(l){let e=l[2].find(s).name+"",t;function s(...a){return l[6](l[10],...a)}return{c(){t=L(e)},l(a){t=M(a,e)},m(a,i){R(a,t,i)},p(a,i){l=a,i&5&&e!==(e=l[2].find(s).name+"")&&C(t,e)},d(a){a&&f(t)}}}function pd(l){let e,t,s,a,i,r;function c(...h){return l[5](l[10],...h)}t=new vf({props:{className:"size-4 cursor-move"}});function u(h,m){return m&5&&(i=null),i==null&&(i=!!h[2].find(c)),i?hd:_d}let p=u(l,-1),E=p(l);return{c(){e=d("div"),pe(t.$$.fragment),s=A(),a=d("div"),E.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);ve(t.$$.fragment,m),s=y(m),a=_(m,"DIV",{class:!0});var g=v(a);E.l(g),g.forEach(f),m.forEach(f),this.h()},h(){o(a,"class","text-sm flex-1 py-1 rounded-lg"),o(e,"class","flex items-center gap-1")},m(h,m){R(h,e,m),me(t,e,null),n(e,s),n(e,a),E.m(a,null),r=!0},p(h,m){l=h,p===(p=u(l,m))&&E?E.p(l,m):(E.d(1),E=p(l),E&&(E.c(),E.m(a,null)))},i(h){r||(j(t.$$.fragment,h),r=!0)},o(h){W(t.$$.fragment,h),r=!1},d(h){h&&f(e),ge(t),E.d()}}}function Fi(l,e){let t,s,a,i,r;return s=new Ht({props:{content:e[10],placement:"top-start",$$slots:{default:[pd]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=d("div"),pe(s.$$.fragment),a=A(),this.h()},l(c){t=_(c,"DIV",{class:!0,id:!0});var u=v(t);ve(s.$$.fragment,u),a=y(u),u.forEach(f),this.h()},h(){o(t,"class","flex gap-2 w-full justify-between items-center"),o(t,"id",i="model-item-"+e[10]),this.first=t},m(c,u){R(c,t,u),me(s,t,null),n(t,a),r=!0},p(c,u){e=c;const p={};u&1&&(p.content=e[10]),u&8197&&(p.$$scope={dirty:u,ctx:e}),s.$set(p),(!r||u&1&&i!==(i="model-item-"+e[10]))&&o(t,"id",i)},i(c){r||(j(s.$$.fragment,c),r=!0)},o(c){W(s.$$.fragment,c),r=!1},d(c){c&&f(t),ge(s)}}}function vd(l){let e,t,s,a;const i=[dd,cd],r=[];function c(u,p){return u[0].length>0?0:1}return e=c(l),t=r[e]=i[e](l),{c(){t.c(),s=ul()},l(u){t.l(u),s=ul()},m(u,p){r[e].m(u,p),R(u,s,p),a=!0},p(u,[p]){let E=e;e=c(u),e===E?r[e].p(u,p):(Et(),W(r[E],1,1,()=>{r[E]=null}),bt(),t=r[e],t?t.p(u,p):(t=r[e]=i[e](u),t.c()),j(t,1),t.m(s.parentNode,s))},i(u){a||(j(t),a=!0)},o(u){W(t),a=!1},d(u){u&&f(s),r[e].d(u)}}}function md(l,e,t){let s,a;Wt(l,Jl,m=>t(2,s=m));const i=Kl("i18n");Wt(l,i,m=>t(3,a=m));let{modelIds:r=[]}=e,c=null;const u=()=>{const m=Array.from(c.children).map(g=>g.id.replace("model-item-",""));t(0,r=m)};bs(()=>{pf.create(c,{animation:150,onUpdate:async m=>{u()}})});const p=(m,g)=>g.id===m,E=(m,g)=>g.id===m;function h(m){We[m?"unshift":"push"](()=>{c=m,t(1,c)})}return l.$$set=m=>{"modelIds"in m&&t(0,r=m.modelIds)},[r,c,s,a,i,p,E,h]}class gd extends Ml{constructor(e){super(),Rl(this,e,md,vd,Ll,{modelIds:0})}}function Wi(l,e,t){const s=l.slice();return s[25]=e[t],s[27]=t,s}function qi(l,e,t){const s=l.slice();return s[28]=e[t],s}function Ed(l){let e,t,s;return t=new Oa({}),{c(){e=d("div"),pe(t.$$.fragment)},l(a){e=_(a,"DIV",{});var i=v(e);ve(t.$$.fragment,i),i.forEach(f)},m(a,i){R(a,e,i),me(t,e,null),s=!0},p:ft,i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&f(e),ge(t)}}}function bd(l){let e,t,s,a,i,r=l[8].t("Reorder Models")+"",c,u,p,E,h,m,g,b,I,w,k,T=l[8].t("Default Models")+"",D,$,V,O,N,P=l[8].t("Select a model")+"",H,U,B,Y,S,F,G,K,J,Q,X=l[8].t("Save")+"",ie,ue,le,z,Z,q;function te(x){l[15](x)}let ae={};l[5]!==void 0&&(ae.modelIds=l[5]),p=new gd({props:ae}),We.push(()=>Qe(p,"modelIds",te));let de=mt(l[9]),ne=[];for(let x=0;x<de.length;x+=1)ne[x]=Zi(qi(l,de,x));const oe=[wd,Id],fe=[];function ke(x,_e){return x[4].length>0?0:1}Y=ke(l),S=fe[Y]=oe[Y](l),K=new Ht({props:{content:l[8].t("This will delete all models including custom models"),$$slots:{default:[kd]},$$scope:{ctx:l}}});let Ee=l[6]&&zi();return{c(){e=d("form"),t=d("div"),s=d("div"),a=d("div"),i=d("div"),c=L(r),u=A(),pe(p.$$.fragment),h=A(),m=d("hr"),g=A(),b=d("div"),I=d("div"),w=d("div"),k=d("div"),D=L(T),$=A(),V=d("div"),O=d("select"),N=d("option"),H=L(P);for(let x=0;x<ne.length;x+=1)ne[x].c();B=A(),S.c(),F=A(),G=d("div"),pe(K.$$.fragment),J=A(),Q=d("button"),ie=L(X),ue=A(),Ee&&Ee.c(),this.h()},l(x){e=_(x,"FORM",{class:!0});var _e=v(e);t=_(_e,"DIV",{});var Te=v(t);s=_(Te,"DIV",{class:!0});var be=v(s);a=_(be,"DIV",{class:!0});var Ie=v(a);i=_(Ie,"DIV",{class:!0});var Me=v(i);c=M(Me,r),Me.forEach(f),Ie.forEach(f),u=y(be),ve(p.$$.fragment,be),be.forEach(f),Te.forEach(f),h=y(_e),m=_(_e,"HR",{class:!0}),g=y(_e),b=_(_e,"DIV",{});var ce=v(b);I=_(ce,"DIV",{class:!0});var De=v(I);w=_(De,"DIV",{class:!0});var Ce=v(w);k=_(Ce,"DIV",{class:!0});var Ue=v(k);D=M(Ue,T),Ue.forEach(f),Ce.forEach(f),$=y(De),V=_(De,"DIV",{class:!0});var se=v(V);O=_(se,"SELECT",{class:!0});var ye=v(O);N=_(ye,"OPTION",{});var Be=v(N);H=M(Be,P),Be.forEach(f);for(let Ge=0;Ge<ne.length;Ge+=1)ne[Ge].l(ye);ye.forEach(f),se.forEach(f),B=y(De),S.l(De),De.forEach(f),ce.forEach(f),F=y(_e),G=_(_e,"DIV",{class:!0});var $e=v(G);ve(K.$$.fragment,$e),J=y($e),Q=_($e,"BUTTON",{class:!0,type:!0});var Le=v(Q);ie=M(Le,X),ue=y(Le),Ee&&Ee.l(Le),Le.forEach(f),$e.forEach(f),_e.forEach(f),this.h()},h(){o(i,"class","text-xs text-gray-500"),o(a,"class","mb-1 flex justify-between"),o(s,"class","flex flex-col w-full"),o(m,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(k,"class","text-xs text-gray-500"),o(w,"class","mb-1 flex justify-between"),N.__value="",ee(N,N.__value),o(O,"class",U="w-full py-1 text-sm rounded-lg bg-transparent "+(l[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),l[2]===void 0&&Hl(()=>l[16].call(O)),o(V,"class","flex items-center -mr-1"),o(I,"class","flex flex-col w-full"),o(Q,"class",le="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[6]?" cursor-not-allowed":"")),o(Q,"type","submit"),Q.disabled=l[6],o(G,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),o(e,"class","flex flex-col w-full")},m(x,_e){R(x,e,_e),n(e,t),n(t,s),n(s,a),n(a,i),n(i,c),n(s,u),me(p,s,null),n(e,h),n(e,m),n(e,g),n(e,b),n(b,I),n(I,w),n(w,k),n(k,D),n(I,$),n(I,V),n(V,O),n(O,N),n(N,H);for(let Te=0;Te<ne.length;Te+=1)ne[Te]&&ne[Te].m(O,null);jt(O,l[2],!0),n(I,B),fe[Y].m(I,null),n(e,F),n(e,G),me(K,G,null),n(G,J),n(G,Q),n(Q,ie),n(Q,ue),Ee&&Ee.m(Q,null),z=!0,Z||(q=[re(O,"change",l[16]),re(e,"submit",Hs(l[20]))],Z=!0)},p(x,_e){(!z||_e[0]&256)&&r!==(r=x[8].t("Reorder Models")+"")&&C(c,r);const Te={};if(!E&&_e[0]&32&&(E=!0,Te.modelIds=x[5],Xe(()=>E=!1)),p.$set(Te),(!z||_e[0]&256)&&T!==(T=x[8].t("Default Models")+"")&&C(D,T),(!z||_e[0]&256)&&P!==(P=x[8].t("Select a model")+"")&&C(H,P),_e[0]&512){de=mt(x[9]);let Me;for(Me=0;Me<de.length;Me+=1){const ce=qi(x,de,Me);ne[Me]?ne[Me].p(ce,_e):(ne[Me]=Zi(ce),ne[Me].c(),ne[Me].m(O,null))}for(;Me<ne.length;Me+=1)ne[Me].d(1);ne.length=de.length}(!z||_e[0]&516&&U!==(U="w-full py-1 text-sm rounded-lg bg-transparent "+(x[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&o(O,"class",U),_e[0]&516&&jt(O,x[2]);let be=Y;Y=ke(x),Y===be?fe[Y].p(x,_e):(Et(),W(fe[be],1,1,()=>{fe[be]=null}),bt(),S=fe[Y],S?S.p(x,_e):(S=fe[Y]=oe[Y](x),S.c()),j(S,1),S.m(I,null));const Ie={};_e[0]&256&&(Ie.content=x[8].t("This will delete all models including custom models")),_e[0]&384|_e[1]&1&&(Ie.$$scope={dirty:_e,ctx:x}),K.$set(Ie),(!z||_e[0]&256)&&X!==(X=x[8].t("Save")+"")&&C(ie,X),x[6]?Ee||(Ee=zi(),Ee.c(),Ee.m(Q,null)):Ee&&(Ee.d(1),Ee=null),(!z||_e[0]&64&&le!==(le="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(x[6]?" cursor-not-allowed":"")))&&o(Q,"class",le),(!z||_e[0]&64)&&(Q.disabled=x[6])},i(x){z||(j(p.$$.fragment,x),j(S),j(K.$$.fragment,x),z=!0)},o(x){W(p.$$.fragment,x),W(S),W(K.$$.fragment,x),z=!1},d(x){x&&f(e),ge(p),Il(ne,x),fe[Y].d(),ge(K),Ee&&Ee.d(),Z=!1,bl(q)}}}function Zi(l){let e,t=l[28].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[28].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&512&&t!==(t=i[28].name+"")&&C(s,t),r[0]&512&&a!==(a=i[28].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function Id(l){let e,t=l[8].t("No models selected")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&256&&t!==(t=a[8].t("No models selected")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function wd(l){let e,t,s=mt(l[4]),a=[];for(let r=0;r<s.length;r+=1)a[r]=Ji(Wi(l,s,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var c=v(e);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(f),this.h()},h(){o(e,"class","flex flex-col")},m(r,c){R(r,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,c){if(c[0]&528){s=mt(r[4]);let u;for(u=0;u<s.length;u+=1){const p=Wi(r,s,u);a[u]?(a[u].p(p,c),j(a[u],1)):(a[u]=Ji(p),a[u].c(),j(a[u],1),a[u].m(e,null))}for(Et(),u=s.length;u<a.length;u+=1)i(u);bt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)j(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)W(a[c]);t=!1},d(r){r&&f(e),Il(a,r)}}}function Ji(l){var I;let e,t,s=((I=l[9].find(g))==null?void 0:I.name)+"",a,i,r,c,u,p,E,h,m;function g(...w){return l[17](l[25],...w)}u=new ou({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return l[18](l[27])}return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("button"),pe(u.$$.fragment),p=A(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);a=M(T,s),T.forEach(f),i=y(k),r=_(k,"DIV",{class:!0});var D=v(r);c=_(D,"BUTTON",{type:!0});var $=v(c);ve(u.$$.fragment,$),$.forEach(f),D.forEach(f),p=y(k),k.forEach(f),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(c,"type","button"),o(r,"class","shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(w,k){R(w,e,k),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),me(u,c,null),n(e,p),E=!0,h||(m=re(c,"click",b),h=!0)},p(w,k){var T;l=w,(!E||k[0]&528)&&s!==(s=((T=l[9].find(g))==null?void 0:T.name)+"")&&C(a,s)},i(w){E||(j(u.$$.fragment,w),E=!0)},o(w){W(u.$$.fragment,w),E=!1},d(w){w&&f(e),ge(u),h=!1,m()}}}function kd(l){let e,t=l[8].t("Reset All Models")+"",s,a,i;return{c(){e=d("button"),s=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);s=M(c,t),c.forEach(f),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,c){R(r,e,c),n(e,s),a||(i=re(e,"click",l[19]),a=!0)},p(r,c){c[0]&256&&t!==(t=r[8].t("Reset All Models")+"")&&C(s,t)},d(r){r&&f(e),a=!1,i()}}}function zi(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-178pk2u"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function Td(l){let e,t,s,a=l[8].t("Settings")+"",i,r,c,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,E,h,m,g,b,I,w;const k=[bd,Ed],T=[];function D($,V){return $[3]?0:1}return m=D(l),g=T[m]=k[m](l),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("button"),c.innerHTML=u,p=A(),E=d("div"),h=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var V=v(e);t=_(V,"DIV",{class:!0});var O=v(t);s=_(O,"DIV",{class:!0});var N=v(s);i=M(N,a),N.forEach(f),r=y(O),c=_(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(c)!=="svelte-745w2y"&&(c.innerHTML=u),O.forEach(f),p=y(V),E=_(V,"DIV",{class:!0});var P=v(E);h=_(P,"DIV",{class:!0});var H=v(h);g.l(H),H.forEach(f),P.forEach(f),V.forEach(f),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(E,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m($,V){R($,e,V),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(e,p),n(e,E),n(E,h),T[m].m(h,null),b=!0,I||(w=re(c,"click",l[14]),I=!0)},p($,V){(!b||V[0]&256)&&a!==(a=$[8].t("Settings")+"")&&C(i,a);let O=m;m=D($),m===O?T[m].p($,V):(Et(),W(T[O],1,1,()=>{T[O]=null}),bt(),g=T[m],g?g.p($,V):(g=T[m]=k[m]($),g.c()),j(g,1),g.m(h,null))},i($){b||(j(g),b=!0)},o($){W(g),b=!1},d($){$&&f(e),T[m].d(),I=!1,w()}}}function Dd(l){let e,t,s,a,i,r;function c(h){l[13](h)}let u={title:l[8].t("Reset All Models"),message:l[8].t("This will delete all models including custom models and cannot be undone."),onConfirm:l[12]};l[7]!==void 0&&(u.show=l[7]),e=new Wr({props:u}),We.push(()=>Qe(e,"show",c));function p(h){l[21](h)}let E={size:"sm",$$slots:{default:[Td]},$$scope:{ctx:l}};return l[0]!==void 0&&(E.show=l[0]),a=new Zr({props:E}),We.push(()=>Qe(a,"show",p)),{c(){pe(e.$$.fragment),s=A(),pe(a.$$.fragment)},l(h){ve(e.$$.fragment,h),s=y(h),ve(a.$$.fragment,h)},m(h,m){me(e,h,m),R(h,s,m),me(a,h,m),r=!0},p(h,m){const g={};m[0]&256&&(g.title=h[8].t("Reset All Models")),m[0]&256&&(g.message=h[8].t("This will delete all models including custom models and cannot be undone.")),m[0]&258&&(g.onConfirm=h[12]),!t&&m[0]&128&&(t=!0,g.show=h[7],Xe(()=>t=!1)),e.$set(g);const b={};m[0]&1021|m[1]&1&&(b.$$scope={dirty:m,ctx:h}),!i&&m[0]&1&&(i=!0,b.show=h[0],Xe(()=>i=!1)),a.$set(b)},i(h){r||(j(e.$$.fragment,h),j(a.$$.fragment,h),r=!0)},o(h){W(e.$$.fragment,h),W(a.$$.fragment,h),r=!1},d(h){h&&f(s),ge(e,h),ge(a,h)}}}function Ad(l,e,t){let s,a;Wt(l,Jl,B=>t(9,a=B));const i=Kl("i18n");Wt(l,i,B=>t(8,s=B)),Ea();let{show:r=!1}=e,{initHandler:c=()=>{}}=e,u=null,p="",E=[],h=[],m=!1,g=!1;const b=()=>{if(p!==""){if(E.includes(p)){t(2,p="");return}t(4,E=[...E,p]),t(2,p="")}},I=async()=>{t(3,u=await Hu(localStorage.token)),u!=null&&u.DEFAULT_MODELS?t(4,E=u==null?void 0:u.DEFAULT_MODELS.split(",").filter(F=>F)):t(4,E=[]);const B=u.MODEL_ORDER_LIST||[],Y=a.map(F=>F.id),S=new Set(B);t(5,h=[...B.filter(F=>S.has(F)&&Y.includes(F)),...Y.filter(F=>!S.has(F)).sort((F,G)=>F.localeCompare(G))])},w=async()=>{t(6,m=!0),await Gu(localStorage.token,{DEFAULT_MODELS:E.join(","),MODEL_ORDER_LIST:h})?(Fe.success(s.t("Models configuration saved successfully")),c(),t(0,r=!1)):Fe.error(s.t("Failed to save models configuration")),t(6,m=!1)};bs(async()=>{I()});const k=async()=>{uf(localStorage.token)&&(Fe.success(s.t("All models deleted successfully")),c())};function T(B){g=B,t(7,g)}const D=()=>{t(0,r=!1)};function $(B){h=B,t(5,h)}function V(){p=Bl(this),t(2,p)}const O=(B,Y)=>Y.id===B,N=B=>{t(4,E=E.filter((Y,S)=>S!==B))},P=()=>{t(7,g=!0)},H=()=>{w()};function U(B){r=B,t(0,r)}return l.$$set=B=>{"show"in B&&t(0,r=B.show),"initHandler"in B&&t(1,c=B.initHandler)},l.$$.update=()=>{l.$$.dirty[0]&1&&r&&I(),l.$$.dirty[0]&4&&p&&b()},[r,c,p,u,E,h,m,g,s,a,i,w,k,T,D,$,V,O,N,P,H,U]}class yd extends Ml{constructor(e){super(),Rl(this,e,Ad,Dd,Ll,{show:0,initHandler:1},null,[-1,-1])}}function Xi(l,e,t){const s=l.slice();return s[57]=e[t],s}function Qi(l,e,t){const s=l.slice();return s[57]=e[t],s}function $d(l){let e,t,s;return t=new Oa({}),{c(){e=d("div"),pe(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);ve(t.$$.fragment,i),i.forEach(f),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full py-3")},m(a,i){R(a,e,i),me(t,e,null),s=!0},p:ft,i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&f(e),ge(t)}}}function Nd(l){let e,t=l[23].t("Failed to fetch models")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","flex justify-center items-center w-full h-full text-xs py-3")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Failed to fetch models")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function Vd(l){let e,t,s,a,i,r,c=l[23].t("Pull a model from Ollama.com")+"",u,p,E,h,m,g,b,I,w,k,T,D,$,V=l[23].t("To access the available model names for downloading,")+"",O,N,P,H=l[23].t("click here.")+"",U,B,Y,S=Object.keys(l[22]).length>0,F,G,K,J=l[23].t("Delete a model")+"",Q,X,ie,ue,le,z,Z,q,te,ae='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',de,ne,oe,fe=l[23].t("Create a model")+"",ke,Ee,x,_e,Te,be,Ie,Me,ce,De,Ce,Ue,se,ye,Be,$e,Le,Ge,qe,Ke=l[23].t("Experimental")+"",je,Ae,Ve,Pe=(l[6]?l[23].t("Hide"):l[23].t("Show"))+"",st,It,at,Ze,pt;h=new Ht({props:{content:"Update All Models",placement:"top",$$slots:{default:[Od]},$$scope:{ctx:l}}});function Lt(he,Ne){return he[7]?Sd:Pd}let Dt=Lt(l),Tt=Dt(l),_t=l[4]&&xi(l),tt=S&&eo(l),rt=!l[21]&&ao(l),nt=mt(l[3]),ut=[];for(let he=0;he<nt.length;he+=1)ut[he]=ro(Xi(l,nt,he));let dt=l[12]!==""&&no(l),vt=l[6]&&oo(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),i=d("div"),r=d("div"),u=L(c),p=A(),E=d("div"),pe(h.$$.fragment),m=A(),g=d("div"),b=d("div"),I=d("input"),k=A(),T=d("button"),Tt.c(),D=A(),$=d("div"),O=L(V),N=A(),P=d("a"),U=L(H),B=A(),_t&&_t.c(),Y=A(),tt&&tt.c(),F=A(),G=d("div"),K=d("div"),Q=L(J),X=A(),ie=d("div"),ue=d("div"),le=d("select"),rt&&rt.c(),z=ul();for(let he=0;he<ut.length;he+=1)ut[he].c();q=A(),te=d("button"),te.innerHTML=ae,de=A(),ne=d("div"),oe=d("div"),ke=L(fe),Ee=A(),x=d("div"),_e=d("div"),Te=d("input"),Ie=A(),Me=d("textarea"),ce=A(),De=d("div"),Ce=d("button"),Ue=vl("svg"),se=vl("path"),ye=vl("path"),Be=A(),dt&&dt.c(),$e=A(),Le=d("div"),Ge=d("div"),qe=d("div"),je=L(Ke),Ae=A(),Ve=d("button"),st=L(Pe),It=A(),vt&&vt.c(),this.h()},l(he){e=_(he,"DIV",{class:!0});var Ne=v(e);t=_(Ne,"DIV",{});var kt=v(t);s=_(kt,"DIV",{class:!0});var ot=v(s);a=_(ot,"DIV",{});var gt=v(a);i=_(gt,"DIV",{class:!0});var wt=v(i);r=_(wt,"DIV",{});var Mt=v(r);u=M(Mt,c),Mt.forEach(f),p=y(wt),E=_(wt,"DIV",{});var zt=v(E);ve(h.$$.fragment,zt),zt.forEach(f),wt.forEach(f),m=y(gt),g=_(gt,"DIV",{class:!0});var Kt=v(g);b=_(Kt,"DIV",{class:!0});var Xt=v(b);I=_(Xt,"INPUT",{class:!0,placeholder:!0}),Xt.forEach(f),k=y(Kt),T=_(Kt,"BUTTON",{class:!0});var Gt=v(T);Tt.l(Gt),Gt.forEach(f),Kt.forEach(f),D=y(gt),$=_(gt,"DIV",{class:!0});var ll=v($);O=M(ll,V),N=y(ll),P=_(ll,"A",{class:!0,href:!0,target:!0});var qt=v(P);U=M(qt,H),qt.forEach(f),ll.forEach(f),B=y(gt),_t&&_t.l(gt),Y=y(gt),tt&&tt.l(gt),gt.forEach(f),F=y(ot),G=_(ot,"DIV",{});var At=v(G);K=_(At,"DIV",{class:!0});var Re=v(K);Q=M(Re,J),Re.forEach(f),X=y(At),ie=_(At,"DIV",{class:!0});var we=v(ie);ue=_(we,"DIV",{class:!0});var xe=v(ue);le=_(xe,"SELECT",{class:!0,placeholder:!0});var Ot=v(le);rt&&rt.l(Ot),z=ul();for(let sl=0;sl<ut.length;sl+=1)ut[sl].l(Ot);Ot.forEach(f),xe.forEach(f),q=y(we),te=_(we,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(te)!=="svelte-1c45g2d"&&(te.innerHTML=ae),we.forEach(f),At.forEach(f),de=y(ot),ne=_(ot,"DIV",{});var Ut=v(ne);oe=_(Ut,"DIV",{class:!0});var ct=v(oe);ke=M(ct,fe),ct.forEach(f),Ee=y(Ut),x=_(Ut,"DIV",{class:!0});var Nt=v(x);_e=_(Nt,"DIV",{class:!0});var $t=v(_e);Te=_($t,"INPUT",{class:!0,placeholder:!0}),Ie=y($t),Me=_($t,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(Me).forEach(f),$t.forEach(f),ce=y(Nt),De=_(Nt,"DIV",{class:!0});var Ct=v(De);Ce=_(Ct,"BUTTON",{class:!0});var He=v(Ce);Ue=ml(He,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var et=v(Ue);se=ml(et,"path",{d:!0}),v(se).forEach(f),ye=ml(et,"path",{d:!0}),v(ye).forEach(f),et.forEach(f),He.forEach(f),Ct.forEach(f),Nt.forEach(f),Be=y(Ut),dt&&dt.l(Ut),Ut.forEach(f),$e=y(ot),Le=_(ot,"DIV",{class:!0});var ht=v(Le);Ge=_(ht,"DIV",{class:!0});var Pt=v(Ge);qe=_(Pt,"DIV",{class:!0});var Je=v(qe);je=M(Je,Ke),Je.forEach(f),Ae=y(Pt),Ve=_(Pt,"BUTTON",{class:!0,type:!0});var hl=v(Ve);st=M(hl,Pe),hl.forEach(f),Pt.forEach(f),ht.forEach(f),It=y(ot),vt&&vt.l(ot),ot.forEach(f),kt.forEach(f),Ne.forEach(f),this.h()},h(){o(i,"class","mb-2 text-sm font-medium flex items-center gap-1.5"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(I,"placeholder",w=l[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),o(b,"class","flex-1 mr-2"),o(T,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),T.disabled=l[7],o(g,"class","flex w-full"),o(P,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(P,"href","https://ollama.com/library"),o(P,"target","_blank"),o($,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(K,"class","mb-2 text-sm font-medium"),o(le,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),o(le,"placeholder",Z=l[23].t("Select a model")),l[21]===void 0&&Hl(()=>l[38].call(le)),o(ue,"class","flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(te,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(ie,"class","flex w-full"),o(oe,"class","mb-2 text-sm font-medium"),o(Te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Te,"placeholder",be=l[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Te.disabled=l[9],o(Me,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden"),o(Me,"rows","6"),o(Me,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),Me.disabled=l[9],o(_e,"class","flex-1 mr-2 flex flex-col gap-2"),o(se,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(ye,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(Ue,"xmlns","http://www.w3.org/2000/svg"),o(Ue,"viewBox","0 0 16 16"),o(Ue,"fill","currentColor"),o(Ue,"class","size-4"),o(Ce,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),Ce.disabled=l[9],o(De,"class","flex self-start"),o(x,"class","flex w-full"),o(qe,"class","text-sm font-medium"),o(Ve,"class","text-xs font-medium text-gray-500"),o(Ve,"type","button"),o(Ge,"class","flex justify-between items-center text-xs"),o(Le,"class","pt-1"),o(s,"class","space-y-2"),o(e,"class","flex flex-col w-full")},m(he,Ne){R(he,e,Ne),n(e,t),n(t,s),n(s,a),n(a,i),n(i,r),n(r,u),n(i,p),n(i,E),me(h,E,null),n(a,m),n(a,g),n(g,b),n(b,I),ee(I,l[8]),n(g,k),n(g,T),Tt.m(T,null),n(a,D),n(a,$),n($,O),n($,N),n($,P),n(P,U),n(a,B),_t&&_t.m(a,null),n(a,Y),tt&&tt.m(a,null),n(s,F),n(s,G),n(G,K),n(K,Q),n(G,X),n(G,ie),n(ie,ue),n(ue,le),rt&&rt.m(le,null),n(le,z);for(let kt=0;kt<ut.length;kt+=1)ut[kt]&&ut[kt].m(le,null);jt(le,l[21],!0),n(ie,q),n(ie,te),n(s,de),n(s,ne),n(ne,oe),n(oe,ke),n(ne,Ee),n(ne,x),n(x,_e),n(_e,Te),ee(Te,l[10]),n(_e,Ie),n(_e,Me),ee(Me,l[11]),n(x,ce),n(x,De),n(De,Ce),n(Ce,Ue),n(Ue,se),n(Ue,ye),n(ne,Be),dt&&dt.m(ne,null),n(s,$e),n(s,Le),n(Le,Ge),n(Ge,qe),n(qe,je),n(Ge,Ae),n(Ge,Ve),n(Ve,st),n(s,It),vt&&vt.m(s,null),at=!0,Ze||(pt=[re(I,"input",l[35]),re(T,"click",l[36]),re(le,"change",l[38]),re(te,"click",l[39]),re(Te,"input",l[40]),re(Me,"input",l[41]),re(Ce,"click",l[42]),re(Ve,"click",l[43])],Ze=!0)},p(he,Ne){(!at||Ne[0]&8388608)&&c!==(c=he[23].t("Pull a model from Ollama.com")+"")&&C(u,c);const kt={};if(Ne[2]&1&&(kt.$$scope={dirty:Ne,ctx:he}),h.$set(kt),(!at||Ne[0]&8388608&&w!==(w=he[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&o(I,"placeholder",w),Ne[0]&256&&I.value!==he[8]&&ee(I,he[8]),Dt!==(Dt=Lt(he))&&(Tt.d(1),Tt=Dt(he),Tt&&(Tt.c(),Tt.m(T,null))),(!at||Ne[0]&128)&&(T.disabled=he[7]),(!at||Ne[0]&8388608)&&V!==(V=he[23].t("To access the available model names for downloading,")+"")&&C(O,V),(!at||Ne[0]&8388608)&&H!==(H=he[23].t("click here.")+"")&&C(U,H),he[4]?_t?_t.p(he,Ne):(_t=xi(he),_t.c(),_t.m(a,Y)):_t&&(_t.d(1),_t=null),Ne[0]&4194304&&(S=Object.keys(he[22]).length>0),S?tt?(tt.p(he,Ne),Ne[0]&4194304&&j(tt,1)):(tt=eo(he),tt.c(),j(tt,1),tt.m(a,null)):tt&&(Et(),W(tt,1,1,()=>{tt=null}),bt()),(!at||Ne[0]&8388608)&&J!==(J=he[23].t("Delete a model")+"")&&C(Q,J),he[21]?rt&&(rt.d(1),rt=null):rt?rt.p(he,Ne):(rt=ao(he),rt.c(),rt.m(le,z)),Ne[0]&8){nt=mt(he[3]);let ot;for(ot=0;ot<nt.length;ot+=1){const gt=Xi(he,nt,ot);ut[ot]?ut[ot].p(gt,Ne):(ut[ot]=ro(gt),ut[ot].c(),ut[ot].m(le,null))}for(;ot<ut.length;ot+=1)ut[ot].d(1);ut.length=nt.length}(!at||Ne[0]&8388608&&Z!==(Z=he[23].t("Select a model")))&&o(le,"placeholder",Z),Ne[0]&2097160&&jt(le,he[21]),(!at||Ne[0]&8388608)&&fe!==(fe=he[23].t("Create a model")+"")&&C(ke,fe),(!at||Ne[0]&8388608&&be!==(be=he[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&o(Te,"placeholder",be),(!at||Ne[0]&512)&&(Te.disabled=he[9]),Ne[0]&1024&&Te.value!==he[10]&&ee(Te,he[10]),(!at||Ne[0]&512)&&(Me.disabled=he[9]),Ne[0]&2048&&ee(Me,he[11]),(!at||Ne[0]&512)&&(Ce.disabled=he[9]),he[12]!==""?dt?dt.p(he,Ne):(dt=no(he),dt.c(),dt.m(ne,null)):dt&&(dt.d(1),dt=null),(!at||Ne[0]&8388608)&&Ke!==(Ke=he[23].t("Experimental")+"")&&C(je,Ke),(!at||Ne[0]&8388672)&&Pe!==(Pe=(he[6]?he[23].t("Hide"):he[23].t("Show"))+"")&&C(st,Pe),he[6]?vt?vt.p(he,Ne):(vt=oo(he),vt.c(),vt.m(s,null)):vt&&(vt.d(1),vt=null)},i(he){at||(j(h.$$.fragment,he),j(tt),at=!0)},o(he){W(h.$$.fragment,he),W(tt),at=!1},d(he){he&&f(e),ge(h),Tt.d(),_t&&_t.d(),tt&&tt.d(),rt&&rt.d(),Il(ut,he),dt&&dt.d(),vt&&vt.d(),Ze=!1,bl(pt)}}}function Od(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',s,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(i){e=_(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-91van"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex gap-2 items-center bg-transparent rounded-lg transition")},m(i,r){R(i,e,r),s||(a=re(e,"click",l[34]),s=!0)},p:ft,d(i){i&&f(e),s=!1,a()}}}function Pd(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function Sd(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function xi(l){let e,t,s,a,i=l[5]?`(${l[5]}%)`:"",r;return{c(){e=d("div"),t=L('Updating "'),s=L(l[4]),a=L('" '),r=L(i),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=M(u,'Updating "'),s=M(u,l[4]),a=M(u,'" '),r=M(u,i),u.forEach(f),this.h()},h(){o(e,"class","text-xs")},m(c,u){R(c,e,u),n(e,t),n(e,s),n(e,a),n(e,r)},p(c,u){u[0]&16&&C(s,c[4]),u[0]&32&&i!==(i=c[5]?`(${c[5]}%)`:"")&&C(r,i)},d(c){c&&f(e)}}}function eo(l){let e,t,s=mt(Object.keys(l[22])),a=[];for(let r=0;r<s.length;r+=1)a[r]=so(Qi(l,s,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=ul()},l(r){for(let c=0;c<a.length;c+=1)a[c].l(r);e=ul()},m(r,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,c);R(r,e,c),t=!0},p(r,c){if(c[0]&549453824){s=mt(Object.keys(r[22]));let u;for(u=0;u<s.length;u+=1){const p=Qi(r,s,u);a[u]?(a[u].p(p,c),j(a[u],1)):(a[u]=so(p),a[u].c(),j(a[u],1),a[u].m(e.parentNode,e))}for(Et(),u=s.length;u<a.length;u+=1)i(u);bt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)j(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)W(a[c]);t=!1},d(r){r&&f(e),Il(a,r)}}}function to(l){let e,t,s=l[57]+"",a,i,r,c,u,p,E=(l[22][l[57]].pullProgress??0)+"",h,m,g,b,I,w,k;b=new Ht({props:{content:l[23].t("Cancel"),$$slots:{default:[Ld]},$$scope:{ctx:l}}});let T="digest"in l[22][l[57]]&&lo(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("div"),p=d("div"),h=L(E),m=L("%"),g=A(),pe(b.$$.fragment),I=A(),T&&T.c(),w=A(),this.h()},l(D){e=_(D,"DIV",{class:!0});var $=v(e);t=_($,"DIV",{class:!0});var V=v(t);a=M(V,s),V.forEach(f),i=y($),r=_($,"DIV",{class:!0});var O=v(r);c=_(O,"DIV",{class:!0});var N=v(c);u=_(N,"DIV",{class:!0});var P=v(u);p=_(P,"DIV",{class:!0,style:!0});var H=v(p);h=M(H,E),m=M(H,"%"),H.forEach(f),P.forEach(f),g=y(N),ve(b.$$.fragment,N),N.forEach(f),I=y(O),T&&T.l(O),O.forEach(f),w=y($),$.forEach(f),this.h()},h(){o(t,"class","font-medium mb-1"),o(p,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),fa(p,"width",Math.max(15,l[22][l[57]].pullProgress??0)+"%"),o(u,"class","flex-1"),o(c,"class","flex flex-row justify-between space-x-4 pr-2"),o(r,"class",""),o(e,"class","flex flex-col")},m(D,$){R(D,e,$),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(u,p),n(p,h),n(p,m),n(c,g),me(b,c,null),n(r,I),T&&T.m(r,null),n(e,w),k=!0},p(D,$){(!k||$[0]&4194304)&&s!==(s=D[57]+"")&&C(a,s),(!k||$[0]&4194304)&&E!==(E=(D[22][D[57]].pullProgress??0)+"")&&C(h,E),(!k||$[0]&4194304)&&fa(p,"width",Math.max(15,D[22][D[57]].pullProgress??0)+"%");const V={};$[0]&8388608&&(V.content=D[23].t("Cancel")),$[0]&4194304|$[2]&1&&(V.$$scope={dirty:$,ctx:D}),b.$set(V),"digest"in D[22][D[57]]?T?T.p(D,$):(T=lo(D),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i(D){k||(j(b.$$.fragment,D),k=!0)},o(D){W(b.$$.fragment,D),k=!1},d(D){D&&f(e),ge(b),T&&T.d()}}}function Ld(l){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',s,a;function i(){return l[37](l[57])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-aeotdp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","text-gray-800 dark:text-gray-100")},m(r,c){R(r,e,c),s||(a=re(e,"click",i),s=!0)},p(r,c){l=r},d(r){r&&f(e),s=!1,a()}}}function lo(l){let e,t=l[22][l[57]].digest+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0,style:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),fa(e,"font-size","0.5rem")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&4194304&&t!==(t=a[22][a[57]].digest+"")&&C(s,t)},d(a){a&&f(e)}}}function so(l){let e,t,s="pullProgress"in l[22][l[57]]&&to(l);return{c(){s&&s.c(),e=ul()},l(a){s&&s.l(a),e=ul()},m(a,i){s&&s.m(a,i),R(a,e,i),t=!0},p(a,i){"pullProgress"in a[22][a[57]]?s?(s.p(a,i),i[0]&4194304&&j(s,1)):(s=to(a),s.c(),j(s,1),s.m(e.parentNode,e)):s&&(Et(),W(s,1,1,()=>{s=null}),bt())},i(a){t||(j(s),t=!0)},o(a){W(s),t=!1},d(a){a&&f(e),s&&s.d(a)}}}function ao(l){let e,t=l[23].t("Select a model")+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value="",ee(e,e.__value),e.disabled=!0,e.selected=!0},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("Select a model")+"")&&C(s,t)},d(a){a&&f(e)}}}function ro(l){let e,t=l[57].name+" ("+(l[57].size/1073741824).toFixed(1)+" GB)",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[57].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&8&&t!==(t=i[57].name+" ("+(i[57].size/1024**3).toFixed(1)+" GB)")&&C(s,t),r[0]&8&&a!==(a=i[57].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function no(l){let e,t,s,a,i,r,c,u,p=(l[13]??0)+"",E,h,m,g=l[12]&&io(l);return{c(){e=d("div"),t=d("div"),s=L(createModelTag),a=A(),i=d("div"),r=d("div"),c=d("div"),u=d("div"),E=L(p),h=L("%"),m=A(),g&&g.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var w=v(t);s=M(w,createModelTag),w.forEach(f),a=y(I),i=_(I,"DIV",{class:!0});var k=v(i);r=_(k,"DIV",{class:!0});var T=v(r);c=_(T,"DIV",{class:!0});var D=v(c);u=_(D,"DIV",{class:!0,style:!0});var $=v(u);E=M($,p),h=M($,"%"),$.forEach(f),D.forEach(f),T.forEach(f),m=y(k),g&&g.l(k),k.forEach(f),I.forEach(f),this.h()},h(){o(t,"class","font-medium mb-1"),o(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),fa(u,"width",Math.max(15,l[13]??0)+"%"),o(c,"class","flex-1"),o(r,"class","flex flex-row justify-between space-x-4 pr-2"),o(i,"class",""),o(e,"class","flex flex-col mt-1")},m(b,I){R(b,e,I),n(e,t),n(t,s),n(e,a),n(e,i),n(i,r),n(r,c),n(c,u),n(u,E),n(u,h),n(i,m),g&&g.m(i,null)},p(b,I){I[0]&8192&&p!==(p=(b[13]??0)+"")&&C(E,p),I[0]&8192&&fa(u,"width",Math.max(15,b[13]??0)+"%"),b[12]?g?g.p(b,I):(g=io(b),g.c(),g.m(i,null)):g&&(g.d(1),g=null)},d(b){b&&f(e),g&&g.d()}}}function io(l){let e,t;return{c(){e=d("div"),t=L(l[12]),this.h()},l(s){e=_(s,"DIV",{class:!0,style:!0});var a=v(e);t=M(a,l[12]),a.forEach(f),this.h()},h(){o(e,"class","mt-1 text-xs dark:text-gray-500"),fa(e,"font-size","0.5rem")},m(s,a){R(s,e,a),n(e,t)},p(s,a){a[0]&4096&&C(t,s[12])},d(s){s&&f(e)}}}function oo(l){let e,t,s,a=l[23].t("Upload a GGUF model")+"",i,r,c,u,p,E,h,m,g,b,I=l[23].t("To access the GGUF models available for downloading,")+"",w,k,T,D=l[23].t("click here.")+"",$,V,O,N;function P(X,ie){return X[14]==="file"?Rd:Md}let H=P(l),U=H(l);function B(X,ie){return X[14]==="file"?Ud:Cd}let Y=B(l),S=Y(l),F=(l[14]==="file"&&l[15]&&l[15].length>0||l[14]==="url"&&l[16]!=="")&&uo(l),G=(l[14]==="file"&&l[15]&&l[15].length>0||l[14]==="url"&&l[16]!=="")&&fo(l);function K(X,ie){if(X[20])return Yd;if(X[19]!==null)return Kd}let J=K(l),Q=J&&J(l);return{c(){e=d("form"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("button"),U.c(),u=A(),p=d("div"),E=d("div"),S.c(),h=A(),F&&F.c(),m=A(),G&&G.c(),g=A(),b=d("div"),w=L(I),k=A(),T=d("a"),$=L(D),V=A(),Q&&Q.c(),this.h()},l(X){e=_(X,"FORM",{});var ie=v(e);t=_(ie,"DIV",{class:!0});var ue=v(t);s=_(ue,"DIV",{class:!0});var le=v(s);i=M(le,a),le.forEach(f),r=y(ue),c=_(ue,"BUTTON",{class:!0,type:!0});var z=v(c);U.l(z),z.forEach(f),ue.forEach(f),u=y(ie),p=_(ie,"DIV",{class:!0});var Z=v(p);E=_(Z,"DIV",{class:!0});var q=v(E);S.l(q),q.forEach(f),h=y(Z),F&&F.l(Z),Z.forEach(f),m=y(ie),G&&G.l(ie),g=y(ie),b=_(ie,"DIV",{class:!0});var te=v(b);w=M(te,I),k=y(te),T=_(te,"A",{class:!0,href:!0,target:!0});var ae=v(T);$=M(ae,D),ae.forEach(f),te.forEach(f),V=y(ie),Q&&Q.l(ie),ie.forEach(f),this.h()},h(){o(s,"class","text-sm font-medium"),o(c,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(c,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(E,"class","flex flex-col w-full"),o(p,"class","flex w-full mb-1.5"),o(T,"class","text-gray-500 dark:text-gray-300 font-medium underline"),o(T,"href","https://huggingface.co/models?search=gguf"),o(T,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(X,ie){R(X,e,ie),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),U.m(c,null),n(e,u),n(e,p),n(p,E),S.m(E,null),n(p,h),F&&F.m(p,null),n(e,m),G&&G.m(e,null),n(e,g),n(e,b),n(b,w),n(b,k),n(b,T),n(T,$),n(e,V),Q&&Q.m(e,null),O||(N=[re(c,"click",l[44]),re(e,"submit",Hs(l[51]))],O=!0)},p(X,ie){ie[0]&8388608&&a!==(a=X[23].t("Upload a GGUF model")+"")&&C(i,a),H===(H=P(X))&&U?U.p(X,ie):(U.d(1),U=H(X),U&&(U.c(),U.m(c,null))),Y===(Y=B(X))&&S?S.p(X,ie):(S.d(1),S=Y(X),S&&(S.c(),S.m(E,null))),X[14]==="file"&&X[15]&&X[15].length>0||X[14]==="url"&&X[16]!==""?F?F.p(X,ie):(F=uo(X),F.c(),F.m(p,null)):F&&(F.d(1),F=null),X[14]==="file"&&X[15]&&X[15].length>0||X[14]==="url"&&X[16]!==""?G?G.p(X,ie):(G=fo(X),G.c(),G.m(e,g)):G&&(G.d(1),G=null),ie[0]&8388608&&I!==(I=X[23].t("To access the GGUF models available for downloading,")+"")&&C(w,I),ie[0]&8388608&&D!==(D=X[23].t("click here.")+"")&&C($,D),J===(J=K(X))&&Q?Q.p(X,ie):(Q&&Q.d(1),Q=J&&J(X),Q&&(Q.c(),Q.m(e,null)))},d(X){X&&f(e),U.d(),S.d(),F&&F.d(),G&&G.d(),Q&&Q.d(),O=!1,bl(N)}}}function Md(l){let e,t=l[23].t("URL Mode")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("URL Mode")+"")&&C(s,t)},d(a){a&&f(e)}}}function Rd(l){let e,t=l[23].t("File Mode")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&8388608&&t!==(t=a[23].t("File Mode")+"")&&C(s,t)},d(a){a&&f(e)}}}function Cd(l){let e,t,s,a,i,r,c;return{c(){e=d("div"),t=d("input"),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=v(e);t=_(p,"INPUT",{class:!0,type:!0,placeholder:!0}),p.forEach(f),this.h()},h(){o(t,"class",s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(l[16]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder",a=l[23].t("Type Hugging Face Resolve (Download) URL")),o(e,"class",i="flex-1 "+(l[16]!==""?"mr-2":""))},m(u,p){R(u,e,p),n(e,t),ee(t,l[16]),r||(c=re(t,"input",l[49]),r=!0)},p(u,p){p[0]&65536&&s!==(s="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(u[16]!==""?"mr-2":""))&&o(t,"class",s),p[0]&8388608&&a!==(a=u[23].t("Type Hugging Face Resolve (Download) URL"))&&o(t,"placeholder",a),p[0]&65536&&t.value!==u[16]&&ee(t,u[16]),p[0]&65536&&i!==(i="flex-1 "+(u[16]!==""?"mr-2":""))&&o(e,"class",i)},d(u){u&&f(e),r=!1,c()}}}function Ud(l){let e,t,s,a,i,r,c;function u(h,m){return h[15]&&h[15].length>0?Hd:Bd}let p=u(l),E=p(l);return{c(){e=d("div"),t=d("input"),s=A(),a=d("button"),E.c(),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);t=_(m,"INPUT",{id:!0,type:!0,accept:!0}),s=y(m),a=_(m,"BUTTON",{type:!0,class:!0});var g=v(a);E.l(g),g.forEach(f),m.forEach(f),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(a,"type","button"),o(a,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(l[15]&&l[15].length>0?"mr-2":""))},m(h,m){R(h,e,m),n(e,t),l[45](t),n(e,s),n(e,a),E.m(a,null),r||(c=[re(t,"change",l[46]),re(t,"change",l[47]),re(a,"click",l[48])],r=!0)},p(h,m){p===(p=u(h))&&E?E.p(h,m):(E.d(1),E=p(h),E&&(E.c(),E.m(a,null))),m[0]&32768&&i!==(i="flex-1 "+(h[15]&&h[15].length>0?"mr-2":""))&&o(e,"class",i)},d(h){h&&f(e),l[45](null),E.d(),r=!1,bl(c)}}}function Bd(l){let e=l[23].t("Click here to select")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&8388608&&e!==(e=s[23].t("Click here to select")+"")&&C(t,e)},d(s){s&&f(t)}}}function Hd(l){let e=l[15][0].name+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&32768&&e!==(e=s[15][0].name+"")&&C(t,e)},d(s){s&&f(t)}}}function uo(l){let e;function t(i,r){return i[7]?jd:Gd}let s=t(l),a=s(l);return{c(){e=d("button"),a.c(),this.h()},l(i){e=_(i,"BUTTON",{class:!0,type:!0});var r=v(e);a.l(r),r.forEach(f),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),o(e,"type","submit"),e.disabled=l[7]},m(i,r){R(i,e,r),a.m(e,null)},p(i,r){s!==(s=t(i))&&(a.d(1),a=s(i),a&&(a.c(),a.m(e,null))),r[0]&128&&(e.disabled=i[7])},d(i){i&&f(e),a.d()}}}function Gd(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function jd(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function fo(l){let e,t,s,a=l[23].t("Modelfile Content")+"",i,r,c,u,p;return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("textarea"),this.h()},l(E){e=_(E,"DIV",{});var h=v(e);t=_(h,"DIV",{});var m=v(t);s=_(m,"DIV",{class:!0});var g=v(s);i=M(g,a),g.forEach(f),r=y(m),c=_(m,"TEXTAREA",{class:!0,rows:!0}),v(c).forEach(f),m.forEach(f),h.forEach(f),this.h()},h(){o(s,"class","my-2.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none"),o(c,"rows","6")},m(E,h){R(E,e,h),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),ee(c,l[17]),u||(p=re(c,"input",l[50]),u=!0)},p(E,h){h[0]&8388608&&a!==(a=E[23].t("Modelfile Content")+"")&&C(i,a),h[0]&131072&&ee(c,E[17])},d(E){E&&f(e),u=!1,p()}}}function Kd(l){let e,t,s=l[23].t("Upload Progress")+"",a,i,r,c,u=(l[19]??0)+"",p,E,h,m,g;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),p=L(u),E=L("%"),h=A(),m=d("div"),g=L(l[18]),this.h()},l(b){e=_(b,"DIV",{class:!0});var I=v(e);t=_(I,"DIV",{class:!0});var w=v(t);a=M(w,s),w.forEach(f),i=y(I),r=_(I,"DIV",{class:!0});var k=v(r);c=_(k,"DIV",{class:!0,style:!0});var T=v(c);p=M(T,u),E=M(T,"%"),T.forEach(f),k.forEach(f),h=y(I),m=_(I,"DIV",{class:!0,style:!0});var D=v(m);g=M(D,l[18]),D.forEach(f),I.forEach(f),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),fa(c,"width",Math.max(15,l[19]??0)+"%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(m,"class","mt-1 text-xs dark:text-gray-500"),fa(m,"font-size","0.5rem"),o(e,"class","mt-2")},m(b,I){R(b,e,I),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,p),n(c,E),n(e,h),n(e,m),n(m,g)},p(b,I){I[0]&8388608&&s!==(s=b[23].t("Upload Progress")+"")&&C(a,s),I[0]&524288&&u!==(u=(b[19]??0)+"")&&C(p,u),I[0]&524288&&fa(c,"width",Math.max(15,b[19]??0)+"%"),I[0]&262144&&C(g,b[18])},d(b){b&&f(e)}}}function Yd(l){let e,t,s=l[23].t("Upload Progress")+"",a,i,r,c,u,p,E,h;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=L(l[20]),p=A(),E=d("div"),h=L(l[18]),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);a=M(b,s),b.forEach(f),i=y(g),r=_(g,"DIV",{class:!0});var I=v(r);c=_(I,"DIV",{class:!0,style:!0});var w=v(c);u=M(w,l[20]),w.forEach(f),I.forEach(f),p=y(g),E=_(g,"DIV",{class:!0,style:!0});var k=v(E);h=M(k,l[18]),k.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","mb-2 text-xs"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),fa(c,"width","100%"),o(r,"class","w-full rounded-full dark:bg-gray-800"),o(E,"class","mt-1 text-xs dark:text-gray-500"),fa(E,"font-size","0.5rem"),o(e,"class","mt-2")},m(m,g){R(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(e,p),n(e,E),n(E,h)},p(m,g){g[0]&8388608&&s!==(s=m[23].t("Upload Progress")+"")&&C(a,s),g[0]&1048576&&C(u,m[20]),g[0]&262144&&C(h,m[18])},d(m){m&&f(e)}}}function Fd(l){let e,t,s,a,i,r,c;function u(g){l[32](g)}let p={};l[1]!==void 0&&(p.show=l[1]),e=new Wr({props:p}),We.push(()=>Qe(e,"show",u)),e.$on("confirm",l[33]);const E=[Vd,Nd,$d],h=[];function m(g,b){return g[2]?g[3]===null?1:2:0}return a=m(l),i=h[a]=E[a](l),{c(){pe(e.$$.fragment),s=A(),i.c(),r=ul()},l(g){ve(e.$$.fragment,g),s=y(g),i.l(g),r=ul()},m(g,b){me(e,g,b),R(g,s,b),h[a].m(g,b),R(g,r,b),c=!0},p(g,b){const I={};!t&&b[0]&2&&(t=!0,I.show=g[1],Xe(()=>t=!1)),e.$set(I);let w=a;a=m(g),a===w?h[a].p(g,b):(Et(),W(h[w],1,1,()=>{h[w]=null}),bt(),i=h[a],i?i.p(g,b):(i=h[a]=E[a](g),i.c()),j(i,1),i.m(r.parentNode,r))},i(g){c||(j(e.$$.fragment,g),j(i),c=!0)},o(g){W(e.$$.fragment,g),W(i),c=!1},d(g){g&&(f(s),f(r)),ge(e,g),h[a].d(g)}}}const Wd=3;function qd(l,e,t){let s,a,i,r;Wt(l,rr,se=>t(54,s=se)),Wt(l,Ps,se=>t(55,a=se)),Wt(l,lr,se=>t(22,i=se));const c=Kl("i18n");Wt(l,c,se=>t(23,r=se));let u,p=!1,E=!0,{urlIdx:h=null}=e,m=[],g=null,b=null,I=!1,w=!1,k="",T=!1,D="",$="",V="",O=null,N="",P=null,H="file",U=null,B="",Y=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,S="",F=null,G="",K="";const J=async()=>{for(const se of m){console.log(se),t(4,g=se.id);const[ye,Be]=await Sn(localStorage.token,se.id,h).catch($e=>(Fe.error(`${$e}`),null));if(ye){const $e=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(wr(`
`)).getReader();for(;;)try{const{value:Le,done:Ge}=await $e.read();if(Ge)break;let qe=Le.split(`
`);for(const Ke of qe)if(Ke!==""){let je=JSON.parse(Ke);if(console.log(je),je.error)throw je.error;if(je.detail)throw je.detail;je.status&&(je.digest?(t(5,b=0),je.completed?t(5,b=Math.round(je.completed/je.total*1e3)/10):t(5,b=100)):Fe.success(je.status))}}catch(Le){console.log(Le)}}}t(4,g=null),t(5,b=null)},Q=async()=>{var $e;const se=k.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(i),i[se]){Fe.error(r.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:se}));return}if(Object.keys(i).length===Wd){Fe.error(r.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[ye,Be]=await Sn(localStorage.token,se,h).catch(Le=>(Fe.error(`${Le}`),null));if(ye){const Le=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(wr(`
`)).getReader();for(lr.set({...i,[se]:{...i[se],abortController:Be,reader:Le,done:!1}});;)try{const{value:Ge,done:qe}=await Le.read();if(qe)break;let Ke=Ge.split(`
`);for(const je of Ke)if(je!==""){let Ae=JSON.parse(je);if(console.log(Ae),Ae.error)throw Ae.error;if(Ae.detail)throw Ae.detail;if(Ae.status)if(Ae.digest){let Ve=0;Ae.completed?Ve=Math.round(Ae.completed/Ae.total*1e3)/10:Ve=100,lr.set({...i,[se]:{...i[se],pullProgress:Ve,digest:Ae.digest}})}else Fe.success(Ae.status),lr.set({...i,[se]:{...i[se],done:Ae.status==="success"}})}}catch(Ge){console.log(Ge),typeof Ge!="string"&&(Ge=Ge.message),Fe.error(`${Ge}`)}console.log(i[se]),i[se].done?(Fe.success(r.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:se})),Jl.set(await Es(localStorage.token,(($e=a==null?void 0:a.features)==null?void 0:$e.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))):Fe.error(r.t("Download canceled")),delete i[se],lr.set({...i})}t(8,k=""),t(7,w=!1)},X=async()=>{var $e;t(7,w=!0);let se=!1,ye=null,Be="";if(H==="file"){const Le=U?U[0]:null;Le&&(t(20,G="Uploading..."),ye=await gf(localStorage.token,Le,h).catch(Ge=>(Fe.error(`${Ge}`),null)))}else t(19,F=0),ye=await Ef(localStorage.token,B,h).catch(Le=>(Fe.error(`${Le}`),null));if(ye&&ye.ok){const Le=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(wr(`
`)).getReader();for(;;){const{value:Ge,done:qe}=await Le.read();if(qe)break;try{let Ke=Ge.split(`
`);for(const je of Ke)if(je!==""){let Ae=JSON.parse(je.replace(/^data: /,""));if(Ae.progress&&(G&&t(20,G=""),t(19,F=Ae.progress)),Ae.error)throw Ae.error;Ae.done&&(t(18,S=Ae.blob),Be=Ae.name,se=!0)}}catch(Ke){console.log(Ke)}}}else{const Le=await(ye==null?void 0:ye.json());Fe.error((Le==null?void 0:Le.detail)??Le)}if(se){const Le=await Mn(localStorage.token,`${Be}:latest`,`FROM @${S}
${Y}`);if(Le&&Le.ok){const Ge=Le.body.pipeThrough(new TextDecoderStream).pipeThrough(wr(`
`)).getReader();for(;;){const{value:qe,done:Ke}=await Ge.read();if(Ke)break;try{let je=qe.split(`
`);for(const Ae of je)if(Ae!==""){console.log(Ae);let Ve=JSON.parse(Ae);if(console.log(Ve),Ve.error)throw Ve.error;if(Ve.detail)throw Ve.detail;Ve.status&&(!Ve.digest&&!Ve.status.includes("writing")&&!Ve.status.includes("sha256")?Fe.success(Ve.status):Ve.digest&&(N=Ve.digest,Ve.completed?P=Math.round(Ve.completed/Ve.total*1e3)/10:P=100))}}catch(je){console.log(je),Fe.error(`${je}`)}}}}t(16,B=""),u&&t(0,u.value="",u),t(15,U=null),t(7,w=!1),t(19,F=null),Jl.set(await Es(localStorage.token,(($e=a==null?void 0:a.features)==null?void 0:$e.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))},ie=async()=>{var ye;await Ln(localStorage.token,K,h).catch(Be=>{Fe.error(`${Be}`)})&&Fe.success(r.t("Deleted {{deleteModelTag}}",{deleteModelTag:K})),t(21,K=""),Jl.set(await Es(localStorage.token,((ye=a==null?void 0:a.features)==null?void 0:ye.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))},ue=async se=>{const{reader:ye,abortController:Be}=i[se];Be&&Be.abort(),ye&&(await ye.cancel(),delete i[se],lr.set({...i}),await Ln(localStorage.token,se),Fe.success(`${se} download has been canceled`))},le=async()=>{var Be;t(9,T=!0);let se={};try{se=JSON.parse($)}catch($e){Fe.error(`${$e}`),t(9,T=!1);return}const ye=await Mn(localStorage.token,{model:D,...se},h).catch($e=>(Fe.error(`${$e}`),null));if(ye&&ye.ok){const $e=ye.body.pipeThrough(new TextDecoderStream).pipeThrough(wr(`
`)).getReader();for(;;){const{value:Le,done:Ge}=await $e.read();if(Ge)break;try{let qe=Le.split(`
`);for(const Ke of qe)if(Ke!==""){console.log(Ke);let je=JSON.parse(Ke);if(console.log(je),je.error)throw je.error;if(je.detail)throw je.detail;je.status&&(!je.digest&&!je.status.includes("writing")&&!je.status.includes("sha256")?Fe.success(je.status):je.digest&&(t(12,V=je.digest),je.completed?t(13,O=Math.round(je.completed/je.total*1e3)/10):t(13,O=100)))}}catch(qe){console.log(qe),Fe.error(`${qe}`)}}}Jl.set(await Es(localStorage.token,((Be=a==null?void 0:a.features)==null?void 0:Be.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),t(9,T=!1),t(10,D=""),t(11,$=""),t(12,V=""),t(13,O=null)},z=async()=>{t(2,E=!0),t(3,m=await mf(localStorage.token,h).catch(se=>(Fe.error(`${se}`),null))),m&&t(2,E=!1)};function Z(se){p=se,t(1,p)}const q=()=>{ie()},te=()=>{J()};function ae(){k=this.value,t(8,k)}const de=()=>{Q()},ne=se=>{ue(se)};function oe(){K=Bl(this),t(21,K),t(3,m)}const fe=()=>{t(1,p=!0)};function ke(){D=this.value,t(10,D)}function Ee(){$=this.value,t(11,$)}const x=()=>{le()},_e=()=>{t(6,I=!I)},Te=()=>{H==="file"?t(14,H="url"):t(14,H="file")};function be(se){We[se?"unshift":"push"](()=>{u=se,t(0,u)})}function Ie(){U=this.files,t(15,U)}const Me=()=>{console.log(U)},ce=()=>{u.click()};function De(){B=this.value,t(16,B)}function Ce(){Y=this.value,t(17,Y)}const Ue=()=>{X()};return l.$$set=se=>{"urlIdx"in se&&t(31,h=se.urlIdx)},l.$$.update=()=>{l.$$.dirty[1]&1&&h!==null&&z()},[u,p,E,m,g,b,I,w,k,T,D,$,V,O,H,U,B,Y,S,F,G,K,i,r,c,J,Q,X,ie,ue,le,h,Z,q,te,ae,de,ne,oe,fe,ke,Ee,x,_e,Te,be,Ie,Me,ce,De,Ce,Ue]}class pu extends Ml{constructor(e){super(),Rl(this,e,qd,Fd,Ll,{urlIdx:31},null,[-1,-1,-1])}}function co(l,e,t){const s=l.slice();return s[5]=e[t],s[7]=t,s}function _o(l){let e,t,s,a,i,r,c,u,p=mt(l[0].OLLAMA_BASE_URLS),E=[];for(let h=0;h<p.length;h+=1)E[h]=ho(co(l,p,h));return i=new pu({props:{urlIdx:l[1]}}),{c(){e=d("div"),t=d("select");for(let h=0;h<E.length;h+=1)E[h].c();a=A(),pe(i.$$.fragment),this.h()},l(h){e=_(h,"DIV",{class:!0});var m=v(e);t=_(m,"SELECT",{class:!0,placeholder:!0});var g=v(t);for(let b=0;b<E.length;b+=1)E[b].l(g);g.forEach(f),m.forEach(f),a=y(h),ve(i.$$.fragment,h),this.h()},h(){o(t,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),o(t,"placeholder",s=l[2].t("Select an Ollama instance")),l[1]===void 0&&Hl(()=>l[4].call(t)),o(e,"class","flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850")},m(h,m){R(h,e,m),n(e,t);for(let g=0;g<E.length;g+=1)E[g]&&E[g].m(t,null);jt(t,l[1],!0),R(h,a,m),me(i,h,m),r=!0,c||(u=re(t,"change",l[4]),c=!0)},p(h,m){if(m&1){p=mt(h[0].OLLAMA_BASE_URLS);let b;for(b=0;b<p.length;b+=1){const I=co(h,p,b);E[b]?E[b].p(I,m):(E[b]=ho(I),E[b].c(),E[b].m(t,null))}for(;b<E.length;b+=1)E[b].d(1);E.length=p.length}(!r||m&4&&s!==(s=h[2].t("Select an Ollama instance")))&&o(t,"placeholder",s),m&2&&jt(t,h[1]);const g={};m&2&&(g.urlIdx=h[1]),i.$set(g)},i(h){r||(j(i.$$.fragment,h),r=!0)},o(h){W(i.$$.fragment,h),r=!1},d(h){h&&(f(e),f(a)),Il(E,h),ge(i,h),c=!1,u()}}}function ho(l){let e,t=l[5]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[7],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p(a,i){i&1&&t!==(t=a[5]+"")&&C(s,t)},d(a){a&&f(e)}}}function Zd(l){let e,t,s=l[0]&&_o(l);return{c(){s&&s.c(),e=ul()},l(a){s&&s.l(a),e=ul()},m(a,i){s&&s.m(a,i),R(a,e,i),t=!0},p(a,[i]){a[0]?s?(s.p(a,i),i&1&&j(s,1)):(s=_o(a),s.c(),j(s,1),s.m(e.parentNode,e)):s&&(Et(),W(s,1,1,()=>{s=null}),bt())},i(a){t||(j(s),t=!0)},o(a){W(s),t=!1},d(a){a&&f(e),s&&s.d(a)}}}function Jd(l,e,t){let s;const a=Kl("i18n");Wt(l,a,u=>t(2,s=u));let{ollamaConfig:i=null}=e,r=0;function c(){r=Bl(this),t(1,r)}return l.$$set=u=>{"ollamaConfig"in u&&t(0,i=u.ollamaConfig)},[i,r,s,a,c]}class zd extends Ml{constructor(e){super(),Rl(this,e,Jd,Zd,Ll,{ollamaConfig:0})}}function Xd(l){let e,t,s;return t=new Oa({}),{c(){e=d("div"),pe(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);ve(t.$$.fragment,i),i.forEach(f),this.h()},h(){o(e,"class","py-5")},m(a,i){R(a,e,i),me(t,e,null),s=!0},p:ft,i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&f(e),ge(t)}}}function Qd(l){let e,t,s,a=l[3].t("Ollama")+"",i,r,c,u,p,E,h,m=l[1]==="ollama"&&po(l);return{c(){e=d("div"),t=d("div"),s=d("button"),i=L(a),c=A(),u=d("div"),m&&m.c(),this.h()},l(g){e=_(g,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var I=v(t);s=_(I,"BUTTON",{class:!0});var w=v(s);i=M(w,a),w.forEach(f),I.forEach(f),c=y(b),u=_(b,"DIV",{class:!0});var k=v(u);m&&m.l(k),k.forEach(f),b.forEach(f),this.h()},h(){o(s,"class",r="min-w-fit rounded-full p-1.5 "+(l[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),o(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),o(u,"class","px-1.5 py-1"),o(e,"class","flex w-full flex-col")},m(g,b){R(g,e,b),n(e,t),n(t,s),n(s,i),n(e,c),n(e,u),m&&m.m(u,null),p=!0,E||(h=re(s,"click",l[6]),E=!0)},p(g,b){(!p||b&8)&&a!==(a=g[3].t("Ollama")+"")&&C(i,a),(!p||b&2&&r!==(r="min-w-fit rounded-full p-1.5 "+(g[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"))&&o(s,"class",r),g[1]==="ollama"?m?(m.p(g,b),b&2&&j(m,1)):(m=po(g),m.c(),j(m,1),m.m(u,null)):m&&(Et(),W(m,1,1,()=>{m=null}),bt())},i(g){p||(j(m),p=!0)},o(g){W(m),p=!1},d(g){g&&f(e),m&&m.d(),E=!1,h()}}}function xd(l){let e,t,s=l[3].t("No inference engine with management support found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{});var c=v(t);a=M(c,s),c.forEach(f),r.forEach(f),this.h()},h(){o(e,"class","py-5 text-gray-400 text-xs")},m(i,r){R(i,e,r),n(e,t),n(t,a)},p(i,r){r&8&&s!==(s=i[3].t("No inference engine with management support found")+"")&&C(a,s)},i:ft,o:ft,d(i){i&&f(e)}}}function po(l){let e,t;return e=new zd({props:{ollamaConfig:l[2]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&4&&(i.ollamaConfig=s[2]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function e_(l){let e,t,s,a=l[3].t("Manage Models")+"",i,r,c,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,E,h,m,g,b,I,w;const k=[xd,Qd,Xd],T=[];function D($,V){return $[1]===""?0:$[1]!==null?1:2}return m=D(l),g=T[m]=k[m](l),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("button"),c.innerHTML=u,p=A(),E=d("div"),h=d("div"),g.c(),this.h()},l($){e=_($,"DIV",{});var V=v(e);t=_(V,"DIV",{class:!0});var O=v(t);s=_(O,"DIV",{class:!0});var N=v(s);i=M(N,a),N.forEach(f),r=y(O),c=_(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(c)!=="svelte-745w2y"&&(c.innerHTML=u),O.forEach(f),p=y(V),E=_(V,"DIV",{class:!0});var P=v(E);h=_(P,"DIV",{class:!0});var H=v(h);g.l(H),H.forEach(f),P.forEach(f),V.forEach(f),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(c,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4"),o(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(E,"class","flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200")},m($,V){R($,e,V),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(e,p),n(e,E),n(E,h),T[m].m(h,null),b=!0,I||(w=re(c,"click",l[5]),I=!0)},p($,V){(!b||V&8)&&a!==(a=$[3].t("Manage Models")+"")&&C(i,a);let O=m;m=D($),m===O?T[m].p($,V):(Et(),W(T[O],1,1,()=>{T[O]=null}),bt(),g=T[m],g?g.p($,V):(g=T[m]=k[m]($),g.c()),j(g,1),g.m(h,null))},i($){b||(j(g),b=!0)},o($){W(g),b=!1},d($){$&&f(e),T[m].d(),I=!1,w()}}}function t_(l){let e,t,s;function a(r){l[7](r)}let i={size:"sm",$$slots:{default:[e_]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new Zr({props:i}),We.push(()=>Qe(e,"show",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,[c]){const u={};c&1039&&(u.$$scope={dirty:c,ctx:r}),!t&&c&1&&(t=!0,u.show=r[0],Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function l_(l,e,t){let s,a;Wt(l,nr,m=>t(8,s=m));const i=Kl("i18n");Wt(l,i,m=>t(3,a=m)),Ea();let{show:r=!1}=e,c=null,u=null;bs(async()=>{if(s.role==="admin"){if(await Promise.all([(async()=>{t(2,u=await du(localStorage.token))})()]),u){t(1,c="ollama");return}t(1,c="")}});const p=()=>{t(0,r=!1)},E=()=>{t(1,c="ollama")};function h(m){r=m,t(0,r)}return l.$$set=m=>{"show"in m&&t(0,r=m.show)},[r,c,u,a,i,p,E,h]}class s_ extends Ml{constructor(e){super(),Rl(this,e,l_,t_,Ll,{show:0})}}function vo(l,e,t){const s=l.slice();return s[37]=e[t],s[38]=e,s[39]=t,s}function a_(l){let e,t,s;return t=new Oa({}),{c(){e=d("div"),pe(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);ve(t.$$.fragment,i),i.forEach(f),this.h()},h(){o(e,"class","h-full w-full flex justify-center items-center")},m(a,i){R(a,e,i),me(t,e,null),s=!0},p:ft,i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&f(e),ge(t)}}}function r_(l){let e,t,s,a;const i=[i_,n_],r=[];function c(u,p){return u[5]===null?0:1}return e=c(l),t=r[e]=i[e](l),{c(){t.c(),s=ul()},l(u){t.l(u),s=ul()},m(u,p){r[e].m(u,p),R(u,s,p),a=!0},p(u,p){let E=e;e=c(u),e===E?r[e].p(u,p):(Et(),W(r[E],1,1,()=>{r[E]=null}),bt(),t=r[e],t?t.p(u,p):(t=r[e]=i[e](u),t.c()),j(t,1),t.m(s.parentNode,s))},i(u){a||(j(t),a=!0)},o(u){W(t),a=!1},d(u){u&&f(s),r[e].d(u)}}}function n_(l){let e,t;return e=new hf({props:{edit:!0,model:l[0].find(l[31]),preset:!1,onSubmit:l[32],onBack:l[33]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a[0]&33&&(i.model=s[0].find(s[31])),a[0]&32&&(i.onSubmit=s[32]),a[0]&32&&(i.onBack=s[33]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function i_(l){var le;let e,t,s,a=l[10].t("Models")+"",i,r,c,u,p,E=l[4].length+"",h,m,g,b,I,w,k,T,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J;b=new Ht({props:{content:l[10].t("Manage Models"),$$slots:{default:[o_]},$$scope:{ctx:l}}}),w=new Ht({props:{content:l[10].t("Settings"),$$slots:{default:[u_]},$$scope:{ctx:l}}}),V=new _f({props:{className:"size-3.5"}});const Q=[c_,f_],X=[];function ie(z,Z){return z[0].length>0?0:1}B=ie(l),Y=X[B]=Q[B](l);let ue=((le=l[11])==null?void 0:le.role)==="admin"&&go(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("div"),u=A(),p=d("span"),h=L(E),m=A(),g=d("div"),pe(b.$$.fragment),I=A(),pe(w.$$.fragment),k=A(),T=d("div"),D=d("div"),$=d("div"),pe(V.$$.fragment),O=A(),N=d("input"),H=A(),U=d("div"),Y.c(),S=A(),ue&&ue.c(),F=ul(),this.h()},l(z){e=_(z,"DIV",{class:!0});var Z=v(e);t=_(Z,"DIV",{class:!0});var q=v(t);s=_(q,"DIV",{class:!0});var te=v(s);i=M(te,a),r=y(te),c=_(te,"DIV",{class:!0}),v(c).forEach(f),u=y(te),p=_(te,"SPAN",{class:!0});var ae=v(p);h=M(ae,E),ae.forEach(f),te.forEach(f),m=y(q),g=_(q,"DIV",{class:!0});var de=v(g);ve(b.$$.fragment,de),I=y(de),ve(w.$$.fragment,de),de.forEach(f),q.forEach(f),k=y(Z),T=_(Z,"DIV",{class:!0});var ne=v(T);D=_(ne,"DIV",{class:!0});var oe=v(D);$=_(oe,"DIV",{class:!0});var fe=v($);ve(V.$$.fragment,fe),fe.forEach(f),O=y(oe),N=_(oe,"INPUT",{class:!0,placeholder:!0}),oe.forEach(f),ne.forEach(f),Z.forEach(f),H=y(z),U=_(z,"DIV",{class:!0,id:!0});var ke=v(U);Y.l(ke),ke.forEach(f),S=y(z),ue&&ue.l(z),F=ul(),this.h()},h(){o(c,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),o(p,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),o(s,"class","flex items-center md:self-center text-xl font-medium px-0.5"),o(g,"class","flex items-center gap-1.5"),o(t,"class","flex justify-between items-center"),o($,"class","self-center ml-1 mr-3"),o(N,"class","w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"),o(N,"placeholder",P=l[10].t("Search Models")),o(D,"class","flex flex-1 items-center"),o(T,"class","flex flex-1 items-center w-full space-x-2"),o(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),o(U,"class","my-2 mb-5"),o(U,"id","model-list")},m(z,Z){R(z,e,Z),n(e,t),n(t,s),n(s,i),n(s,r),n(s,c),n(s,u),n(s,p),n(p,h),n(t,m),n(t,g),me(b,g,null),n(g,I),me(w,g,null),n(e,k),n(e,T),n(T,D),n(D,$),me(V,$,null),n(D,O),n(D,N),ee(N,l[1]),R(z,H,Z),R(z,U,Z),X[B].m(U,null),R(z,S,Z),ue&&ue.m(z,Z),R(z,F,Z),G=!0,K||(J=re(N,"input",l[21]),K=!0)},p(z,Z){var de;(!G||Z[0]&1024)&&a!==(a=z[10].t("Models")+"")&&C(i,a),(!G||Z[0]&16)&&E!==(E=z[4].length+"")&&C(h,E);const q={};Z[0]&1024&&(q.content=z[10].t("Manage Models")),Z[0]&128|Z[1]&512&&(q.$$scope={dirty:Z,ctx:z}),b.$set(q);const te={};Z[0]&1024&&(te.content=z[10].t("Settings")),Z[0]&64|Z[1]&512&&(te.$$scope={dirty:Z,ctx:z}),w.$set(te),(!G||Z[0]&1024&&P!==(P=z[10].t("Search Models")))&&o(N,"placeholder",P),Z[0]&2&&N.value!==z[1]&&ee(N,z[1]);let ae=B;B=ie(z),B===ae?X[B].p(z,Z):(Et(),W(X[ae],1,1,()=>{X[ae]=null}),bt(),Y=X[B],Y?Y.p(z,Z):(Y=X[B]=Q[B](z),Y.c()),j(Y,1),Y.m(U,null)),((de=z[11])==null?void 0:de.role)==="admin"?ue?ue.p(z,Z):(ue=go(z),ue.c(),ue.m(F.parentNode,F)):ue&&(ue.d(1),ue=null)},i(z){G||(j(b.$$.fragment,z),j(w.$$.fragment,z),j(V.$$.fragment,z),j(Y),G=!0)},o(z){W(b.$$.fragment,z),W(w.$$.fragment,z),W(V.$$.fragment,z),W(Y),G=!1},d(z){z&&(f(e),f(H),f(U),f(S),f(F)),ge(b),ge(w),ge(V),X[B].d(),ue&&ue.d(z),K=!1,J()}}}function o_(l){let e,t,s,a,i;return t=new cu({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[19]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function u_(l){let e,t,s,a,i;return t=new qr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","p-1 rounded-full flex gap-1 items-center"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[20]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function f_(l){let e,t,s=l[10].t("No models found")+"",a;return{c(){e=d("div"),t=d("div"),a=L(s),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var c=v(t);a=M(c,s),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","text-gray-500 dark:text-gray-400 text-xs"),o(e,"class","flex flex-col items-center justify-center w-full h-20")},m(i,r){R(i,e,r),n(e,t),n(t,a)},p(i,r){r[0]&1024&&s!==(s=i[10].t("No models found")+"")&&C(a,s)},i:ft,o:ft,d(i){i&&f(e)}}}function c_(l){let e=[],t=new Map,s,a,i=mt(l[4]);const r=c=>c[37].id;for(let c=0;c<i.length;c+=1){let u=vo(l,i,c),p=r(u);t.set(p,e[c]=mo(p,u))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();s=ul()},l(c){for(let u=0;u<e.length;u+=1)e[u].l(c);s=ul()},m(c,u){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(c,u);R(c,s,u),a=!0},p(c,u){u[0]&66608&&(i=mt(c[4]),Et(),e=uu(e,u,r,1,c,i,t,s.parentNode,fu,mo,s,vo),bt())},i(c){if(!a){for(let u=0;u<i.length;u+=1)j(e[u]);a=!0}},o(c){for(let u=0;u<e.length;u+=1)W(e[u]);a=!1},d(c){c&&f(s);for(let u=0;u<e.length;u+=1)e[u].d(c)}}}function d_(l){let e,t=l[37].name+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","font-semibold line-clamp-1")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16&&t!==(t=a[37].name+"")&&C(s,t)},d(a){a&&f(e)}}}function __(l){let e,t,s;function a(c){l[24](c,l[37])}function i(){return l[25](l[37])}let r={};return l[37].is_active!==void 0&&(r.state=l[37].is_active),e=new yl({props:r}),We.push(()=>Qe(e,"state",a)),e.$on("change",i),{c(){pe(e.$$.fragment)},l(c){ve(e.$$.fragment,c)},m(c,u){me(e,c,u),s=!0},p(c,u){l=c;const p={};!t&&u[0]&16&&(t=!0,p.state=l[37].is_active,Xe(()=>t=!1)),e.$set(p)},i(c){s||(j(e.$$.fragment,c),s=!0)},o(c){W(e.$$.fragment,c),s=!1},d(c){ge(e,c)}}}function mo(l,e){var K,J,Q,X,ie,ue,le,z,Z,q,te,ae,de,ne,oe,fe,ke,Ee,x;let t,s,a,i,r,c,u,p,E,h,m,g,b,I=((J=(K=e[37])==null?void 0:K.meta)!=null&&J.description?(X=(Q=e[37])==null?void 0:Q.meta)==null?void 0:X.description:(ue=(ie=e[37])==null?void 0:ie.ollama)!=null&&ue.digest?`${e[37].id} (${(z=(le=e[37])==null?void 0:le.ollama)==null?void 0:z.digest})`:e[37].id)+"",w,k,T,D,$,V='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',O,N,P,H,U,B,Y,S;h=new Ht({props:{content:On.parse((q=(Z=e[37])==null?void 0:Z.meta)!=null&&q.description?(ae=(te=e[37])==null?void 0:te.meta)==null?void 0:ae.description:(ne=(de=e[37])==null?void 0:de.ollama)!=null&&ne.digest?`${(fe=(oe=e[37])==null?void 0:oe.ollama)==null?void 0:fe.digest} **(${(Ee=(ke=e[37])==null?void 0:ke.ollama)==null?void 0:Ee.modified_at})**`:e[37].id),className:" w-fit",placement:"top-start",$$slots:{default:[d_]},$$scope:{ctx:e}}});function F(){return e[22](e[37])}function G(){return e[23](e[37])}return P=new Ht({props:{content:((x=e[37])==null?void 0:x.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled"),$$slots:{default:[__]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=d("div"),s=d("button"),a=d("div"),i=d("div"),r=d("img"),p=A(),E=d("div"),pe(h.$$.fragment),m=A(),g=d("div"),b=d("span"),w=L(I),T=A(),D=d("div"),$=d("button"),$.innerHTML=V,O=A(),N=d("div"),pe(P.$$.fragment),H=A(),this.h()},l(_e){t=_(_e,"DIV",{class:!0,id:!0});var Te=v(t);s=_(Te,"BUTTON",{class:!0,type:!0});var be=v(s);a=_(be,"DIV",{class:!0});var Ie=v(a);i=_(Ie,"DIV",{class:!0});var Me=v(i);r=_(Me,"IMG",{src:!0,alt:!0,class:!0}),Me.forEach(f),Ie.forEach(f),p=y(be),E=_(be,"DIV",{class:!0});var ce=v(E);ve(h.$$.fragment,ce),m=y(ce),g=_(ce,"DIV",{class:!0});var De=v(g);b=_(De,"SPAN",{class:!0});var Ce=v(b);w=M(Ce,I),Ce.forEach(f),De.forEach(f),ce.forEach(f),be.forEach(f),T=y(Te),D=_(Te,"DIV",{class:!0});var Ue=v(D);$=_(Ue,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Bt($)!=="svelte-1q2s9zz"&&($.innerHTML=V),O=y(Ue),N=_(Ue,"DIV",{class:!0});var se=v(N);ve(P.$$.fragment,se),se.forEach(f),Ue.forEach(f),H=y(Te),Te.forEach(f),this.h()},h(){var _e,Te,be,Ie;ar(r.src,c=((Te=(_e=e[37])==null?void 0:_e.meta)==null?void 0:Te.profile_image_url)??"/static/favicon.png")||o(r,"src",c),o(r,"alt","modelfile profile"),o(r,"class","rounded-full w-full h-auto object-cover"),o(i,"class",u="rounded-full object-cover "+(((be=e[37])==null?void 0:be.is_active)??!0?"":"opacity-50 dark:opacity-50")),o(a,"class","self-center w-8"),o(b,"class","line-clamp-1"),o(g,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),o(E,"class",k="flex-1 self-center "+(((Ie=e[37])==null?void 0:Ie.is_active)??!0?"":"text-gray-500")),o(s,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),o(s,"type","button"),o($,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o($,"type","button"),o(N,"class","ml-1"),o(D,"class","flex flex-row gap-0.5 items-center self-center"),o(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),o(t,"id",U="model-item-"+e[37].id),this.first=t},m(_e,Te){R(_e,t,Te),n(t,s),n(s,a),n(a,i),n(i,r),n(s,p),n(s,E),me(h,E,null),n(E,m),n(E,g),n(g,b),n(b,w),n(t,T),n(t,D),n(D,$),n(D,O),n(D,N),me(P,N,null),n(t,H),B=!0,Y||(S=[re(s,"click",F),re($,"click",G)],Y=!0)},p(_e,Te){var Me,ce,De,Ce,Ue,se,ye,Be,$e,Le,Ge,qe,Ke,je,Ae,Ve,Pe,st,It,at,Ze,pt,Lt;e=_e,(!B||Te[0]&16&&!ar(r.src,c=((ce=(Me=e[37])==null?void 0:Me.meta)==null?void 0:ce.profile_image_url)??"/static/favicon.png"))&&o(r,"src",c),(!B||Te[0]&16&&u!==(u="rounded-full object-cover "+(((De=e[37])==null?void 0:De.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&o(i,"class",u);const be={};Te[0]&16&&(be.content=On.parse((Ue=(Ce=e[37])==null?void 0:Ce.meta)!=null&&Ue.description?(ye=(se=e[37])==null?void 0:se.meta)==null?void 0:ye.description:($e=(Be=e[37])==null?void 0:Be.ollama)!=null&&$e.digest?`${(Ge=(Le=e[37])==null?void 0:Le.ollama)==null?void 0:Ge.digest} **(${(Ke=(qe=e[37])==null?void 0:qe.ollama)==null?void 0:Ke.modified_at})**`:e[37].id)),Te[0]&16|Te[1]&512&&(be.$$scope={dirty:Te,ctx:e}),h.$set(be),(!B||Te[0]&16)&&I!==(I=((Ae=(je=e[37])==null?void 0:je.meta)!=null&&Ae.description?(Pe=(Ve=e[37])==null?void 0:Ve.meta)==null?void 0:Pe.description:(It=(st=e[37])==null?void 0:st.ollama)!=null&&It.digest?`${e[37].id} (${(Ze=(at=e[37])==null?void 0:at.ollama)==null?void 0:Ze.digest})`:e[37].id)+"")&&C(w,I),(!B||Te[0]&16&&k!==(k="flex-1 self-center "+(((pt=e[37])==null?void 0:pt.is_active)??!0?"":"text-gray-500")))&&o(E,"class",k);const Ie={};Te[0]&1040&&(Ie.content=((Lt=e[37])==null?void 0:Lt.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled")),Te[0]&16|Te[1]&512&&(Ie.$$scope={dirty:Te,ctx:e}),P.$set(Ie),(!B||Te[0]&16&&U!==(U="model-item-"+e[37].id))&&o(t,"id",U)},i(_e){B||(j(h.$$.fragment,_e),j(P.$$.fragment,_e),B=!0)},o(_e){W(h.$$.fragment,_e),W(P.$$.fragment,_e),B=!1},d(_e){_e&&f(t),ge(h),ge(P),Y=!1,bl(S)}}}function go(l){let e,t,s,a,i,r,c=l[10].t("Import Presets")+"",u,p,E,h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',m,g,b,I=l[10].t("Export Presets")+"",w,k,T,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',$,V;return{c(){e=d("div"),t=d("div"),s=d("input"),a=A(),i=d("button"),r=d("div"),u=L(c),p=A(),E=d("div"),E.innerHTML=h,m=A(),g=d("button"),b=d("div"),w=L(I),k=A(),T=d("div"),T.innerHTML=D,this.h()},l(O){e=_(O,"DIV",{class:!0});var N=v(e);t=_(N,"DIV",{class:!0});var P=v(t);s=_(P,"INPUT",{id:!0,type:!0,accept:!0}),a=y(P),i=_(P,"BUTTON",{class:!0});var H=v(i);r=_(H,"DIV",{class:!0});var U=v(r);u=M(U,c),U.forEach(f),p=y(H),E=_(H,"DIV",{class:!0,"data-svelte-h":!0}),Bt(E)!=="svelte-1ikvh1y"&&(E.innerHTML=h),H.forEach(f),m=y(P),g=_(P,"BUTTON",{class:!0});var B=v(g);b=_(B,"DIV",{class:!0});var Y=v(b);w=M(Y,I),Y.forEach(f),k=y(B),T=_(B,"DIV",{class:!0,"data-svelte-h":!0}),Bt(T)!=="svelte-1v8dg5r"&&(T.innerHTML=D),B.forEach(f),P.forEach(f),N.forEach(f),this.h()},h(){o(s,"id","models-import-input"),o(s,"type","file"),o(s,"accept",".json"),s.hidden=!0,o(r,"class","self-center mr-2 font-medium line-clamp-1"),o(E,"class","self-center"),o(i,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(b,"class","self-center mr-2 font-medium line-clamp-1"),o(T,"class","self-center"),o(g,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),o(t,"class","flex space-x-1"),o(e,"class","flex justify-end w-full mb-3")},m(O,N){R(O,e,N),n(e,t),n(t,s),l[26](s),n(t,a),n(t,i),n(i,r),n(r,u),n(i,p),n(i,E),n(t,m),n(t,g),n(g,b),n(b,w),n(g,k),n(g,T),$||(V=[re(s,"change",l[27]),re(s,"change",l[28]),re(i,"click",l[29]),re(g,"click",l[30])],$=!0)},p(O,N){N[0]&1024&&c!==(c=O[10].t("Import Presets")+"")&&C(u,c),N[0]&1024&&I!==(I=O[10].t("Export Presets")+"")&&C(w,I)},d(O){O&&f(e),l[26](null),$=!1,bl(V)}}}function h_(l){let e,t,s,a,i,r,c,u,p,E;function h(T){l[17](T)}let m={initHandler:l[14]};l[6]!==void 0&&(m.show=l[6]),e=new yd({props:m}),We.push(()=>Qe(e,"show",h));function g(T){l[18](T)}let b={};l[7]!==void 0&&(b.show=l[7]),a=new s_({props:b}),We.push(()=>Qe(a,"show",g));const I=[r_,a_],w=[];function k(T,D){return T[0]!==null?0:1}return c=k(l),u=w[c]=I[c](l),{c(){pe(e.$$.fragment),s=A(),pe(a.$$.fragment),r=A(),u.c(),p=ul()},l(T){ve(e.$$.fragment,T),s=y(T),ve(a.$$.fragment,T),r=y(T),u.l(T),p=ul()},m(T,D){me(e,T,D),R(T,s,D),me(a,T,D),R(T,r,D),w[c].m(T,D),R(T,p,D),E=!0},p(T,D){const $={};!t&&D[0]&64&&(t=!0,$.show=T[6],Xe(()=>t=!1)),e.$set($);const V={};!i&&D[0]&128&&(i=!0,V.show=T[7],Xe(()=>i=!1)),a.$set(V);let O=c;c=k(T),c===O?w[c].p(T,D):(Et(),W(w[O],1,1,()=>{w[O]=null}),bt(),u=w[c],u?u.p(T,D):(u=w[c]=I[c](T),u.c()),j(u,1),u.m(p.parentNode,p))},i(T){E||(j(e.$$.fragment,T),j(a.$$.fragment,T),j(u),E=!0)},o(T){W(e.$$.fragment,T),W(a.$$.fragment,T),W(u),E=!1},d(T){T&&(f(s),f(r),f(p)),ge(e,T),ge(a,T),w[c].d(T)}}}function p_(l,e,t){let s,a,i,r;Wt(l,rr,Z=>t(8,s=Z)),Wt(l,Ps,Z=>t(9,a=Z)),Wt(l,nr,Z=>t(11,r=Z));const{saveAs:c}=iu,u=Kl("i18n");Wt(l,u,Z=>t(10,i=Z));let p,E,h=null,m=null,g=null,b=[],I=null,w=!1,k=!1,T="";const D=async Z=>{let q=new Blob([JSON.stringify(Z)],{type:"application/json"});c(q,`models-export-${Date.now()}.json`)},$=async()=>{m=await ff(localStorage.token),g=await Es(localStorage.token,null,!0),t(0,h=g.map(Z=>{const q=m.find(te=>te.id===Z.id);return q?{...Z,...q}:{...Z,id:Z.id,name:Z.name,is_active:!0}}))},V=async Z=>{var q;Z.base_model_id=null,m.find(te=>te.id===Z.id)?await cf(localStorage.token,Z.id,Z).catch(ae=>null)&&Fe.success(i.t("Model updated successfully")):await Pn(localStorage.token,Z).catch(ae=>null)&&Fe.success(i.t("Model updated successfully")),Jl.set(await Es(localStorage.token,((q=a==null?void 0:a.features)==null?void 0:q.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),await $()},O=async Z=>{var q;Object.keys(Z).includes("base_model_id")?await df(localStorage.token,Z.id):await Pn(localStorage.token,{id:Z.id,name:Z.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:Z.is_active}).catch(te=>null),Jl.set(await Es(localStorage.token,((q=a==null?void 0:a.features)==null?void 0:q.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))};bs(async()=>{$()});function N(Z){w=Z,t(6,w)}function P(Z){k=Z,t(7,k)}const H=()=>{t(7,k=!0)},U=()=>{t(6,w=!0)};function B(){T=this.value,t(1,T)}const Y=Z=>{t(5,I=Z.id)},S=Z=>{t(5,I=Z.id)};function F(Z,q){l.$$.not_equal(q.is_active,Z)&&(q.is_active=Z,t(4,b),t(0,h),t(1,T))}const G=async Z=>{O(Z)};function K(Z){We[Z?"unshift":"push"](()=>{E=Z,t(3,E)})}function J(){p=this.files,t(2,p)}const Q=()=>{console.log(p);let Z=new FileReader;Z.onload=async q=>{var ae;let te=JSON.parse(q.target.result);console.log(te);for(const de of te)Object.keys(de).includes("base_model_id")?de.base_model_id===null&&V(de):((de==null?void 0:de.info)??!1)&&de.info.base_model_id===null&&V(de.info);await Jl.set(await Es(localStorage.token,((ae=a==null?void 0:a.features)==null?void 0:ae.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null))),$()},Z.readAsText(p[0])},X=()=>{E.click()},ie=async()=>{D(h)},ue=Z=>Z.id===I,le=Z=>{console.log(Z),V(Z),t(5,I=null)},z=()=>{t(5,I=null)};return l.$$.update=()=>{l.$$.dirty[0]&3&&h&&t(4,b=h.filter(Z=>T===""||Z.name.toLowerCase().includes(T.toLowerCase())).sort((Z,q)=>Z.name.localeCompare(q.name)))},[h,T,p,E,b,I,w,k,s,a,i,r,u,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z]}class v_ extends Ml{constructor(e){super(),Rl(this,e,p_,h_,Ll,{},null,[-1,-1])}}function Eo(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){R(t,e,s)},d(t){t&&f(e)}}}function bo(l){let e,t,s;return t=new Ht({props:{content:"Pipelines",$$slots:{default:[m_]},$$scope:{ctx:l}}}),{c(){e=d("div"),pe(t.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);ve(t.$$.fragment,i),i.forEach(f),this.h()},h(){o(e,"class","absolute top-0.5 right-2.5")},m(a,i){R(a,e,i),me(t,e,null),s=!0},i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){W(t.$$.fragment,a),s=!1},d(a){a&&f(e),ge(t)}}}function m_(l){let e,t,s,a;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),a=vl("path"),this.h()},l(i){e=ml(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=ml(r,"path",{d:!0}),v(t).forEach(f),s=ml(r,"path",{d:!0}),v(s).forEach(f),a=ml(r,"path",{d:!0}),v(a).forEach(f),r.forEach(f),this.h()},h(){o(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),o(s,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),o(a,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class","size-4")},m(i,r){R(i,e,r),n(e,t),n(e,s),n(e,a)},p:ft,d(i){i&&f(e)}}}function g_(l){var T;let e,t,s,a,i,r,c,u,p,E,h,m,g,b=!(((T=l[2])==null?void 0:T.enable)??!0)&&Eo(),I=l[5]&&bo(l);function w(D){l[12](D)}let k={inputClassName:" outline-hidden bg-transparent w-full",placeholder:l[7].t("API Key")};return l[1]!==void 0&&(k.value=l[1]),p=new $l({props:k}),We.push(()=>Qe(p,"value",w)),{c(){b&&b.c(),e=A(),t=d("div"),s=d("div"),a=d("input"),c=A(),I&&I.c(),u=A(),pe(p.$$.fragment),this.h()},l(D){b&&b.l(D),e=y(D),t=_(D,"DIV",{class:!0});var $=v(t);s=_($,"DIV",{class:!0});var V=v(s);a=_(V,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),c=y(V),I&&I.l(V),V.forEach(f),u=y($),ve(p.$$.fragment,$),$.forEach(f),this.h()},h(){o(a,"class",i="outline-hidden w-full bg-transparent "+(l[5]?"pr-8":"")),o(a,"placeholder",r=l[7].t("API Base URL")),o(a,"autocomplete","off"),o(s,"class","flex-1 relative"),o(t,"class","flex w-full")},m(D,$){b&&b.m(D,$),R(D,e,$),R(D,t,$),n(t,s),n(s,a),ee(a,l[0]),n(s,c),I&&I.m(s,null),n(t,u),me(p,t,null),h=!0,m||(g=re(a,"input",l[11]),m=!0)},p(D,$){var O;((O=D[2])==null?void 0:O.enable)??!0?b&&(b.d(1),b=null):b||(b=Eo(),b.c(),b.m(e.parentNode,e)),(!h||$&32&&i!==(i="outline-hidden w-full bg-transparent "+(D[5]?"pr-8":"")))&&o(a,"class",i),(!h||$&128&&r!==(r=D[7].t("API Base URL")))&&o(a,"placeholder",r),$&1&&a.value!==D[0]&&ee(a,D[0]),D[5]?I?$&32&&j(I,1):(I=bo(D),I.c(),j(I,1),I.m(s,null)):I&&(Et(),W(I,1,1,()=>{I=null}),bt());const V={};$&128&&(V.placeholder=D[7].t("API Key")),!E&&$&2&&(E=!0,V.value=D[1],Xe(()=>E=!1)),p.$set(V)},i(D){h||(j(I),j(p.$$.fragment,D),h=!0)},o(D){W(I),W(p.$$.fragment,D),h=!1},d(D){D&&(f(e),f(t)),b&&b.d(D),I&&I.d(),ge(p),m=!1,g()}}}function E_(l){let e,t,s,a,i;return t=new qr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[13]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function b_(l){let e,t,s,a,i,r,c,u,p;function E(m){l[10](m)}let h={edit:!0,connection:{url:l[0],key:l[1],config:l[2]},onDelete:l[3],onSubmit:l[9]};return l[6]!==void 0&&(h.show=l[6]),e=new Yr({props:h}),We.push(()=>Qe(e,"show",E)),i=new Ht({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:l[0]}),placement:"top-start",$$slots:{default:[g_]},$$scope:{ctx:l}}}),u=new Ht({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[E_]},$$scope:{ctx:l}}}),{c(){pe(e.$$.fragment),s=A(),a=d("div"),pe(i.$$.fragment),r=A(),c=d("div"),pe(u.$$.fragment),this.h()},l(m){ve(e.$$.fragment,m),s=y(m),a=_(m,"DIV",{class:!0});var g=v(a);ve(i.$$.fragment,g),r=y(g),c=_(g,"DIV",{class:!0});var b=v(c);ve(u.$$.fragment,b),b.forEach(f),g.forEach(f),this.h()},h(){o(c,"class","flex gap-1"),o(a,"class","flex w-full gap-2 items-center")},m(m,g){me(e,m,g),R(m,s,g),R(m,a,g),me(i,a,null),n(a,r),n(a,c),me(u,c,null),p=!0},p(m,[g]){const b={};g&7&&(b.connection={url:m[0],key:m[1],config:m[2]}),g&8&&(b.onDelete=m[3]),g&23&&(b.onSubmit=m[9]),!t&&g&64&&(t=!0,b.show=m[6],Xe(()=>t=!1)),e.$set(b);const I={};g&129&&(I.content=m[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:m[0]})),g&16551&&(I.$$scope={dirty:g,ctx:m}),i.$set(I);const w={};g&128&&(w.content=m[7].t("Configure")),g&16448&&(w.$$scope={dirty:g,ctx:m}),u.$set(w)},i(m){p||(j(e.$$.fragment,m),j(i.$$.fragment,m),j(u.$$.fragment,m),p=!0)},o(m){W(e.$$.fragment,m),W(i.$$.fragment,m),W(u.$$.fragment,m),p=!1},d(m){m&&(f(s),f(a)),ge(e,m),ge(i),ge(u)}}}function I_(l,e,t){let s;const a=Kl("i18n");Wt(l,a,k=>t(7,s=k));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{pipeline:c=!1}=e,{url:u=""}=e,{key:p=""}=e,{config:E={}}=e,h=!1;const m=k=>{t(0,u=k.url),t(1,p=k.key),t(2,E=k.config),r(k)};function g(k){h=k,t(6,h)}function b(){u=this.value,t(0,u)}function I(k){p=k,t(1,p)}const w=()=>{t(6,h=!0)};return l.$$set=k=>{"onDelete"in k&&t(3,i=k.onDelete),"onSubmit"in k&&t(4,r=k.onSubmit),"pipeline"in k&&t(5,c=k.pipeline),"url"in k&&t(0,u=k.url),"key"in k&&t(1,p=k.key),"config"in k&&t(2,E=k.config)},[u,p,E,i,r,c,h,s,a,m,g,b,I,w]}class w_ extends Ml{constructor(e){super(),Rl(this,e,I_,b_,Ll,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function k_(l){let e,t,s,a,i=l[2].t("Manage Ollama")+"",r,c,u,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',E,h,m,g,b,I;return m=new pu({props:{urlIdx:l[1]}}),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("button"),u.innerHTML=p,E=A(),h=d("div"),pe(m.$$.fragment),this.h()},l(w){e=_(w,"DIV",{});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);s=_(T,"DIV",{class:!0});var D=v(s);a=_(D,"DIV",{class:!0});var $=v(a);r=M($,i),$.forEach(f),D.forEach(f),c=y(T),u=_(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(u)!=="svelte-745w2y"&&(u.innerHTML=p),T.forEach(f),E=y(k),h=_(k,"DIV",{class:!0});var V=v(h);ve(m.$$.fragment,V),V.forEach(f),k.forEach(f),this.h()},h(){o(a,"class","shrink-0"),o(s,"class","flex w-full justify-between items-center text-lg font-medium self-center font-primary"),o(u,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(h,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(w,k){R(w,e,k),n(e,t),n(t,s),n(s,a),n(a,r),n(t,c),n(t,u),n(e,E),n(e,h),me(m,h,null),g=!0,b||(I=re(u,"click",l[4]),b=!0)},p(w,k){(!g||k&4)&&i!==(i=w[2].t("Manage Ollama")+"")&&C(r,i);const T={};k&2&&(T.urlIdx=w[1]),m.$set(T)},i(w){g||(j(m.$$.fragment,w),g=!0)},o(w){W(m.$$.fragment,w),g=!1},d(w){w&&f(e),ge(m),b=!1,I()}}}function T_(l){let e,t,s;function a(r){l[5](r)}let i={size:"sm",$$slots:{default:[k_]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new Zr({props:i}),We.push(()=>Qe(e,"show",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,[c]){const u={};c&71&&(u.$$scope={dirty:c,ctx:r}),!t&&c&1&&(t=!0,u.show=r[0],Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function D_(l,e,t){let s;const a=Kl("i18n");Wt(l,a,p=>t(2,s=p));let{show:i=!1}=e,{urlIdx:r=null}=e;const c=()=>{t(0,i=!1)};function u(p){i=p,t(0,i)}return l.$$set=p=>{"show"in p&&t(0,i=p.show),"urlIdx"in p&&t(1,r=p.urlIdx)},[i,r,s,a,c,u]}class A_ extends Ml{constructor(e){super(),Rl(this,e,D_,T_,Ll,{show:0,urlIdx:1})}}function Io(l){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),v(e).forEach(f),this.h()},h(){o(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,s){R(t,e,s)},d(t){t&&f(e)}}}function y_(l){var c;let e,t,s,a,i,r=!(((c=l[1])==null?void 0:c.enable)??!0)&&Io();return{c(){r&&r.c(),e=A(),t=d("input"),this.h()},l(u){r&&r.l(u),e=y(u),t=_(u,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){o(t,"class","w-full text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[7].t("Enter URL (e.g. http://localhost:11434)"))},m(u,p){r&&r.m(u,p),R(u,e,p),R(u,t,p),ee(t,l[0]),a||(i=re(t,"input",l[12]),a=!0)},p(u,p){var E;((E=u[1])==null?void 0:E.enable)??!0?r&&(r.d(1),r=null):r||(r=Io(),r.c(),r.m(e.parentNode,e)),p&128&&s!==(s=u[7].t("Enter URL (e.g. http://localhost:11434)"))&&o(t,"placeholder",s),p&1&&t.value!==u[0]&&ee(t,u[0])},d(u){u&&(f(e),f(t)),r&&r.d(u),a=!1,i()}}}function $_(l){let e,t,s,a,i;return t=new cu({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[13]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function N_(l){let e,t,s,a,i;return t=new qr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[14]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function V_(l){var D;let e,t,s,a,i,r,c,u,p,E,h,m,g,b;function I($){l[10]($)}let w={ollama:!0,edit:!0,connection:{url:l[0],key:((D=l[1])==null?void 0:D.key)??"",config:l[1]},onDelete:l[2],onSubmit:l[9]};l[6]!==void 0&&(w.show=l[6]),e=new Yr({props:w}),We.push(()=>Qe(e,"show",I));function k($){l[11]($)}let T={urlIdx:l[4]};return l[5]!==void 0&&(T.show=l[5]),a=new A_({props:T}),We.push(()=>Qe(a,"show",k)),u=new Ht({props:{className:"w-full relative",content:l[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:l[0]}),placement:"top-start",$$slots:{default:[y_]},$$scope:{ctx:l}}}),h=new Ht({props:{content:l[7].t("Manage"),className:"self-start",$$slots:{default:[$_]},$$scope:{ctx:l}}}),g=new Ht({props:{content:l[7].t("Configure"),className:"self-start",$$slots:{default:[N_]},$$scope:{ctx:l}}}),{c(){pe(e.$$.fragment),s=A(),pe(a.$$.fragment),r=A(),c=d("div"),pe(u.$$.fragment),p=A(),E=d("div"),pe(h.$$.fragment),m=A(),pe(g.$$.fragment),this.h()},l($){ve(e.$$.fragment,$),s=y($),ve(a.$$.fragment,$),r=y($),c=_($,"DIV",{class:!0});var V=v(c);ve(u.$$.fragment,V),p=y(V),E=_(V,"DIV",{class:!0});var O=v(E);ve(h.$$.fragment,O),m=y(O),ve(g.$$.fragment,O),O.forEach(f),V.forEach(f),this.h()},h(){o(E,"class","flex gap-1"),o(c,"class","flex gap-1.5")},m($,V){me(e,$,V),R($,s,V),me(a,$,V),R($,r,V),R($,c,V),me(u,c,null),n(c,p),n(c,E),me(h,E,null),n(E,m),me(g,E,null),b=!0},p($,[V]){var B;const O={};V&3&&(O.connection={url:$[0],key:((B=$[1])==null?void 0:B.key)??"",config:$[1]}),V&4&&(O.onDelete=$[2]),V&11&&(O.onSubmit=$[9]),!t&&V&64&&(t=!0,O.show=$[6],Xe(()=>t=!1)),e.$set(O);const N={};V&16&&(N.urlIdx=$[4]),!i&&V&32&&(i=!0,N.show=$[5],Xe(()=>i=!1)),a.$set(N);const P={};V&129&&(P.content=$[7].t('WebUI will make requests to "{{url}}/api/chat"',{url:$[0]})),V&32899&&(P.$$scope={dirty:V,ctx:$}),u.$set(P);const H={};V&128&&(H.content=$[7].t("Manage")),V&32800&&(H.$$scope={dirty:V,ctx:$}),h.$set(H);const U={};V&128&&(U.content=$[7].t("Configure")),V&32832&&(U.$$scope={dirty:V,ctx:$}),g.$set(U)},i($){b||(j(e.$$.fragment,$),j(a.$$.fragment,$),j(u.$$.fragment,$),j(h.$$.fragment,$),j(g.$$.fragment,$),b=!0)},o($){W(e.$$.fragment,$),W(a.$$.fragment,$),W(u.$$.fragment,$),W(h.$$.fragment,$),W(g.$$.fragment,$),b=!1},d($){$&&(f(s),f(r),f(c)),ge(e,$),ge(a,$),ge(u),ge(h),ge(g)}}}function O_(l,e,t){let s;const a=Kl("i18n");Wt(l,a,T=>t(7,s=T));let{onDelete:i=()=>{}}=e,{onSubmit:r=()=>{}}=e,{url:c=""}=e,{idx:u=0}=e,{config:p={}}=e,E=!1,h=!1;const m=T=>{t(0,c=T.url),t(1,p={...T.config,key:T.key}),r(T)};function g(T){h=T,t(6,h)}function b(T){E=T,t(5,E)}function I(){c=this.value,t(0,c)}const w=()=>{t(5,E=!0)},k=()=>{t(6,h=!0)};return l.$$set=T=>{"onDelete"in T&&t(2,i=T.onDelete),"onSubmit"in T&&t(3,r=T.onSubmit),"url"in T&&t(0,c=T.url),"idx"in T&&t(4,u=T.idx),"config"in T&&t(1,p=T.config)},[c,p,i,r,u,E,h,s,a,m,g,b,I,w,k]}class P_ extends Ml{constructor(e){super(),Rl(this,e,O_,V_,Ll,{onDelete:2,onSubmit:3,url:0,idx:4,config:1})}}function wo(l,e,t){const s=l.slice();return s[43]=e[t],s[44]=e,s[45]=t,s}function ko(l,e,t){const s=l.slice();return s[43]=e[t],s[46]=e,s[45]=t,s}function S_(l){let e,t,s,a;return s=new Oa({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),pe(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var c=v(t);ve(s.$$.fragment,c),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){R(i,e,r),n(e,t),me(s,t,null),a=!0},p:ft,i(i){a||(j(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&f(e),ge(s)}}}function L_(l){let e,t,s,a,i=l[11].t("OpenAI API")+"",r,c,u,p,E,h,m,g,b,I,w,k,T,D=l[11].t("Ollama API")+"",$,V,O,N,P,H,U,B,Y,S,F,G,K=l[11].t("Direct Connections")+"",J,Q,X,ie,ue,le,z,Z,q,te=l[11].t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints.")+"",ae,de;function ne(be){l[21](be)}let oe={};l[5]!==void 0&&(oe.state=l[5]),E=new yl({props:oe}),We.push(()=>Qe(E,"state",ne)),E.$on("change",l[22]);let fe=l[5]&&To(l);function ke(be){l[29](be)}let Ee={};l[6]!==void 0&&(Ee.state=l[6]),N=new yl({props:Ee}),We.push(()=>Qe(N,"state",ke)),N.$on("change",l[30]);let x=l[6]&&Ao(l);function _e(be){l[36](be)}let Te={};return l[7].ENABLE_DIRECT_CONNECTIONS!==void 0&&(Te.state=l[7].ENABLE_DIRECT_CONNECTIONS),ue=new yl({props:Te}),We.push(()=>Qe(ue,"state",_e)),ue.$on("change",l[37]),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("div"),p=d("div"),pe(E.$$.fragment),m=A(),fe&&fe.c(),g=A(),b=d("hr"),I=A(),w=d("div"),k=d("div"),T=d("div"),$=L(D),V=A(),O=d("div"),pe(N.$$.fragment),H=A(),x&&x.c(),U=A(),B=d("hr"),Y=A(),S=d("div"),F=d("div"),G=d("div"),J=L(K),Q=A(),X=d("div"),ie=d("div"),pe(ue.$$.fragment),z=A(),Z=d("div"),q=d("div"),ae=L(te),this.h()},l(be){e=_(be,"DIV",{class:!0});var Ie=v(e);t=_(Ie,"DIV",{class:!0});var Me=v(t);s=_(Me,"DIV",{class:!0});var ce=v(s);a=_(ce,"DIV",{class:!0});var De=v(a);r=M(De,i),De.forEach(f),c=y(ce),u=_(ce,"DIV",{class:!0});var Ce=v(u);p=_(Ce,"DIV",{class:!0});var Ue=v(p);ve(E.$$.fragment,Ue),Ue.forEach(f),Ce.forEach(f),ce.forEach(f),m=y(Me),fe&&fe.l(Me),Me.forEach(f),Ie.forEach(f),g=y(be),b=_(be,"HR",{class:!0}),I=y(be),w=_(be,"DIV",{class:!0});var se=v(w);k=_(se,"DIV",{class:!0});var ye=v(k);T=_(ye,"DIV",{class:!0});var Be=v(T);$=M(Be,D),Be.forEach(f),V=y(ye),O=_(ye,"DIV",{class:!0});var $e=v(O);ve(N.$$.fragment,$e),$e.forEach(f),ye.forEach(f),H=y(se),x&&x.l(se),se.forEach(f),U=y(be),B=_(be,"HR",{class:!0}),Y=y(be),S=_(be,"DIV",{class:!0});var Le=v(S);F=_(Le,"DIV",{class:!0});var Ge=v(F);G=_(Ge,"DIV",{class:!0});var qe=v(G);J=M(qe,K),qe.forEach(f),Q=y(Ge),X=_(Ge,"DIV",{class:!0});var Ke=v(X);ie=_(Ke,"DIV",{class:!0});var je=v(ie);ve(ue.$$.fragment,je),je.forEach(f),Ke.forEach(f),Ge.forEach(f),z=y(Le),Z=_(Le,"DIV",{class:!0});var Ae=v(Z);q=_(Ae,"DIV",{class:!0});var Ve=v(q);ae=M(Ve,te),Ve.forEach(f),Ae.forEach(f),Le.forEach(f),this.h()},h(){o(a,"class","font-medium"),o(p,"class",""),o(u,"class","flex items-center"),o(s,"class","flex justify-between items-center text-sm"),o(t,"class","mt-2 space-y-2 pr-1.5"),o(e,"class","my-2"),o(b,"class","border-gray-100 dark:border-gray-850"),o(T,"class","font-medium"),o(O,"class","mt-1"),o(k,"class","flex justify-between items-center text-sm mb-2"),o(w,"class","pr-1.5 my-2"),o(B,"class","border-gray-100 dark:border-gray-850"),o(G,"class","font-medium"),o(ie,"class",""),o(X,"class","flex items-center"),o(F,"class","flex justify-between items-center text-sm"),o(q,"class","text-xs text-gray-500"),o(Z,"class","mt-1.5"),o(S,"class","pr-1.5 my-2")},m(be,Ie){R(be,e,Ie),n(e,t),n(t,s),n(s,a),n(a,r),n(s,c),n(s,u),n(u,p),me(E,p,null),n(t,m),fe&&fe.m(t,null),R(be,g,Ie),R(be,b,Ie),R(be,I,Ie),R(be,w,Ie),n(w,k),n(k,T),n(T,$),n(k,V),n(k,O),me(N,O,null),n(w,H),x&&x.m(w,null),R(be,U,Ie),R(be,B,Ie),R(be,Y,Ie),R(be,S,Ie),n(S,F),n(F,G),n(G,J),n(F,Q),n(F,X),n(X,ie),me(ue,ie,null),n(S,z),n(S,Z),n(Z,q),n(q,ae),de=!0},p(be,Ie){(!de||Ie[0]&2048)&&i!==(i=be[11].t("OpenAI API")+"")&&C(r,i);const Me={};!h&&Ie[0]&32&&(h=!0,Me.state=be[5],Xe(()=>h=!1)),E.$set(Me),be[5]?fe?(fe.p(be,Ie),Ie[0]&32&&j(fe,1)):(fe=To(be),fe.c(),j(fe,1),fe.m(t,null)):fe&&(Et(),W(fe,1,1,()=>{fe=null}),bt()),(!de||Ie[0]&2048)&&D!==(D=be[11].t("Ollama API")+"")&&C($,D);const ce={};!P&&Ie[0]&64&&(P=!0,ce.state=be[6],Xe(()=>P=!1)),N.$set(ce),be[6]?x?(x.p(be,Ie),Ie[0]&64&&j(x,1)):(x=Ao(be),x.c(),j(x,1),x.m(w,null)):x&&(Et(),W(x,1,1,()=>{x=null}),bt()),(!de||Ie[0]&2048)&&K!==(K=be[11].t("Direct Connections")+"")&&C(J,K);const De={};!le&&Ie[0]&128&&(le=!0,De.state=be[7].ENABLE_DIRECT_CONNECTIONS,Xe(()=>le=!1)),ue.$set(De),(!de||Ie[0]&2048)&&te!==(te=be[11].t("Direct Connections allow users to connect to their own OpenAI compatible API endpoints.")+"")&&C(ae,te)},i(be){de||(j(E.$$.fragment,be),j(fe),j(N.$$.fragment,be),j(x),j(ue.$$.fragment,be),de=!0)},o(be){W(E.$$.fragment,be),W(fe),W(N.$$.fragment,be),W(x),W(ue.$$.fragment,be),de=!1},d(be){be&&(f(e),f(g),f(b),f(I),f(w),f(U),f(B),f(Y),f(S)),ge(E),fe&&fe.d(),ge(N),x&&x.d(),ge(ue)}}}function To(l){let e,t,s,a,i,r=l[11].t("Manage OpenAI API Connections")+"",c,u,p,E,h,m;p=new Ht({props:{content:l[11].t("Add Connection"),$$slots:{default:[M_]},$$scope:{ctx:l}}});let g=mt(l[3]),b=[];for(let w=0;w<g.length;w+=1)b[w]=Do(ko(l,g,w));const I=w=>W(b[w],1,1,()=>{b[w]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),i=d("div"),c=L(r),u=A(),pe(p.$$.fragment),E=A(),h=d("div");for(let w=0;w<b.length;w+=1)b[w].c();this.h()},l(w){e=_(w,"HR",{class:!0}),t=y(w),s=_(w,"DIV",{class:!0});var k=v(s);a=_(k,"DIV",{class:!0});var T=v(a);i=_(T,"DIV",{class:!0});var D=v(i);c=M(D,r),D.forEach(f),u=y(T),ve(p.$$.fragment,T),T.forEach(f),E=y(k),h=_(k,"DIV",{class:!0});var $=v(h);for(let V=0;V<b.length;V+=1)b[V].l($);$.forEach(f),k.forEach(f),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(h,"class","flex flex-col gap-1.5 mt-1.5"),o(s,"class","")},m(w,k){R(w,e,k),R(w,t,k),R(w,s,k),n(s,a),n(a,i),n(i,c),n(a,u),me(p,a,null),n(s,E),n(s,h);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(h,null);m=!0},p(w,k){(!m||k[0]&2048)&&r!==(r=w[11].t("Manage OpenAI API Connections")+"")&&C(c,r);const T={};if(k[0]&2048&&(T.content=w[11].t("Add Connection")),k[0]&512|k[1]&65536&&(T.$$scope={dirty:k,ctx:w}),p.$set(T),k[0]&8476){g=mt(w[3]);let D;for(D=0;D<g.length;D+=1){const $=ko(w,g,D);b[D]?(b[D].p($,k),j(b[D],1)):(b[D]=Do($),b[D].c(),j(b[D],1),b[D].m(h,null))}for(Et(),D=g.length;D<b.length;D+=1)I(D);bt()}},i(w){if(!m){j(p.$$.fragment,w);for(let k=0;k<g.length;k+=1)j(b[k]);m=!0}},o(w){W(p.$$.fragment,w),b=b.filter(Boolean);for(let k=0;k<b.length;k+=1)W(b[k]);m=!1},d(w){w&&(f(e),f(t),f(s)),ge(p),Il(b,w)}}}function M_(l){let e,t,s,a,i;return t=new Jr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[23]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function Do(l){let e,t,s,a,i;function r(){return l[25](l[45])}function c(h){l[26](h,l[43],l[46],l[45])}function u(h){l[27](h,l[45])}function p(h){l[28](h,l[45])}let E={pipeline:!!l[8][l[43]],onSubmit:l[24],onDelete:r};return l[43]!==void 0&&(E.url=l[43]),l[2][l[45]]!==void 0&&(E.key=l[2][l[45]]),l[4][l[45]]!==void 0&&(E.config=l[4][l[45]]),e=new w_({props:E}),We.push(()=>Qe(e,"url",c)),We.push(()=>Qe(e,"key",u)),We.push(()=>Qe(e,"config",p)),{c(){pe(e.$$.fragment)},l(h){ve(e.$$.fragment,h)},m(h,m){me(e,h,m),i=!0},p(h,m){l=h;const g={};m[0]&264&&(g.pipeline=!!l[8][l[43]]),m[0]&28&&(g.onDelete=r),!t&&m[0]&8&&(t=!0,g.url=l[43],Xe(()=>t=!1)),!s&&m[0]&4&&(s=!0,g.key=l[2][l[45]],Xe(()=>s=!1)),!a&&m[0]&16&&(a=!0,g.config=l[4][l[45]],Xe(()=>a=!1)),e.$set(g)},i(h){i||(j(e.$$.fragment,h),i=!0)},o(h){W(e.$$.fragment,h),i=!1},d(h){ge(e,h)}}}function Ao(l){let e,t,s,a,i,r=l[11].t("Manage Ollama API Connections")+"",c,u,p,E,h,m,g,b,I=l[11].t("Trouble accessing Ollama?")+"",w,k,T,D=l[11].t("Click here for help.")+"",$,V;p=new Ht({props:{content:l[11].t("Add Connection"),$$slots:{default:[R_]},$$scope:{ctx:l}}});let O=mt(l[0]),N=[];for(let H=0;H<O.length;H+=1)N[H]=yo(wo(l,O,H));const P=H=>W(N[H],1,1,()=>{N[H]=null});return{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),i=d("div"),c=L(r),u=A(),pe(p.$$.fragment),E=A(),h=d("div"),m=d("div");for(let H=0;H<N.length;H+=1)N[H].c();g=A(),b=d("div"),w=L(I),k=A(),T=d("a"),$=L(D),this.h()},l(H){e=_(H,"HR",{class:!0}),t=y(H),s=_(H,"DIV",{class:!0});var U=v(s);a=_(U,"DIV",{class:!0});var B=v(a);i=_(B,"DIV",{class:!0});var Y=v(i);c=M(Y,r),Y.forEach(f),u=y(B),ve(p.$$.fragment,B),B.forEach(f),E=y(U),h=_(U,"DIV",{class:!0});var S=v(h);m=_(S,"DIV",{class:!0});var F=v(m);for(let J=0;J<N.length;J+=1)N[J].l(F);F.forEach(f),S.forEach(f),g=y(U),b=_(U,"DIV",{class:!0});var G=v(b);w=M(G,I),k=y(G),T=_(G,"A",{class:!0,href:!0,target:!0});var K=v(T);$=M(K,D),K.forEach(f),G.forEach(f),U.forEach(f),this.h()},h(){o(e,"class","border-gray-100 dark:border-gray-850 my-2"),o(i,"class","font-medium"),o(a,"class","flex justify-between items-center"),o(m,"class","flex-1 flex flex-col gap-1.5 mt-1.5"),o(h,"class","flex w-full gap-1.5"),o(T,"class","text-gray-300 font-medium underline"),o(T,"href","https://github.com/open-webui/open-webui#troubleshooting"),o(T,"target","_blank"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),o(s,"class","")},m(H,U){R(H,e,U),R(H,t,U),R(H,s,U),n(s,a),n(a,i),n(i,c),n(a,u),me(p,a,null),n(s,E),n(s,h),n(h,m);for(let B=0;B<N.length;B+=1)N[B]&&N[B].m(m,null);n(s,g),n(s,b),n(b,w),n(b,k),n(b,T),n(T,$),V=!0},p(H,U){(!V||U[0]&2048)&&r!==(r=H[11].t("Manage Ollama API Connections")+"")&&C(c,r);const B={};if(U[0]&2048&&(B.content=H[11].t("Add Connection")),U[0]&1024|U[1]&65536&&(B.$$scope={dirty:U,ctx:H}),p.$set(B),U[0]&16387){O=mt(H[0]);let Y;for(Y=0;Y<O.length;Y+=1){const S=wo(H,O,Y);N[Y]?(N[Y].p(S,U),j(N[Y],1)):(N[Y]=yo(S),N[Y].c(),j(N[Y],1),N[Y].m(m,null))}for(Et(),Y=O.length;Y<N.length;Y+=1)P(Y);bt()}(!V||U[0]&2048)&&I!==(I=H[11].t("Trouble accessing Ollama?")+"")&&C(w,I),(!V||U[0]&2048)&&D!==(D=H[11].t("Click here for help.")+"")&&C($,D)},i(H){if(!V){j(p.$$.fragment,H);for(let U=0;U<O.length;U+=1)j(N[U]);V=!0}},o(H){W(p.$$.fragment,H),N=N.filter(Boolean);for(let U=0;U<N.length;U+=1)W(N[U]);V=!1},d(H){H&&(f(e),f(t),f(s)),ge(p),Il(N,H)}}}function R_(l){let e,t,s,a,i;return t=new Jr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[31]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function yo(l){let e,t,s,a;function i(){return l[33](l[45])}function r(p){l[34](p,l[43],l[44],l[45])}function c(p){l[35](p,l[45])}let u={idx:l[45],onSubmit:l[32],onDelete:i};return l[43]!==void 0&&(u.url=l[43]),l[1][l[45]]!==void 0&&(u.config=l[1][l[45]]),e=new P_({props:u}),We.push(()=>Qe(e,"url",r)),We.push(()=>Qe(e,"config",c)),{c(){pe(e.$$.fragment)},l(p){ve(e.$$.fragment,p)},m(p,E){me(e,p,E),a=!0},p(p,E){l=p;const h={};E[0]&3&&(h.onDelete=i),!t&&E[0]&1&&(t=!0,h.url=l[43],Xe(()=>t=!1)),!s&&E[0]&2&&(s=!0,h.config=l[1][l[45]],Xe(()=>s=!1)),e.$set(h)},i(p){a||(j(e.$$.fragment,p),a=!0)},o(p){W(e.$$.fragment,p),a=!1},d(p){ge(e,p)}}}function C_(l){let e,t,s,a,i,r,c,u,p,E,h,m,g,b=l[11].t("Save")+"",I,w,k,T;function D(U){l[19](U)}let $={onSubmit:l[16]};l[9]!==void 0&&($.show=l[9]),e=new Yr({props:$}),We.push(()=>Qe(e,"show",D));function V(U){l[20](U)}let O={ollama:!0,onSubmit:l[17]};l[10]!==void 0&&(O.show=l[10]),a=new Yr({props:O}),We.push(()=>Qe(a,"show",V));const N=[L_,S_],P=[];function H(U,B){return U[5]!==null&&U[6]!==null&&U[7]!==null?0:1}return p=H(l),E=P[p]=N[p](l),{c(){pe(e.$$.fragment),s=A(),pe(a.$$.fragment),r=A(),c=d("form"),u=d("div"),E.c(),h=A(),m=d("div"),g=d("button"),I=L(b),this.h()},l(U){ve(e.$$.fragment,U),s=y(U),ve(a.$$.fragment,U),r=y(U),c=_(U,"FORM",{class:!0});var B=v(c);u=_(B,"DIV",{class:!0});var Y=v(u);E.l(Y),Y.forEach(f),h=y(B),m=_(B,"DIV",{class:!0});var S=v(m);g=_(S,"BUTTON",{class:!0,type:!0});var F=v(g);I=M(F,b),F.forEach(f),S.forEach(f),B.forEach(f),this.h()},h(){o(u,"class","overflow-y-scroll scrollbar-hidden h-full"),o(g,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(g,"type","submit"),o(m,"class","flex justify-end pt-3 text-sm font-medium"),o(c,"class","flex flex-col h-full justify-between text-sm")},m(U,B){me(e,U,B),R(U,s,B),me(a,U,B),R(U,r,B),R(U,c,B),n(c,u),P[p].m(u,null),n(c,h),n(c,m),n(m,g),n(g,I),w=!0,k||(T=re(c,"submit",Hs(l[18])),k=!0)},p(U,B){const Y={};!t&&B[0]&512&&(t=!0,Y.show=U[9],Xe(()=>t=!1)),e.$set(Y);const S={};!i&&B[0]&1024&&(i=!0,S.show=U[10],Xe(()=>i=!1)),a.$set(S);let F=p;p=H(U),p===F?P[p].p(U,B):(Et(),W(P[F],1,1,()=>{P[F]=null}),bt(),E=P[p],E?E.p(U,B):(E=P[p]=N[p](U),E.c()),j(E,1),E.m(u,null)),(!w||B[0]&2048)&&b!==(b=U[11].t("Save")+"")&&C(I,b)},i(U){w||(j(e.$$.fragment,U),j(a.$$.fragment,U),j(E),w=!0)},o(U){W(e.$$.fragment,U),W(a.$$.fragment,U),W(E),w=!1},d(U){U&&(f(s),f(r),f(c)),ge(e,U),ge(a,U),P[p].d(),k=!1,T()}}}function U_(l,e,t){let s,a,i,r;Wt(l,nr,oe=>t(38,s=oe)),Wt(l,rr,oe=>t(39,i=oe)),Wt(l,Ps,oe=>t(40,r=oe));const c=Ea(),u=Kl("i18n");Wt(l,u,oe=>t(11,a=oe));const p=async()=>{var fe;return await Es(localStorage.token,((fe=r==null?void 0:r.features)==null?void 0:fe.enable_direct_connections)&&((i==null?void 0:i.directConnections)??null))};let E=[""],h={},m=[""],g=[""],b={},I=null,w=null,k=null,T={},D=!1,$=!1;const V=async()=>{if(I!==null){if(t(3,g=g.map(fe=>fe.replace(/\/$/,""))),m.length!==g.length&&(m.length>g.length&&t(2,m=m.slice(0,g.length)),m.length<g.length)){const fe=g.length-m.length;for(let ke=0;ke<fe;ke++)m.push("")}await kf(localStorage.token,{ENABLE_OPENAI_API:I,OPENAI_API_BASE_URLS:g,OPENAI_API_KEYS:m,OPENAI_API_CONFIGS:b}).catch(fe=>{Fe.error(`${fe}`)})&&(Fe.success(a.t("OpenAI API settings updated")),await Jl.set(await p()))}},O=async()=>{w!==null&&(t(0,E=E.map(fe=>fe.replace(/\/$/,""))),await bf(localStorage.token,{ENABLE_OLLAMA_API:w,OLLAMA_BASE_URLS:E,OLLAMA_API_CONFIGS:h}).catch(fe=>{Fe.error(`${fe}`)})&&(Fe.success(a.t("Ollama API settings updated")),await Jl.set(await p())))},N=async()=>{await Ku(localStorage.token,k).catch(fe=>{Fe.error(`${fe}`)})&&(Fe.success(a.t("Direct Connections settings updated")),await Jl.set(await p()))},P=async oe=>{t(3,g=[...g,oe.url]),t(2,m=[...m,oe.key]),t(4,b[g.length-1]=oe.config,b),await V()},H=async oe=>{t(0,E=[...E,oe.url]),t(1,h[E.length-1]={...oe.config,key:oe.key},h),await O()};bs(async()=>{if(s.role==="admin"){let oe={},fe={};if(await Promise.all([(async()=>{oe=await du(localStorage.token)})(),(async()=>{fe=await If(localStorage.token)})(),(async()=>{t(7,k=await ju(localStorage.token))})()]),t(5,I=fe.ENABLE_OPENAI_API),t(6,w=oe.ENABLE_OLLAMA_API),t(3,g=fe.OPENAI_API_BASE_URLS),t(2,m=fe.OPENAI_API_KEYS),t(4,b=fe.OPENAI_API_CONFIGS),t(0,E=oe.OLLAMA_BASE_URLS),t(1,h=oe.OLLAMA_API_CONFIGS),I){for(const[ke,Ee]of g.entries())b[ke]||t(4,b[ke]=b[Ee]||{},b);g.forEach(async(ke,Ee)=>{var _e;if(t(4,b[Ee]=b[Ee]||{},b),!(((_e=b[Ee])==null?void 0:_e.enable)??!0))return;(await wf(localStorage.token,Ee)).pipelines&&t(8,T[ke]=!0,T)})}if(w)for(const[ke,Ee]of E.entries())h[ke]||t(1,h[ke]=h[Ee]||{},h)}});const U=async()=>{V(),O(),N(),c("save")};function B(oe){D=oe,t(9,D)}function Y(oe){$=oe,t(10,$)}function S(oe){I=oe,t(5,I)}const F=async()=>{V()},G=()=>{t(9,D=!0)},K=()=>{V()},J=oe=>{t(3,g=g.filter((ke,Ee)=>oe!==Ee)),t(2,m=m.filter((ke,Ee)=>oe!==Ee));let fe={};g.forEach((ke,Ee)=>{fe[Ee]=b[Ee<oe?Ee:Ee+1]}),t(4,b=fe)};function Q(oe,fe,ke,Ee){ke[Ee]=oe,t(3,g)}function X(oe,fe){l.$$.not_equal(m[fe],oe)&&(m[fe]=oe,t(2,m))}function ie(oe,fe){l.$$.not_equal(b[fe],oe)&&(b[fe]=oe,t(4,b))}function ue(oe){w=oe,t(6,w)}const le=async()=>{O()},z=()=>{t(10,$=!0)},Z=()=>{O()},q=oe=>{t(0,E=E.filter((ke,Ee)=>oe!==Ee));let fe={};E.forEach((ke,Ee)=>{fe[Ee]=h[Ee<oe?Ee:Ee+1]}),t(1,h=fe)};function te(oe,fe,ke,Ee){ke[Ee]=oe,t(0,E)}function ae(oe,fe){l.$$.not_equal(h[fe],oe)&&(h[fe]=oe,t(1,h))}function de(oe){l.$$.not_equal(k.ENABLE_DIRECT_CONNECTIONS,oe)&&(k.ENABLE_DIRECT_CONNECTIONS=oe,t(7,k))}return[E,h,m,g,b,I,w,k,T,D,$,a,u,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z,Z,q,te,ae,de,async()=>{N()}]}class B_ extends Ml{constructor(e){super(),Rl(this,e,U_,C_,Ll,{},null,[-1,-1])}}function H_(l){let e,t,s,a,i,r,c,u,p;function E(m){l[39](m)}let h={placeholder:l[24].t("API Key"),required:!1};return l[22]!==void 0&&(h.value=l[22]),i=new $l({props:h}),We.push(()=>Qe(i,"value",E)),{c(){e=d("div"),t=d("input"),a=A(),pe(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=y(g),ve(i.$$.fragment,g),g.forEach(f),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[24].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){R(m,e,g),n(e,t),ee(t,l[21]),n(e,a),me(i,e,null),c=!0,u||(p=re(t,"input",l[38]),u=!0)},p(m,g){(!c||g[0]&16777216&&s!==(s=m[24].t("API Base URL")))&&o(t,"placeholder",s),g[0]&2097152&&t.value!==m[21]&&ee(t,m[21]);const b={};g[0]&16777216&&(b.placeholder=m[24].t("API Key")),!r&&g[0]&4194304&&(r=!0,b.value=m[22],Xe(()=>r=!1)),i.$set(b)},i(m){c||(j(i.$$.fragment,m),c=!0)},o(m){W(i.$$.fragment,m),c=!1},d(m){m&&f(e),ge(i),u=!1,p()}}}function G_(l){let e,t,s,a,i,r,c,u,p;function E(m){l[37](m)}let h={placeholder:l[24].t("API Key")};return l[20]!==void 0&&(h.value=l[20]),i=new $l({props:h}),We.push(()=>Qe(i,"value",E)),{c(){e=d("div"),t=d("input"),a=A(),pe(i.$$.fragment),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"INPUT",{class:!0,placeholder:!0}),a=y(g),ve(i.$$.fragment,g),g.forEach(f),this.h()},h(){o(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),o(t,"placeholder",s=l[24].t("API Base URL")),t.required=!0,o(e,"class","my-0.5 flex gap-2 pr-2")},m(m,g){R(m,e,g),n(e,t),ee(t,l[19]),n(e,a),me(i,e,null),c=!0,u||(p=re(t,"input",l[36]),u=!0)},p(m,g){(!c||g[0]&16777216&&s!==(s=m[24].t("API Base URL")))&&o(t,"placeholder",s),g[0]&524288&&t.value!==m[19]&&ee(t,m[19]);const b={};g[0]&16777216&&(b.placeholder=m[24].t("API Key")),!r&&g[0]&1048576&&(r=!0,b.value=m[20],Xe(()=>r=!1)),i.$set(b)},i(m){c||(j(i.$$.fragment,m),c=!0)},o(m){W(i.$$.fragment,m),c=!1},d(m){m&&f(e),ge(i),u=!1,p()}}}function $o(l){let e,t,s=l[24].t("Embedding Batch Size")+"",a,i,r,c,u,p,E,h,m;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("input"),u=A(),p=d("div"),E=d("input"),this.h()},l(g){e=_(g,"DIV",{class:!0});var b=v(e);t=_(b,"DIV",{class:!0});var I=v(t);a=M(I,s),I.forEach(f),i=y(b),r=_(b,"DIV",{class:!0});var w=v(r);c=_(w,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),w.forEach(f),u=y(b),p=_(b,"DIV",{class:!0});var k=v(p);E=_(k,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),k.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium"),o(c,"id","steps-range"),o(c,"type","range"),o(c,"min","1"),o(c,"max","2048"),o(c,"step","1"),o(c,"class","w-full h-2 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"),o(r,"class","flex-1"),o(E,"type","number"),o(E,"class","bg-transparent text-center w-14"),o(E,"min","-2"),o(E,"max","16000"),o(E,"step","1"),o(p,"class",""),o(e,"class","flex mt-0.5 space-x-2")},m(g,b){R(g,e,b),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),ee(c,l[6]),n(e,u),n(e,p),n(p,E),ee(E,l[6]),h||(m=[re(c,"change",l[40]),re(c,"input",l[40]),re(E,"input",l[41])],h=!0)},p(g,b){b[0]&16777216&&s!==(s=g[24].t("Embedding Batch Size")+"")&&C(a,s),b[0]&64&&ee(c,g[6]),b[0]&64&&ts(E.value)!==g[6]&&ee(E,g[6])},d(g){g&&f(e),h=!1,bl(m)}}}function j_(l){let e,t=l[24].t("Off")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("Off")+"")&&C(s,t)},d(a){a&&f(e)}}}function K_(l){let e,t=l[24].t("On")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("On")+"")&&C(s,t)},d(a){a&&f(e)}}}function Y_(l){let e,t,s;function a(r){l[43](r)}let i={};return l[17]!==void 0&&(i.state=l[17]),e=new yl({props:i}),We.push(()=>Qe(e,"state",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};!t&&c[0]&131072&&(t=!0,u.state=r[17],Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function F_(l){let e,t,s,a,i,r,c,u=l[4]===""&&No(l);return{c(){e=d("div"),t=d("div"),s=d("input"),i=A(),u&&u.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var h=v(t);s=_(h,"INPUT",{class:!0,placeholder:!0}),h.forEach(f),i=y(E),u&&u.l(E),E.forEach(f),this.h()},h(){o(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[24].t("Set embedding model (e.g. {{model}})",{model:l[5].slice(-40)})),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(p,E){R(p,e,E),n(e,t),n(t,s),ee(s,l[5]),n(e,i),u&&u.m(e,null),r||(c=re(s,"input",l[45]),r=!0)},p(p,E){E[0]&16777248&&a!==(a=p[24].t("Set embedding model (e.g. {{model}})",{model:p[5].slice(-40)}))&&o(s,"placeholder",a),E[0]&32&&s.value!==p[5]&&ee(s,p[5]),p[4]===""?u?u.p(p,E):(u=No(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(p){p&&f(e),u&&u.d(),r=!1,c()}}}function W_(l){let e,t,s,a,i,r;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var p=v(t);s=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(f),u.forEach(f),this.h()},h(){o(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[24].t("Set embedding model")),s.required=!0,o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full")},m(c,u){R(c,e,u),n(e,t),n(t,s),ee(s,l[5]),i||(r=re(s,"input",l[44]),i=!0)},p(c,u){u[0]&16777216&&a!==(a=c[24].t("Set embedding model"))&&o(s,"placeholder",a),u[0]&32&&s.value!==c[5]&&ee(s,c[5])},d(c){c&&f(e),i=!1,r()}}}function No(l){let e,t,s;function a(c,u){return c[0]?Z_:q_}let i=a(l),r=i(l);return{c(){e=d("button"),r.c(),this.h()},l(c){e=_(c,"BUTTON",{class:!0});var u=v(e);r.l(u),u.forEach(f),this.h()},h(){o(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),e.disabled=l[0]},m(c,u){R(c,e,u),r.m(e,null),t||(s=re(e,"click",l[46]),t=!0)},p(c,u){i!==(i=a(c))&&(r.d(1),r=i(c),r&&(r.c(),r.m(e,null))),u[0]&1&&(e.disabled=c[0])},d(c){c&&f(e),r.d(),t=!1,s()}}}function q_(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function Z_(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function Vo(l){let e,t,s=l[24].t("Reranking Model")+"",a,i,r,c,u,p,E,h,m,g;function b(k,T){return k[1]?z_:J_}let I=b(l),w=I(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("button"),w.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var T=v(e);t=_(T,"DIV",{class:!0});var D=v(t);a=M(D,s),D.forEach(f),i=y(T),r=_(T,"DIV",{class:!0});var $=v(r);c=_($,"DIV",{class:!0});var V=v(c);u=_(V,"INPUT",{class:!0,placeholder:!0}),V.forEach(f),E=y($),h=_($,"BUTTON",{class:!0});var O=v(h);w.l(O),O.forEach(f),$.forEach(f),T.forEach(f),this.h()},h(){o(t,"class","mb-2 text-sm font-medium"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"placeholder",p=l[24].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),o(c,"class","flex-1 mr-2"),o(h,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),h.disabled=l[1],o(r,"class","flex w-full"),o(e,"class","")},m(k,T){R(k,e,T),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[7]),n(r,E),n(r,h),w.m(h,null),m||(g=[re(u,"input",l[47]),re(h,"click",l[48])],m=!0)},p(k,T){T[0]&16777216&&s!==(s=k[24].t("Reranking Model")+"")&&C(a,s),T[0]&16777216&&p!==(p=k[24].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&o(u,"placeholder",p),T[0]&128&&u.value!==k[7]&&ee(u,k[7]),I!==(I=b(k))&&(w.d(1),w=I(k),w&&(w.c(),w.m(h,null))),T[0]&2&&(h.disabled=k[1])},d(k){k&&f(e),w.d(),m=!1,bl(g)}}}function J_(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{d:!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(s,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(a,i){R(a,e,i),n(e,t),n(e,s)},d(a){a&&f(e)}}}function z_(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function Oo(l){let e,t,s,a,i,r;return{c(){e=d("div"),t=d("div"),s=d("input"),this.h()},l(c){e=_(c,"DIV",{class:!0});var u=v(e);t=_(u,"DIV",{class:!0});var p=v(t);s=_(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(f),u.forEach(f),this.h()},h(){o(s,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(s,"placeholder",a=l[24].t("Enter Tika Server URL")),o(t,"class","flex-1 mr-2"),o(e,"class","flex w-full mt-1")},m(c,u){R(c,e,u),n(e,t),n(t,s),ee(s,l[11]),i||(r=re(s,"input",l[51]),i=!0)},p(c,u){u[0]&16777216&&a!==(a=c[24].t("Enter Tika Server URL"))&&o(s,"placeholder",a),u[0]&2048&&s.value!==c[11]&&ee(s,c[11])},d(c){c&&f(e),i=!1,r()}}}function Po(l){let e,t,s=l[24].t("Minimum Score")+"",a,i,r,c,u,p,E,h;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("input"),this.h()},l(m){e=_(m,"DIV",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);a=M(b,s),b.forEach(f),i=y(g),r=_(g,"DIV",{class:!0});var I=v(r);c=_(I,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","text-xs font-medium w-full"),o(c,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(c,"type","number"),o(c,"step","0.01"),o(c,"placeholder",u=l[24].t("Enter Score")),o(c,"autocomplete","off"),o(c,"min","0.0"),o(c,"title",p=l[24].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),o(r,"class","w-full"),o(e,"class","flex flex-col w-full gap-1")},m(m,g){R(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),ee(c,l[23].r),E||(h=re(c,"input",l[54]),E=!0)},p(m,g){g[0]&16777216&&s!==(s=m[24].t("Minimum Score")+"")&&C(a,s),g[0]&16777216&&u!==(u=m[24].t("Enter Score"))&&o(c,"placeholder",u),g[0]&16777216&&p!==(p=m[24].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&o(c,"title",p),g[0]&8388608&&ts(c.value)!==m[23].r&&ee(c,m[23].r)},d(m){m&&f(e),E=!1,h()}}}function So(l){let e,t=l[24].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16777216&&t!==(t=a[24].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&C(s,t)},d(a){a&&f(e)}}}function X_(l){let e,t,s;function a(r){l[55](r)}let i={placeholder:l[24].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[23].template!==void 0&&(i.value=l[23].template),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&16777216&&(u.placeholder=r[24].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c[0]&8388608&&(t=!0,u.value=r[23].template,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Q_(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"type","number"),o(e,"placeholder",t=l[24].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){R(i,e,r),ee(e,l[8]),s||(a=re(e,"input",l[60]),s=!0)},p(i,r){r[0]&16777216&&t!==(t=i[24].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&256&&ts(e.value)!==i[8]&&ee(e,i[8])},d(i){i&&f(e),s=!1,a()}}}function x_(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){o(e,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(e,"type","number"),o(e,"placeholder",t=l[24].t("Leave empty for unlimited")),o(e,"autocomplete","off"),o(e,"min","0")},m(i,r){R(i,e,r),ee(e,l[9]),s||(a=re(e,"input",l[61]),s=!0)},p(i,r){r[0]&16777216&&t!==(t=i[24].t("Leave empty for unlimited"))&&o(e,"placeholder",t),r[0]&512&&ts(e.value)!==i[9]&&ee(e,i[9])},d(i){i&&f(e),s=!1,a()}}}function e1(l){let e,t,s,a,i,r,c,u,p,E,h=l[24].t("General Settings")+"",m,g,b,I,w=l[24].t("Embedding Model Engine")+"",k,T,D,$,V,O=l[24].t("Default (SentenceTransformers)")+"",N,P,H=l[24].t("Ollama")+"",U,B,Y=l[24].t("OpenAI")+"",S,F,G,K,J,Q,X,ie,ue=l[24].t("Hybrid Search")+"",le,z,Z,q,te,ae,de=l[24].t("Full Context Mode")+"",ne,oe,fe,ke,Ee,x,_e,Te,be,Ie,Me,ce=l[24].t("Embedding Model")+"",De,Ce,Ue,se,ye=l[24].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",Be,$e,Le,Ge,qe,Ke,je,Ae=l[24].t("Content Extraction")+"",Ve,Pe,st,It,at=l[24].t("Engine")+"",Ze,pt,Lt,Dt,Tt,_t=l[24].t("Default")+"",tt,rt,nt,ut=l[24].t("Tika")+"",dt,vt,he,Ne,kt,ot,gt=l[24].t("Google Drive")+"",wt,Mt,zt,Kt,Xt,Gt=l[24].t("Enable Google Drive")+"",ll,qt,At,Re,we,xe,Ot,Ut,ct,Nt,$t=l[24].t("Query Params")+"",Ct,He,et,ht,Pt,Je=l[24].t("Top K")+"",hl,sl,Qt,Zt,rl,it,yt,Rt,dl,Tl,gl=l[24].t("RAG Template")+"",wl,Yt,Nl,Al,pl,Jt,nl,fl,Yl=l[24].t("Chunk Params")+"",as,cl,Vl,zl,_l=l[24].t("Text Splitter")+"",rs,kl,Gl,Pl,Ft,Cl=l[24].t("Default")+"",xt,Fs,El=l[24].t("Character")+"",Se,lt,il,el=l[24].t("Token")+"",ls,Ds,As=l[24].t("Tiktoken")+"",Fl,ns,Is,Xl,St,Dl,Ws=l[24].t("Chunk Size")+"",qs,ys,Ql,Wl,Ss,ca,is,Ls,Ms=l[24].t("Chunk Overlap")+"",Qs,ps,Gs,ql,vs,$s,ws,os,Rs,ms=l[24].t("PDF Extract Images (OCR)")+"",Cs,us,Us,fs,Zs,xs,ea,Ul,Ns,js,ta=l[24].t("Files")+"",ba,Ra,Vs,cs,al,Ia=l[24].t("Max Upload Size")+"",Ca,ir,wa,da,Za,_a,ka,Sl=l[24].t("Max Upload Count")+"",Ja,za,Ol,ha,Xa,Qa,xa,Ta,Ks,pa,Ye='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 14.25a.75.75 0 0 0 0 1.5H15a.75.75 0 0 0 0-1.5H9.75Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',Vt,ss,la=l[24].t("Reset Upload Directory")+"",Js,Da,ks,Os,va='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg>',sa,zs,Pa=l[24].t("Reset Vector Storage/Knowledge")+"",Ua,er,aa,Xs,ma=l[24].t("Save")+"",Ba,tl,tr,or;function kr(Oe){l[30](Oe)}let Ha={};l[3]!==void 0&&(Ha.show=l[3]),e=new Wr({props:Ha}),We.push(()=>Qe(e,"show",kr)),e.$on("confirm",l[31]);function Tr(Oe){l[32](Oe)}let ur={};l[2]!==void 0&&(ur.show=l[2]),a=new Wr({props:ur}),We.push(()=>Qe(a,"show",Tr)),a.$on("confirm",l[33]);const xl=[G_,H_],ra=[];function Ga(Oe,ze){return Oe[4]==="openai"?0:Oe[4]==="ollama"?1:-1}~(G=Ga(l))&&(K=ra[G]=xl[G](l));let ds=(l[4]==="ollama"||l[4]==="openai")&&$o(l);function fr(Oe,ze){return Oe[23].hybrid===!0?K_:j_}let Aa=fr(l),Bs=Aa(l);ke=new Ht({props:{content:l[17]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[Y_]},$$scope:{ctx:l}}});function cr(Oe,ze){return Oe[4]==="ollama"?W_:F_}let ja=cr(l),Ts=ja(l),_s=l[23].hybrid===!0&&Vo(l),es=l[12]&&Oo(l);function Dr(Oe){l[52](Oe)}let Ka={};l[18]!==void 0&&(Ka.state=l[18]),Re=new yl({props:Ka}),We.push(()=>Qe(Re,"state",Dr));let hs=l[23].hybrid===!0&&Po(l),jl=l[23].hybrid===!0&&So(l);Nl=new Ht({props:{content:l[24].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[X_]},$$scope:{ctx:l}}});function Ar(Oe){l[59](Oe)}let dr={};return l[16]!==void 0&&(dr.state=l[16]),fs=new yl({props:dr}),We.push(()=>Qe(fs,"state",Ar)),da=new Ht({props:{content:l[24].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[Q_]},$$scope:{ctx:l}}}),ha=new Ht({props:{content:l[24].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[x_]},$$scope:{ctx:l}}}),{c(){pe(e.$$.fragment),s=A(),pe(a.$$.fragment),r=A(),c=d("form"),u=d("div"),p=d("div"),E=d("div"),m=L(h),g=A(),b=d("div"),I=d("div"),k=L(w),T=A(),D=d("div"),$=d("select"),V=d("option"),N=L(O),P=d("option"),U=L(H),B=d("option"),S=L(Y),F=A(),K&&K.c(),J=A(),ds&&ds.c(),Q=A(),X=d("div"),ie=d("div"),le=L(ue),z=A(),Z=d("button"),Bs.c(),q=A(),te=d("div"),ae=d("div"),ne=L(de),oe=A(),fe=d("div"),pe(ke.$$.fragment),Ee=A(),x=d("hr"),_e=A(),Te=d("div"),be=A(),Ie=d("div"),Me=d("div"),De=L(ce),Ce=A(),Ts.c(),Ue=A(),se=d("div"),Be=L(ye),$e=A(),_s&&_s.c(),Le=A(),Ge=d("hr"),qe=A(),Ke=d("div"),je=d("div"),Ve=L(Ae),Pe=A(),st=d("div"),It=d("div"),Ze=L(at),pt=A(),Lt=d("div"),Dt=d("select"),Tt=d("option"),tt=L(_t),rt=A(),nt=d("option"),dt=L(ut),vt=A(),es&&es.c(),he=A(),Ne=d("hr"),kt=A(),ot=d("div"),wt=L(gt),Mt=A(),zt=d("div"),Kt=d("div"),Xt=d("div"),ll=L(Gt),qt=A(),At=d("div"),pe(Re.$$.fragment),xe=A(),Ot=d("hr"),Ut=A(),ct=d("div"),Nt=d("div"),Ct=L($t),He=A(),et=d("div"),ht=d("div"),Pt=d("div"),hl=L(Je),sl=A(),Qt=d("div"),Zt=d("input"),it=A(),hs&&hs.c(),yt=A(),jl&&jl.c(),Rt=A(),dl=d("div"),Tl=d("div"),wl=L(gl),Yt=A(),pe(Nl.$$.fragment),Al=A(),pl=d("hr"),Jt=A(),nl=d("div"),fl=d("div"),as=L(Yl),cl=A(),Vl=d("div"),zl=d("div"),rs=L(_l),kl=A(),Gl=d("div"),Pl=d("select"),Ft=d("option"),xt=L(Cl),Fs=L(" ("),Se=L(El),lt=L(")"),il=d("option"),ls=L(el),Ds=L(" ("),Fl=L(As),ns=L(")"),Is=A(),Xl=d("div"),St=d("div"),Dl=d("div"),qs=L(Ws),ys=A(),Ql=d("div"),Wl=d("input"),ca=A(),is=d("div"),Ls=d("div"),Qs=L(Ms),ps=A(),Gs=d("div"),ql=d("input"),$s=A(),ws=d("div"),os=d("div"),Rs=d("div"),Cs=L(ms),us=A(),Us=d("div"),pe(fs.$$.fragment),xs=A(),ea=d("hr"),Ul=A(),Ns=d("div"),js=d("div"),ba=L(ta),Ra=A(),Vs=d("div"),cs=d("div"),al=d("div"),Ca=L(Ia),ir=A(),wa=d("div"),pe(da.$$.fragment),Za=A(),_a=d("div"),ka=d("div"),Ja=L(Sl),za=A(),Ol=d("div"),pe(ha.$$.fragment),Xa=A(),Qa=d("hr"),xa=A(),Ta=d("div"),Ks=d("button"),pa=d("div"),pa.innerHTML=Ye,Vt=A(),ss=d("div"),Js=L(la),Da=A(),ks=d("button"),Os=d("div"),Os.innerHTML=va,sa=A(),zs=d("div"),Ua=L(Pa),er=A(),aa=d("div"),Xs=d("button"),Ba=L(ma),this.h()},l(Oe){ve(e.$$.fragment,Oe),s=y(Oe),ve(a.$$.fragment,Oe),r=y(Oe),c=_(Oe,"FORM",{class:!0});var ze=v(c);u=_(ze,"DIV",{class:!0});var ol=v(u);p=_(ol,"DIV",{class:!0});var gs=v(p);E=_(gs,"DIV",{class:!0});var na=v(E);m=M(na,h),na.forEach(f),g=y(gs),b=_(gs,"DIV",{class:!0});var Ys=v(b);I=_(Ys,"DIV",{class:!0});var Sa=v(I);k=M(Sa,w),Sa.forEach(f),T=y(Ys),D=_(Ys,"DIV",{class:!0});var ya=v(D);$=_(ya,"SELECT",{class:!0,placeholder:!0});var Zl=v($);V=_(Zl,"OPTION",{});var $a=v(V);N=M($a,O),$a.forEach(f),P=_(Zl,"OPTION",{});var ia=v(P);U=M(ia,H),ia.forEach(f),B=_(Zl,"OPTION",{});var _r=v(B);S=M(_r,Y),_r.forEach(f),Zl.forEach(f),ya.forEach(f),Ys.forEach(f),F=y(gs),K&&K.l(gs),J=y(gs),ds&&ds.l(gs),Q=y(gs),X=_(gs,"DIV",{class:!0});var Na=v(X);ie=_(Na,"DIV",{class:!0});var hr=v(ie);le=M(hr,ue),hr.forEach(f),z=y(Na),Z=_(Na,"BUTTON",{class:!0,type:!0});var Ya=v(Z);Bs.l(Ya),Ya.forEach(f),Na.forEach(f),q=y(gs),te=_(gs,"DIV",{class:!0});var ga=v(te);ae=_(ga,"DIV",{class:!0});var Va=v(ae);ne=M(Va,de),Va.forEach(f),oe=y(ga),fe=_(ga,"DIV",{class:!0});var pr=v(fe);ve(ke.$$.fragment,pr),pr.forEach(f),ga.forEach(f),gs.forEach(f),Ee=y(ol),x=_(ol,"HR",{class:!0}),_e=y(ol),Te=_(ol,"DIV",{class:!0}),v(Te).forEach(f),be=y(ol),Ie=_(ol,"DIV",{});var oa=v(Ie);Me=_(oa,"DIV",{class:!0});var vr=v(Me);De=M(vr,ce),vr.forEach(f),Ce=y(oa),Ts.l(oa),Ue=y(oa),se=_(oa,"DIV",{class:!0});var mr=v(se);Be=M(mr,ye),mr.forEach(f),$e=y(oa),_s&&_s.l(oa),oa.forEach(f),Le=y(ol),Ge=_(ol,"HR",{class:!0}),qe=y(ol),Ke=_(ol,"DIV",{class:!0});var ua=v(Ke);je=_(ua,"DIV",{class:!0});var gr=v(je);Ve=M(gr,Ae),gr.forEach(f),Pe=y(ua),st=_(ua,"DIV",{class:!0});var Fa=v(st);It=_(Fa,"DIV",{class:!0});var Er=v(It);Ze=M(Er,at),Er.forEach(f),pt=y(Fa),Lt=_(Fa,"DIV",{class:!0});var xr=v(Lt);Dt=_(xr,"SELECT",{class:!0});var zr=v(Dt);Tt=_(zr,"OPTION",{});var Xr=v(Tt);tt=M(Xr,_t),rt=y(Xr),Xr.forEach(f),nt=_(zr,"OPTION",{});var en=v(nt);dt=M(en,ut),en.forEach(f),zr.forEach(f),xr.forEach(f),Fa.forEach(f),vt=y(ua),es&&es.l(ua),ua.forEach(f),he=y(ol),Ne=_(ol,"HR",{class:!0}),kt=y(ol),ot=_(ol,"DIV",{class:!0});var tn=v(ot);wt=M(tn,gt),tn.forEach(f),Mt=y(ol),zt=_(ol,"DIV",{class:!0});var ln=v(zt);Kt=_(ln,"DIV",{class:!0});var yr=v(Kt);Xt=_(yr,"DIV",{class:!0});var sn=v(Xt);ll=M(sn,Gt),sn.forEach(f),qt=y(yr),At=_(yr,"DIV",{});var an=v(At);ve(Re.$$.fragment,an),an.forEach(f),yr.forEach(f),ln.forEach(f),xe=y(ol),Ot=_(ol,"HR",{class:!0}),Ut=y(ol),ct=_(ol,"DIV",{class:!0});var La=v(ct);Nt=_(La,"DIV",{class:!0});var rn=v(Nt);Ct=M(rn,$t),rn.forEach(f),He=y(La),et=_(La,"DIV",{class:!0});var $r=v(et);ht=_($r,"DIV",{class:!0});var Nr=v(ht);Pt=_(Nr,"DIV",{class:!0});var nn=v(Pt);hl=M(nn,Je),nn.forEach(f),sl=y(Nr),Qt=_(Nr,"DIV",{class:!0});var on=v(Qt);Zt=_(on,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),on.forEach(f),Nr.forEach(f),it=y($r),hs&&hs.l($r),$r.forEach(f),yt=y(La),jl&&jl.l(La),Rt=y(La),dl=_(La,"DIV",{class:!0});var Vr=v(dl);Tl=_(Vr,"DIV",{class:!0});var un=v(Tl);wl=M(un,gl),un.forEach(f),Yt=y(Vr),ve(Nl.$$.fragment,Vr),Vr.forEach(f),La.forEach(f),Al=y(ol),pl=_(ol,"HR",{class:!0}),Jt=y(ol),nl=_(ol,"DIV",{class:!0});var Ma=v(nl);fl=_(Ma,"DIV",{class:!0});var fn=v(fl);as=M(fn,Yl),fn.forEach(f),cl=y(Ma),Vl=_(Ma,"DIV",{class:!0});var Or=v(Vl);zl=_(Or,"DIV",{class:!0});var cn=v(zl);rs=M(cn,_l),cn.forEach(f),kl=y(Or),Gl=_(Or,"DIV",{class:!0});var dn=v(Gl);Pl=_(dn,"SELECT",{class:!0});var Qr=v(Pl);Ft=_(Qr,"OPTION",{});var br=v(Ft);xt=M(br,Cl),Fs=M(br," ("),Se=M(br,El),lt=M(br,")"),br.forEach(f),il=_(Qr,"OPTION",{});var Ir=v(il);ls=M(Ir,el),Ds=M(Ir," ("),Fl=M(Ir,As),ns=M(Ir,")"),Ir.forEach(f),Qr.forEach(f),dn.forEach(f),Or.forEach(f),Is=y(Ma),Xl=_(Ma,"DIV",{class:!0});var Pr=v(Xl);St=_(Pr,"DIV",{class:!0});var Sr=v(St);Dl=_(Sr,"DIV",{class:!0});var _n=v(Dl);qs=M(_n,Ws),_n.forEach(f),ys=y(Sr),Ql=_(Sr,"DIV",{class:!0});var hn=v(Ql);Wl=_(hn,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),hn.forEach(f),Sr.forEach(f),ca=y(Pr),is=_(Pr,"DIV",{class:!0});var Lr=v(is);Ls=_(Lr,"DIV",{class:!0});var pn=v(Ls);Qs=M(pn,Ms),pn.forEach(f),ps=y(Lr),Gs=_(Lr,"DIV",{class:!0});var vn=v(Gs);ql=_(vn,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),vn.forEach(f),Lr.forEach(f),Pr.forEach(f),$s=y(Ma),ws=_(Ma,"DIV",{class:!0});var mn=v(ws);os=_(mn,"DIV",{class:!0});var Mr=v(os);Rs=_(Mr,"DIV",{class:!0});var gn=v(Rs);Cs=M(gn,ms),gn.forEach(f),us=y(Mr),Us=_(Mr,"DIV",{});var En=v(Us);ve(fs.$$.fragment,En),En.forEach(f),Mr.forEach(f),mn.forEach(f),Ma.forEach(f),xs=y(ol),ea=_(ol,"HR",{class:!0}),Ul=y(ol),Ns=_(ol,"DIV",{class:!0});var Rr=v(Ns);js=_(Rr,"DIV",{class:!0});var bn=v(js);ba=M(bn,ta),bn.forEach(f),Ra=y(Rr),Vs=_(Rr,"DIV",{class:!0});var Cr=v(Vs);cs=_(Cr,"DIV",{class:!0});var Ur=v(cs);al=_(Ur,"DIV",{class:!0});var In=v(al);Ca=M(In,Ia),In.forEach(f),ir=y(Ur),wa=_(Ur,"DIV",{class:!0});var wn=v(wa);ve(da.$$.fragment,wn),wn.forEach(f),Ur.forEach(f),Za=y(Cr),_a=_(Cr,"DIV",{class:!0});var Br=v(_a);ka=_(Br,"DIV",{class:!0});var kn=v(ka);Ja=M(kn,Sl),kn.forEach(f),za=y(Br),Ol=_(Br,"DIV",{class:!0});var Tn=v(Ol);ve(ha.$$.fragment,Tn),Tn.forEach(f),Br.forEach(f),Cr.forEach(f),Rr.forEach(f),Xa=y(ol),Qa=_(ol,"HR",{class:!0}),xa=y(ol),Ta=_(ol,"DIV",{});var Hr=v(Ta);Ks=_(Hr,"BUTTON",{class:!0,type:!0});var Gr=v(Ks);pa=_(Gr,"DIV",{class:!0,"data-svelte-h":!0}),Bt(pa)!=="svelte-1m6igha"&&(pa.innerHTML=Ye),Vt=y(Gr),ss=_(Gr,"DIV",{class:!0});var Dn=v(ss);Js=M(Dn,la),Dn.forEach(f),Gr.forEach(f),Da=y(Hr),ks=_(Hr,"BUTTON",{class:!0,type:!0});var jr=v(ks);Os=_(jr,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Os)!=="svelte-16tyzd9"&&(Os.innerHTML=va),sa=y(jr),zs=_(jr,"DIV",{class:!0});var An=v(zs);Ua=M(An,Pa),An.forEach(f),jr.forEach(f),Hr.forEach(f),ol.forEach(f),er=y(ze),aa=_(ze,"DIV",{class:!0});var yn=v(aa);Xs=_(yn,"BUTTON",{class:!0,type:!0});var $n=v(Xs);Ba=M($n,ma),$n.forEach(f),yn.forEach(f),ze.forEach(f),this.h()},h(){o(E,"class","mb-0.5 text-sm font-medium"),o(I,"class","self-center text-xs font-medium"),V.__value="",ee(V,V.__value),P.__value="ollama",ee(P,P.__value),B.__value="openai",ee(B,B.__value),o($,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o($,"placeholder","Select an embedding model engine"),l[4]===void 0&&Hl(()=>l[34].call($)),o(D,"class","flex items-center relative"),o(b,"class","flex w-full justify-between"),o(ie,"class","self-center text-xs font-medium"),o(Z,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(Z,"type","button"),o(X,"class","flex w-full justify-between"),o(ae,"class","self-center text-xs font-medium"),o(fe,"class","flex items-center relative"),o(te,"class","py-0.5 flex w-full justify-between"),o(p,"class","flex flex-col gap-0.5"),o(x,"class","border-gray-100 dark:border-gray-850"),o(Te,"class","space-y-2"),o(Me,"class","mb-2 text-sm font-medium"),o(se,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(Ge,"class","border-gray-100 dark:border-gray-850"),o(je,"class","text-sm font-medium mb-1"),o(It,"class","self-center text-xs font-medium"),Tt.__value="",ee(Tt,Tt.__value),nt.__value="tika",ee(nt,nt.__value),o(Dt,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),l[10]===void 0&&Hl(()=>l[49].call(Dt)),o(Lt,"class","flex items-center relative"),o(st,"class","flex w-full justify-between"),o(Ke,"class",""),o(Ne,"class","border-gray-100 dark:border-gray-850"),o(ot,"class","text-sm font-medium mb-1"),o(Xt,"class","text-xs font-medium"),o(Kt,"class","flex justify-between items-center text-xs"),o(zt,"class",""),o(Ot,"class","border-gray-100 dark:border-gray-850"),o(Nt,"class","text-sm font-medium mb-1"),o(Pt,"class","text-xs font-medium w-full"),o(Zt,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Zt,"type","number"),o(Zt,"placeholder",rl=l[24].t("Enter Top K")),o(Zt,"autocomplete","off"),o(Zt,"min","0"),o(Qt,"class","w-full"),o(ht,"class","flex flex-col w-full gap-1"),o(et,"class","flex gap-1.5"),o(Tl,"class","mb-1 text-xs font-medium"),o(dl,"class","mt-2"),o(ct,"class",""),o(pl,"class","border-gray-100 dark:border-gray-850"),o(fl,"class","mb-1 text-sm font-medium"),o(zl,"class","self-center text-xs font-medium"),Ft.__value="",ee(Ft,Ft.__value),il.__value="token",ee(il,il.__value),o(Pl,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),l[13]===void 0&&Hl(()=>l[56].call(Pl)),o(Gl,"class","flex items-center relative"),o(Vl,"class","flex w-full justify-between mb-1.5"),o(Dl,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Wl,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(Wl,"type","number"),o(Wl,"placeholder",Ss=l[24].t("Enter Chunk Size")),o(Wl,"autocomplete","off"),o(Wl,"min","0"),o(Ql,"class","self-center"),o(St,"class","w-full justify-between"),o(Ls,"class","self-center text-xs font-medium min-w-fit mb-1"),o(ql,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(ql,"type","number"),o(ql,"placeholder",vs=l[24].t("Enter Chunk Overlap")),o(ql,"autocomplete","off"),o(ql,"min","0"),o(Gs,"class","self-center"),o(is,"class","w-full"),o(Xl,"class","flex gap-1.5"),o(Rs,"class","text-xs font-medium"),o(os,"class","flex justify-between items-center text-xs"),o(ws,"class","my-2"),o(nl,"class",""),o(ea,"class","border-gray-100 dark:border-gray-850"),o(js,"class","text-sm font-medium mb-1"),o(al,"class","self-center text-xs font-medium min-w-fit mb-1"),o(wa,"class","self-center"),o(cs,"class","w-full"),o(ka,"class","self-center text-xs font-medium min-w-fit mb-1"),o(Ol,"class","self-center"),o(_a,"class","w-full"),o(Vs,"class","flex gap-1.5"),o(Ns,"class",""),o(Qa,"class","border-gray-100 dark:border-gray-850"),o(pa,"class","self-center mr-3"),o(ss,"class","self-center text-sm font-medium"),o(Ks,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(Ks,"type","button"),o(Os,"class","self-center mr-3"),o(zs,"class","self-center text-sm font-medium"),o(ks,"class","flex rounded-xl py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(ks,"type","button"),o(u,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),o(Xs,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(Xs,"type","submit"),o(aa,"class","flex justify-end pt-3 text-sm font-medium"),o(c,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Oe,ze){me(e,Oe,ze),R(Oe,s,ze),me(a,Oe,ze),R(Oe,r,ze),R(Oe,c,ze),n(c,u),n(u,p),n(p,E),n(E,m),n(p,g),n(p,b),n(b,I),n(I,k),n(b,T),n(b,D),n(D,$),n($,V),n(V,N),n($,P),n(P,U),n($,B),n(B,S),jt($,l[4],!0),n(p,F),~G&&ra[G].m(p,null),n(p,J),ds&&ds.m(p,null),n(p,Q),n(p,X),n(X,ie),n(ie,le),n(X,z),n(X,Z),Bs.m(Z,null),n(p,q),n(p,te),n(te,ae),n(ae,ne),n(te,oe),n(te,fe),me(ke,fe,null),n(u,Ee),n(u,x),n(u,_e),n(u,Te),n(u,be),n(u,Ie),n(Ie,Me),n(Me,De),n(Ie,Ce),Ts.m(Ie,null),n(Ie,Ue),n(Ie,se),n(se,Be),n(Ie,$e),_s&&_s.m(Ie,null),n(u,Le),n(u,Ge),n(u,qe),n(u,Ke),n(Ke,je),n(je,Ve),n(Ke,Pe),n(Ke,st),n(st,It),n(It,Ze),n(st,pt),n(st,Lt),n(Lt,Dt),n(Dt,Tt),n(Tt,tt),n(Tt,rt),n(Dt,nt),n(nt,dt),jt(Dt,l[10],!0),n(Ke,vt),es&&es.m(Ke,null),n(u,he),n(u,Ne),n(u,kt),n(u,ot),n(ot,wt),n(u,Mt),n(u,zt),n(zt,Kt),n(Kt,Xt),n(Xt,ll),n(Kt,qt),n(Kt,At),me(Re,At,null),n(u,xe),n(u,Ot),n(u,Ut),n(u,ct),n(ct,Nt),n(Nt,Ct),n(ct,He),n(ct,et),n(et,ht),n(ht,Pt),n(Pt,hl),n(ht,sl),n(ht,Qt),n(Qt,Zt),ee(Zt,l[23].k),n(et,it),hs&&hs.m(et,null),n(ct,yt),jl&&jl.m(ct,null),n(ct,Rt),n(ct,dl),n(dl,Tl),n(Tl,wl),n(dl,Yt),me(Nl,dl,null),n(u,Al),n(u,pl),n(u,Jt),n(u,nl),n(nl,fl),n(fl,as),n(nl,cl),n(nl,Vl),n(Vl,zl),n(zl,rs),n(Vl,kl),n(Vl,Gl),n(Gl,Pl),n(Pl,Ft),n(Ft,xt),n(Ft,Fs),n(Ft,Se),n(Ft,lt),n(Pl,il),n(il,ls),n(il,Ds),n(il,Fl),n(il,ns),jt(Pl,l[13],!0),n(nl,Is),n(nl,Xl),n(Xl,St),n(St,Dl),n(Dl,qs),n(St,ys),n(St,Ql),n(Ql,Wl),ee(Wl,l[14]),n(Xl,ca),n(Xl,is),n(is,Ls),n(Ls,Qs),n(is,ps),n(is,Gs),n(Gs,ql),ee(ql,l[15]),n(nl,$s),n(nl,ws),n(ws,os),n(os,Rs),n(Rs,Cs),n(os,us),n(os,Us),me(fs,Us,null),n(u,xs),n(u,ea),n(u,Ul),n(u,Ns),n(Ns,js),n(js,ba),n(Ns,Ra),n(Ns,Vs),n(Vs,cs),n(cs,al),n(al,Ca),n(cs,ir),n(cs,wa),me(da,wa,null),n(Vs,Za),n(Vs,_a),n(_a,ka),n(ka,Ja),n(_a,za),n(_a,Ol),me(ha,Ol,null),n(u,Xa),n(u,Qa),n(u,xa),n(u,Ta),n(Ta,Ks),n(Ks,pa),n(Ks,Vt),n(Ks,ss),n(ss,Js),n(Ta,Da),n(Ta,ks),n(ks,Os),n(ks,sa),n(ks,zs),n(zs,Ua),n(c,er),n(c,aa),n(aa,Xs),n(Xs,Ba),tl=!0,tr||(or=[re($,"change",l[34]),re($,"change",l[35]),re(Z,"click",l[42]),re(Dt,"change",l[49]),re(Dt,"change",l[50]),re(Zt,"input",l[53]),re(Pl,"change",l[56]),re(Wl,"input",l[57]),re(ql,"input",l[58]),re(Ks,"click",l[62]),re(ks,"click",l[63]),re(c,"submit",Hs(l[64]))],tr=!0)},p(Oe,ze){const ol={};!t&&ze[0]&8&&(t=!0,ol.show=Oe[3],Xe(()=>t=!1)),e.$set(ol);const gs={};!i&&ze[0]&4&&(i=!0,gs.show=Oe[2],Xe(()=>i=!1)),a.$set(gs),(!tl||ze[0]&16777216)&&h!==(h=Oe[24].t("General Settings")+"")&&C(m,h),(!tl||ze[0]&16777216)&&w!==(w=Oe[24].t("Embedding Model Engine")+"")&&C(k,w),(!tl||ze[0]&16777216)&&O!==(O=Oe[24].t("Default (SentenceTransformers)")+"")&&C(N,O),(!tl||ze[0]&16777216)&&H!==(H=Oe[24].t("Ollama")+"")&&C(U,H),(!tl||ze[0]&16777216)&&Y!==(Y=Oe[24].t("OpenAI")+"")&&C(S,Y),ze[0]&16&&jt($,Oe[4]);let na=G;G=Ga(Oe),G===na?~G&&ra[G].p(Oe,ze):(K&&(Et(),W(ra[na],1,1,()=>{ra[na]=null}),bt()),~G?(K=ra[G],K?K.p(Oe,ze):(K=ra[G]=xl[G](Oe),K.c()),j(K,1),K.m(p,J)):K=null),Oe[4]==="ollama"||Oe[4]==="openai"?ds?ds.p(Oe,ze):(ds=$o(Oe),ds.c(),ds.m(p,Q)):ds&&(ds.d(1),ds=null),(!tl||ze[0]&16777216)&&ue!==(ue=Oe[24].t("Hybrid Search")+"")&&C(le,ue),Aa===(Aa=fr(Oe))&&Bs?Bs.p(Oe,ze):(Bs.d(1),Bs=Aa(Oe),Bs&&(Bs.c(),Bs.m(Z,null))),(!tl||ze[0]&16777216)&&de!==(de=Oe[24].t("Full Context Mode")+"")&&C(ne,de);const Ys={};ze[0]&131072&&(Ys.content=Oe[17]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),ze[0]&131072|ze[2]&64&&(Ys.$$scope={dirty:ze,ctx:Oe}),ke.$set(Ys),(!tl||ze[0]&16777216)&&ce!==(ce=Oe[24].t("Embedding Model")+"")&&C(De,ce),ja===(ja=cr(Oe))&&Ts?Ts.p(Oe,ze):(Ts.d(1),Ts=ja(Oe),Ts&&(Ts.c(),Ts.m(Ie,Ue))),(!tl||ze[0]&16777216)&&ye!==(ye=Oe[24].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&C(Be,ye),Oe[23].hybrid===!0?_s?_s.p(Oe,ze):(_s=Vo(Oe),_s.c(),_s.m(Ie,null)):_s&&(_s.d(1),_s=null),(!tl||ze[0]&16777216)&&Ae!==(Ae=Oe[24].t("Content Extraction")+"")&&C(Ve,Ae),(!tl||ze[0]&16777216)&&at!==(at=Oe[24].t("Engine")+"")&&C(Ze,at),(!tl||ze[0]&16777216)&&_t!==(_t=Oe[24].t("Default")+"")&&C(tt,_t),(!tl||ze[0]&16777216)&&ut!==(ut=Oe[24].t("Tika")+"")&&C(dt,ut),ze[0]&1024&&jt(Dt,Oe[10]),Oe[12]?es?es.p(Oe,ze):(es=Oo(Oe),es.c(),es.m(Ke,null)):es&&(es.d(1),es=null),(!tl||ze[0]&16777216)&&gt!==(gt=Oe[24].t("Google Drive")+"")&&C(wt,gt),(!tl||ze[0]&16777216)&&Gt!==(Gt=Oe[24].t("Enable Google Drive")+"")&&C(ll,Gt);const Sa={};!we&&ze[0]&262144&&(we=!0,Sa.state=Oe[18],Xe(()=>we=!1)),Re.$set(Sa),(!tl||ze[0]&16777216)&&$t!==($t=Oe[24].t("Query Params")+"")&&C(Ct,$t),(!tl||ze[0]&16777216)&&Je!==(Je=Oe[24].t("Top K")+"")&&C(hl,Je),(!tl||ze[0]&16777216&&rl!==(rl=Oe[24].t("Enter Top K")))&&o(Zt,"placeholder",rl),ze[0]&8388608&&ts(Zt.value)!==Oe[23].k&&ee(Zt,Oe[23].k),Oe[23].hybrid===!0?hs?hs.p(Oe,ze):(hs=Po(Oe),hs.c(),hs.m(et,null)):hs&&(hs.d(1),hs=null),Oe[23].hybrid===!0?jl?jl.p(Oe,ze):(jl=So(Oe),jl.c(),jl.m(ct,Rt)):jl&&(jl.d(1),jl=null),(!tl||ze[0]&16777216)&&gl!==(gl=Oe[24].t("RAG Template")+"")&&C(wl,gl);const ya={};ze[0]&16777216&&(ya.content=Oe[24].t("Leave empty to use the default prompt, or enter a custom prompt")),ze[0]&25165824|ze[2]&64&&(ya.$$scope={dirty:ze,ctx:Oe}),Nl.$set(ya),(!tl||ze[0]&16777216)&&Yl!==(Yl=Oe[24].t("Chunk Params")+"")&&C(as,Yl),(!tl||ze[0]&16777216)&&_l!==(_l=Oe[24].t("Text Splitter")+"")&&C(rs,_l),(!tl||ze[0]&16777216)&&Cl!==(Cl=Oe[24].t("Default")+"")&&C(xt,Cl),(!tl||ze[0]&16777216)&&El!==(El=Oe[24].t("Character")+"")&&C(Se,El),(!tl||ze[0]&16777216)&&el!==(el=Oe[24].t("Token")+"")&&C(ls,el),(!tl||ze[0]&16777216)&&As!==(As=Oe[24].t("Tiktoken")+"")&&C(Fl,As),ze[0]&8192&&jt(Pl,Oe[13]),(!tl||ze[0]&16777216)&&Ws!==(Ws=Oe[24].t("Chunk Size")+"")&&C(qs,Ws),(!tl||ze[0]&16777216&&Ss!==(Ss=Oe[24].t("Enter Chunk Size")))&&o(Wl,"placeholder",Ss),ze[0]&16384&&ts(Wl.value)!==Oe[14]&&ee(Wl,Oe[14]),(!tl||ze[0]&16777216)&&Ms!==(Ms=Oe[24].t("Chunk Overlap")+"")&&C(Qs,Ms),(!tl||ze[0]&16777216&&vs!==(vs=Oe[24].t("Enter Chunk Overlap")))&&o(ql,"placeholder",vs),ze[0]&32768&&ts(ql.value)!==Oe[15]&&ee(ql,Oe[15]),(!tl||ze[0]&16777216)&&ms!==(ms=Oe[24].t("PDF Extract Images (OCR)")+"")&&C(Cs,ms);const Zl={};!Zs&&ze[0]&65536&&(Zs=!0,Zl.state=Oe[16],Xe(()=>Zs=!1)),fs.$set(Zl),(!tl||ze[0]&16777216)&&ta!==(ta=Oe[24].t("Files")+"")&&C(ba,ta),(!tl||ze[0]&16777216)&&Ia!==(Ia=Oe[24].t("Max Upload Size")+"")&&C(Ca,Ia);const $a={};ze[0]&16777216&&($a.content=Oe[24].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),ze[0]&16777472|ze[2]&64&&($a.$$scope={dirty:ze,ctx:Oe}),da.$set($a),(!tl||ze[0]&16777216)&&Sl!==(Sl=Oe[24].t("Max Upload Count")+"")&&C(Ja,Sl);const ia={};ze[0]&16777216&&(ia.content=Oe[24].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),ze[0]&16777728|ze[2]&64&&(ia.$$scope={dirty:ze,ctx:Oe}),ha.$set(ia),(!tl||ze[0]&16777216)&&la!==(la=Oe[24].t("Reset Upload Directory")+"")&&C(Js,la),(!tl||ze[0]&16777216)&&Pa!==(Pa=Oe[24].t("Reset Vector Storage/Knowledge")+"")&&C(Ua,Pa),(!tl||ze[0]&16777216)&&ma!==(ma=Oe[24].t("Save")+"")&&C(Ba,ma)},i(Oe){tl||(j(e.$$.fragment,Oe),j(a.$$.fragment,Oe),j(K),j(ke.$$.fragment,Oe),j(Re.$$.fragment,Oe),j(Nl.$$.fragment,Oe),j(fs.$$.fragment,Oe),j(da.$$.fragment,Oe),j(ha.$$.fragment,Oe),tl=!0)},o(Oe){W(e.$$.fragment,Oe),W(a.$$.fragment,Oe),W(K),W(ke.$$.fragment,Oe),W(Re.$$.fragment,Oe),W(Nl.$$.fragment,Oe),W(fs.$$.fragment,Oe),W(da.$$.fragment,Oe),W(ha.$$.fragment,Oe),tl=!1},d(Oe){Oe&&(f(s),f(r),f(c)),ge(e,Oe),ge(a,Oe),~G&&ra[G].d(),ds&&ds.d(),Bs.d(),ge(ke),Ts.d(),_s&&_s.d(),es&&es.d(),ge(Re),hs&&hs.d(),jl&&jl.d(),ge(Nl),ge(fs),ge(da),ge(ha),tr=!1,bl(or)}}}function t1(l,e,t){let s;const a=Ea(),i=Kl("i18n");Wt(l,i,Pe=>t(24,s=Pe));let r=!1,c=!1,u=!1,p=!1,E="",h="",m=1,g="",b=null,I=null,w="default",k="",T=!1,D="",$=0,V=0,O=!0,N=!1,P=!1,H="",U="",B="",Y="",S={template:"",r:0,k:4,hybrid:!1};const F=async()=>{if(E===""&&h.split("/").length-1>1){Fe.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="ollama"&&h===""){Fe.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&h===""){Fe.error(s.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&U===""||H===""){Fe.error(s.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",h),t(0,r=!0);const Pe=await Nf(localStorage.token,{embedding_engine:E,embedding_model:h,embedding_batch_size:m,ollama_config:{key:Y,url:B},openai_config:{key:U,url:H}}).catch(async st=>(Fe.error(`${st}`),await J(),null));t(0,r=!1),Pe&&(console.log("embeddingModelUpdateHandler:",Pe),Pe.status===!0&&Fe.success(s.t('Embedding model set to "{{embedding_model}}"',Pe),{duration:1e3*10}))},G=async()=>{console.log("Update reranking model attempt:",g),t(1,c=!0);const Pe=await Df(localStorage.token,{reranking_model:g}).catch(async st=>(Fe.error(`${st}`),await Q(),null));t(1,c=!1),Pe&&(console.log("rerankingModelUpdateHandler:",Pe),Pe.status===!0&&(g===""?Fe.success(s.t("Reranking model disabled",Pe),{duration:1e3*10}):Fe.success(s.t('Reranking model set to "{{reranking_model}}"',Pe),{duration:1e3*10})))},K=async()=>{if(await F(),S.hybrid&&await G(),w==="tika"&&k===""){Fe.error(s.t("Tika Server URL required."));return}await hu(localStorage.token,{pdf_extract_images:O,enable_google_drive_integration:P,file:{max_size:b===""?null:b,max_count:I===""?null:I},RAG_FULL_CONTEXT:N,chunk:{text_splitter:D,chunk_overlap:V,chunk_size:$},content_extraction:{engine:w,tika_server_url:k}}),await Rn(localStorage.token,S),a("save")},J=async()=>{const Pe=await Af(localStorage.token);Pe&&(t(4,E=Pe.embedding_engine),t(5,h=Pe.embedding_model),t(6,m=Pe.embedding_batch_size??1),t(20,U=Pe.openai_config.key),t(19,H=Pe.openai_config.url),t(22,Y=Pe.ollama_config.key),t(21,B=Pe.ollama_config.url))},Q=async()=>{const Pe=await yf(localStorage.token);Pe&&t(7,g=Pe.reranking_model)},X=async()=>{t(23,S.hybrid=!S.hybrid,S),t(23,S=await Rn(localStorage.token,S))};bs(async()=>{await J(),await Q(),t(23,S=await Tf(localStorage.token));const Pe=await _u(localStorage.token);Pe&&(t(16,O=Pe.pdf_extract_images),t(13,D=Pe.chunk.text_splitter),t(14,$=Pe.chunk.chunk_size),t(15,V=Pe.chunk.chunk_overlap),t(17,N=Pe.RAG_FULL_CONTEXT),t(10,w=Pe.content_extraction.engine),t(11,k=Pe.content_extraction.tika_server_url),t(12,T=w==="tika"),t(8,b=(Pe==null?void 0:Pe.file.max_size)??""),t(9,I=(Pe==null?void 0:Pe.file.max_count)??""),t(18,P=Pe.enable_google_drive_integration))});function ie(Pe){p=Pe,t(3,p)}const ue=async()=>{await Vf(localStorage.token).catch(st=>(Fe.error(`${st}`),null))&&Fe.success(s.t("Success"))};function le(Pe){u=Pe,t(2,u)}const z=()=>{$f(localStorage.token).catch(st=>(Fe.error(`${st}`),null))&&Fe.success(s.t("Success"))};function Z(){E=Bl(this),t(4,E)}const q=Pe=>{Pe.target.value==="ollama"?t(5,h=""):Pe.target.value==="openai"?t(5,h="text-embedding-3-small"):Pe.target.value===""&&t(5,h="sentence-transformers/all-MiniLM-L6-v2")};function te(){H=this.value,t(19,H)}function ae(Pe){U=Pe,t(20,U)}function de(){B=this.value,t(21,B)}function ne(Pe){Y=Pe,t(22,Y)}function oe(){m=ts(this.value),t(6,m)}function fe(){m=ts(this.value),t(6,m)}const ke=()=>{X()};function Ee(Pe){N=Pe,t(17,N)}function x(){h=this.value,t(5,h)}function _e(){h=this.value,t(5,h)}const Te=()=>{F()};function be(){g=this.value,t(7,g)}const Ie=()=>{G()};function Me(){w=Bl(this),t(10,w)}const ce=Pe=>{t(12,T=Pe.target.value==="tika")};function De(){k=this.value,t(11,k)}function Ce(Pe){P=Pe,t(18,P)}function Ue(){S.k=ts(this.value),t(23,S)}function se(){S.r=ts(this.value),t(23,S)}function ye(Pe){l.$$.not_equal(S.template,Pe)&&(S.template=Pe,t(23,S))}function Be(){D=Bl(this),t(13,D)}function $e(){$=ts(this.value),t(14,$)}function Le(){V=ts(this.value),t(15,V)}function Ge(Pe){O=Pe,t(16,O)}function qe(){b=ts(this.value),t(8,b)}function Ke(){I=ts(this.value),t(9,I)}return[r,c,u,p,E,h,m,g,b,I,w,k,T,D,$,V,O,N,P,H,U,B,Y,S,s,i,F,G,K,X,ie,ue,le,z,Z,q,te,ae,de,ne,oe,fe,ke,Ee,x,_e,Te,be,Ie,Me,ce,De,Ce,Ue,se,ye,Be,$e,Le,Ge,qe,Ke,()=>{t(3,p=!0)},()=>{t(2,u=!0)},()=>{K()}]}class l1 extends Ml{constructor(e){super(),Rl(this,e,t1,e1,Ll,{},null,[-1,-1,-1])}}function Lo(l,e,t){const s=l.slice();return s[38]=e[t],s}function Mo(l){let e,t,s=l[4].t("Web Search")+"",a,i,r,c,u,p=l[4].t("Enable Web Search")+"",E,h,m,g,b,I,w,k=l[4].t("Web Search Engine")+"",T,D,$,V,O,N=l[4].t("Select a engine")+"",P,H,U,B,Y,S=l[4].t("Full Context Mode")+"",F,G,K,J,Q,X,ie,ue,le,z,Z,q=l[4].t("Web Loader Settings")+"",te,ae,de,ne,oe,fe=l[4].t("Bypass SSL verification for Websites")+"",ke,Ee,x,_e,Te,be=l[4].t("Youtube Loader Settings")+"",Ie,Me,ce,De,Ce,Ue=l[4].t("Language")+"",se,ye,Be,$e,Le,Ge,qe,Ke,je,Ae=l[4].t("Proxy URL")+"",Ve,Pe,st,It,at,Ze,pt,Lt;function Dt(he){l[8](he)}let Tt={};l[1].search.enabled!==void 0&&(Tt.state=l[1].search.enabled),m=new yl({props:Tt}),We.push(()=>Qe(m,"state",Dt));let _t=mt(l[6]),tt=[];for(let he=0;he<_t.length;he+=1)tt[he]=Ro(Lo(l,_t,he));J=new Ht({props:{content:l[1].RAG_WEB_SEARCH_FULL_CONTEXT?"Inject the entire web results as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[s1]},$$scope:{ctx:l}}});let rt=l[1].search.engine!==""&&Co(l),nt=l[1].search.enabled&&Uo(l);function ut(he,Ne){return he[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION===!1?b1:E1}let dt=ut(l),vt=dt(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("div"),E=L(p),h=A(),pe(m.$$.fragment),b=A(),I=d("div"),w=d("div"),T=L(k),D=A(),$=d("div"),V=d("select"),O=d("option"),P=L(N);for(let he=0;he<tt.length;he+=1)tt[he].c();U=A(),B=d("div"),Y=d("div"),F=L(S),G=A(),K=d("div"),pe(J.$$.fragment),Q=A(),rt&&rt.c(),X=A(),nt&&nt.c(),ie=A(),ue=d("hr"),le=A(),z=d("div"),Z=d("div"),te=L(q),ae=A(),de=d("div"),ne=d("div"),oe=d("div"),ke=L(fe),Ee=A(),x=d("button"),vt.c(),_e=A(),Te=d("div"),Ie=L(be),Me=A(),ce=d("div"),De=d("div"),Ce=d("div"),se=L(Ue),ye=A(),Be=d("div"),$e=d("input"),Ge=A(),qe=d("div"),Ke=d("div"),je=d("div"),Ve=L(Ae),Pe=A(),st=d("div"),It=d("input"),this.h()},l(he){e=_(he,"DIV",{});var Ne=v(e);t=_(Ne,"DIV",{class:!0});var kt=v(t);a=M(kt,s),kt.forEach(f),i=y(Ne),r=_(Ne,"DIV",{});var ot=v(r);c=_(ot,"DIV",{class:!0});var gt=v(c);u=_(gt,"DIV",{class:!0});var wt=v(u);E=M(wt,p),wt.forEach(f),h=y(gt),ve(m.$$.fragment,gt),gt.forEach(f),ot.forEach(f),b=y(Ne),I=_(Ne,"DIV",{class:!0});var Mt=v(I);w=_(Mt,"DIV",{class:!0});var zt=v(w);T=M(zt,k),zt.forEach(f),D=y(Mt),$=_(Mt,"DIV",{class:!0});var Kt=v($);V=_(Kt,"SELECT",{class:!0,placeholder:!0});var Xt=v(V);O=_(Xt,"OPTION",{});var Gt=v(O);P=M(Gt,N),Gt.forEach(f);for(let sl=0;sl<tt.length;sl+=1)tt[sl].l(Xt);Xt.forEach(f),Kt.forEach(f),Mt.forEach(f),U=y(Ne),B=_(Ne,"DIV",{class:!0});var ll=v(B);Y=_(ll,"DIV",{class:!0});var qt=v(Y);F=M(qt,S),qt.forEach(f),G=y(ll),K=_(ll,"DIV",{class:!0});var At=v(K);ve(J.$$.fragment,At),At.forEach(f),ll.forEach(f),Q=y(Ne),rt&&rt.l(Ne),X=y(Ne),nt&&nt.l(Ne),Ne.forEach(f),ie=y(he),ue=_(he,"HR",{class:!0}),le=y(he),z=_(he,"DIV",{});var Re=v(z);Z=_(Re,"DIV",{class:!0});var we=v(Z);te=M(we,q),we.forEach(f),ae=y(Re),de=_(Re,"DIV",{});var xe=v(de);ne=_(xe,"DIV",{class:!0});var Ot=v(ne);oe=_(Ot,"DIV",{class:!0});var Ut=v(oe);ke=M(Ut,fe),Ut.forEach(f),Ee=y(Ot),x=_(Ot,"BUTTON",{class:!0,type:!0});var ct=v(x);vt.l(ct),ct.forEach(f),Ot.forEach(f),xe.forEach(f),_e=y(Re),Te=_(Re,"DIV",{class:!0});var Nt=v(Te);Ie=M(Nt,be),Nt.forEach(f),Me=y(Re),ce=_(Re,"DIV",{});var $t=v(ce);De=_($t,"DIV",{class:!0});var Ct=v(De);Ce=_(Ct,"DIV",{class:!0});var He=v(Ce);se=M(He,Ue),He.forEach(f),ye=y(Ct),Be=_(Ct,"DIV",{class:!0});var et=v(Be);$e=_(et,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),et.forEach(f),Ct.forEach(f),$t.forEach(f),Ge=y(Re),qe=_(Re,"DIV",{});var ht=v(qe);Ke=_(ht,"DIV",{class:!0});var Pt=v(Ke);je=_(Pt,"DIV",{class:!0});var Je=v(je);Ve=M(Je,Ae),Je.forEach(f),Pe=y(Pt),st=_(Pt,"DIV",{class:!0});var hl=v(st);It=_(hl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),hl.forEach(f),Pt.forEach(f),ht.forEach(f),Re.forEach(f),this.h()},h(){o(t,"class","mb-1 text-sm font-medium"),o(u,"class","self-center text-xs font-medium"),o(c,"class","py-0.5 flex w-full justify-between"),o(w,"class","self-center text-xs font-medium"),O.disabled=!0,O.selected=!0,O.__value="",ee(O,O.__value),o(V,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(V,"placeholder",H=l[4].t("Select a engine")),V.required=!0,l[1].search.engine===void 0&&Hl(()=>l[9].call(V)),o($,"class","flex items-center relative"),o(I,"class","py-0.5 flex w-full justify-between"),o(Y,"class","self-center text-xs font-medium"),o(K,"class","flex items-center relative"),o(B,"class","py-0.5 flex w-full justify-between"),o(ue,"class","border-gray-100 dark:border-gray-850 my-2"),o(Z,"class","mb-1 text-sm font-medium"),o(oe,"class","self-center text-xs font-medium"),o(x,"class","p-1 px-3 text-xs flex rounded-sm transition"),o(x,"type","button"),o(ne,"class","py-0.5 flex w-full justify-between"),o(Te,"class","mt-2 mb-1 text-sm font-medium"),o(Ce,"class","w-20 text-xs font-medium self-center"),o($e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o($e,"type","text"),o($e,"placeholder",Le=l[4].t("Enter language codes")),o($e,"autocomplete","off"),o(Be,"class","flex-1 self-center"),o(De,"class","py-0.5 flex w-full justify-between"),o(je,"class","w-20 text-xs font-medium self-center"),o(It,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(It,"type","text"),o(It,"placeholder",at=l[4].t("Enter proxy URL (e.g. https://user:password@host:port)")),o(It,"autocomplete","off"),o(st,"class","flex-1 self-center"),o(Ke,"class","py-0.5 flex w-full justify-between")},m(he,Ne){R(he,e,Ne),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(u,E),n(c,h),me(m,c,null),n(e,b),n(e,I),n(I,w),n(w,T),n(I,D),n(I,$),n($,V),n(V,O),n(O,P);for(let kt=0;kt<tt.length;kt+=1)tt[kt]&&tt[kt].m(V,null);jt(V,l[1].search.engine,!0),n(e,U),n(e,B),n(B,Y),n(Y,F),n(B,G),n(B,K),me(J,K,null),n(e,Q),rt&&rt.m(e,null),n(e,X),nt&&nt.m(e,null),R(he,ie,Ne),R(he,ue,Ne),R(he,le,Ne),R(he,z,Ne),n(z,Z),n(Z,te),n(z,ae),n(z,de),n(de,ne),n(ne,oe),n(oe,ke),n(ne,Ee),n(ne,x),vt.m(x,null),n(z,_e),n(z,Te),n(Te,Ie),n(z,Me),n(z,ce),n(ce,De),n(De,Ce),n(Ce,se),n(De,ye),n(De,Be),n(Be,$e),ee($e,l[2]),n(z,Ge),n(z,qe),n(qe,Ke),n(Ke,je),n(je,Ve),n(Ke,Pe),n(Ke,st),n(st,It),ee(It,l[3]),Ze=!0,pt||(Lt=[re(V,"change",l[9]),re(x,"click",l[33]),re($e,"input",l[34]),re(It,"input",l[35])],pt=!0)},p(he,Ne){(!Ze||Ne[0]&16)&&s!==(s=he[4].t("Web Search")+"")&&C(a,s),(!Ze||Ne[0]&16)&&p!==(p=he[4].t("Enable Web Search")+"")&&C(E,p);const kt={};if(!g&&Ne[0]&2&&(g=!0,kt.state=he[1].search.enabled,Xe(()=>g=!1)),m.$set(kt),(!Ze||Ne[0]&16)&&k!==(k=he[4].t("Web Search Engine")+"")&&C(T,k),(!Ze||Ne[0]&16)&&N!==(N=he[4].t("Select a engine")+"")&&C(P,N),Ne[0]&64){_t=mt(he[6]);let gt;for(gt=0;gt<_t.length;gt+=1){const wt=Lo(he,_t,gt);tt[gt]?tt[gt].p(wt,Ne):(tt[gt]=Ro(wt),tt[gt].c(),tt[gt].m(V,null))}for(;gt<tt.length;gt+=1)tt[gt].d(1);tt.length=_t.length}(!Ze||Ne[0]&16&&H!==(H=he[4].t("Select a engine")))&&o(V,"placeholder",H),Ne[0]&66&&jt(V,he[1].search.engine),(!Ze||Ne[0]&16)&&S!==(S=he[4].t("Full Context Mode")+"")&&C(F,S);const ot={};Ne[0]&2&&(ot.content=he[1].RAG_WEB_SEARCH_FULL_CONTEXT?"Inject the entire web results as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),Ne[0]&2|Ne[1]&1024&&(ot.$$scope={dirty:Ne,ctx:he}),J.$set(ot),he[1].search.engine!==""?rt?(rt.p(he,Ne),Ne[0]&2&&j(rt,1)):(rt=Co(he),rt.c(),j(rt,1),rt.m(e,X)):rt&&(Et(),W(rt,1,1,()=>{rt=null}),bt()),he[1].search.enabled?nt?nt.p(he,Ne):(nt=Uo(he),nt.c(),nt.m(e,null)):nt&&(nt.d(1),nt=null),(!Ze||Ne[0]&16)&&q!==(q=he[4].t("Web Loader Settings")+"")&&C(te,q),(!Ze||Ne[0]&16)&&fe!==(fe=he[4].t("Bypass SSL verification for Websites")+"")&&C(ke,fe),dt===(dt=ut(he))&&vt?vt.p(he,Ne):(vt.d(1),vt=dt(he),vt&&(vt.c(),vt.m(x,null))),(!Ze||Ne[0]&16)&&be!==(be=he[4].t("Youtube Loader Settings")+"")&&C(Ie,be),(!Ze||Ne[0]&16)&&Ue!==(Ue=he[4].t("Language")+"")&&C(se,Ue),(!Ze||Ne[0]&16&&Le!==(Le=he[4].t("Enter language codes")))&&o($e,"placeholder",Le),Ne[0]&4&&$e.value!==he[2]&&ee($e,he[2]),(!Ze||Ne[0]&16)&&Ae!==(Ae=he[4].t("Proxy URL")+"")&&C(Ve,Ae),(!Ze||Ne[0]&16&&at!==(at=he[4].t("Enter proxy URL (e.g. https://user:password@host:port)")))&&o(It,"placeholder",at),Ne[0]&8&&It.value!==he[3]&&ee(It,he[3])},i(he){Ze||(j(m.$$.fragment,he),j(J.$$.fragment,he),j(rt),Ze=!0)},o(he){W(m.$$.fragment,he),W(J.$$.fragment,he),W(rt),Ze=!1},d(he){he&&(f(e),f(ie),f(ue),f(le),f(z)),ge(m),Il(tt,he),ge(J),rt&&rt.d(),nt&&nt.d(),vt.d(),pt=!1,bl(Lt)}}}function Ro(l){let e,t=l[38]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[38],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p:ft,d(a){a&&f(e)}}}function s1(l){let e,t,s;function a(r){l[10](r)}let i={};return l[1].RAG_WEB_SEARCH_FULL_CONTEXT!==void 0&&(i.state=l[1].RAG_WEB_SEARCH_FULL_CONTEXT),e=new yl({props:i}),We.push(()=>Qe(e,"state",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};!t&&c[0]&2&&(t=!0,u.state=r[1].RAG_WEB_SEARCH_FULL_CONTEXT,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Co(l){let e,t,s,a;const i=[g1,m1,v1,p1,h1,_1,d1,c1,f1,u1,o1,i1,n1,r1,a1],r=[];function c(u,p){return u[1].search.engine==="searxng"?0:u[1].search.engine==="google_pse"?1:u[1].search.engine==="brave"?2:u[1].search.engine==="kagi"?3:u[1].search.engine==="mojeek"?4:u[1].search.engine==="bocha"?5:u[1].search.engine==="serpstack"?6:u[1].search.engine==="serper"?7:u[1].search.engine==="serply"?8:u[1].search.engine==="searchapi"?9:u[1].search.engine==="serpapi"?10:u[1].search.engine==="tavily"?11:u[1].search.engine==="jina"?12:u[1].search.engine==="exa"?13:u[1].search.engine==="bing"?14:-1}return~(t=c(l))&&(s=r[t]=i[t](l)),{c(){e=d("div"),s&&s.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=v(e);s&&s.l(p),p.forEach(f),this.h()},h(){o(e,"class","mt-1.5")},m(u,p){R(u,e,p),~t&&r[t].m(e,null),a=!0},p(u,p){let E=t;t=c(u),t===E?~t&&r[t].p(u,p):(s&&(Et(),W(r[E],1,1,()=>{r[E]=null}),bt()),~t?(s=r[t],s?s.p(u,p):(s=r[t]=i[t](u),s.c()),j(s,1),s.m(e,null)):s=null)},i(u){a||(j(s),a=!0)},o(u){W(s),a=!1},d(u){u&&f(e),~t&&r[t].d()}}}function a1(l){let e,t,s=l[4].t("Bing Search V7 Endpoint")+"",a,i,r,c,u,p,E,h,m,g=l[4].t("Bing Search V7 Subscription Key")+"",b,I,w,k,T,D,$;function V(N){l[29](N)}let O={placeholder:l[4].t("Enter Bing Search V7 Subscription Key")};return l[1].search.bing_search_v7_subscription_key!==void 0&&(O.value=l[1].search.bing_search_v7_subscription_key),w=new $l({props:O}),We.push(()=>Qe(w,"value",V)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("div"),m=d("div"),b=L(g),I=A(),pe(w.$$.fragment),this.h()},l(N){e=_(N,"DIV",{});var P=v(e);t=_(P,"DIV",{class:!0});var H=v(t);a=M(H,s),H.forEach(f),i=y(P),r=_(P,"DIV",{class:!0});var U=v(r);c=_(U,"DIV",{class:!0});var B=v(c);u=_(B,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),B.forEach(f),U.forEach(f),P.forEach(f),E=y(N),h=_(N,"DIV",{class:!0});var Y=v(h);m=_(Y,"DIV",{class:!0});var S=v(m);b=M(S,g),S.forEach(f),I=y(Y),ve(w.$$.fragment,Y),Y.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"type","text"),o(u,"placeholder",p=l[4].t("Enter Bing Search V7 Endpoint")),o(u,"autocomplete","off"),o(c,"class","flex-1"),o(r,"class","flex w-full"),o(m,"class","self-center text-xs font-medium mb-1"),o(h,"class","mt-2")},m(N,P){R(N,e,P),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].search.bing_search_v7_endpoint),R(N,E,P),R(N,h,P),n(h,m),n(m,b),n(h,I),me(w,h,null),T=!0,D||($=re(u,"input",l[28]),D=!0)},p(N,P){(!T||P[0]&16)&&s!==(s=N[4].t("Bing Search V7 Endpoint")+"")&&C(a,s),(!T||P[0]&16&&p!==(p=N[4].t("Enter Bing Search V7 Endpoint")))&&o(u,"placeholder",p),P[0]&66&&u.value!==N[1].search.bing_search_v7_endpoint&&ee(u,N[1].search.bing_search_v7_endpoint),(!T||P[0]&16)&&g!==(g=N[4].t("Bing Search V7 Subscription Key")+"")&&C(b,g);const H={};P[0]&16&&(H.placeholder=N[4].t("Enter Bing Search V7 Subscription Key")),!k&&P[0]&2&&(k=!0,H.value=N[1].search.bing_search_v7_subscription_key,Xe(()=>k=!1)),w.$set(H)},i(N){T||(j(w.$$.fragment,N),T=!0)},o(N){W(w.$$.fragment,N),T=!1},d(N){N&&(f(e),f(E),f(h)),ge(w),D=!1,$()}}}function r1(l){let e,t,s=l[4].t("Exa API Key")+"",a,i,r,c,u;function p(h){l[27](h)}let E={placeholder:l[4].t("Enter Exa API Key")};return l[1].search.exa_api_key!==void 0&&(E.value=l[1].search.exa_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Exa API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Exa API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.exa_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function n1(l){let e,t,s=l[4].t("Jina API Key")+"",a,i,r,c,u;function p(h){l[26](h)}let E={placeholder:l[4].t("Enter Jina API Key")};return l[1].search.jina_api_key!==void 0&&(E.value=l[1].search.jina_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Jina API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Jina API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.jina_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function i1(l){let e,t,s=l[4].t("Tavily API Key")+"",a,i,r,c,u;function p(h){l[25](h)}let E={placeholder:l[4].t("Enter Tavily API Key")};return l[1].search.tavily_api_key!==void 0&&(E.value=l[1].search.tavily_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Tavily API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Tavily API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.tavily_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function o1(l){let e,t,s=l[4].t("SerpApi API Key")+"",a,i,r,c,u,p,E,h=l[4].t("SerpApi Engine")+"",m,g,b,I,w,k,T,D,$;function V(N){l[23](N)}let O={placeholder:l[4].t("Enter SerpApi API Key")};return l[1].search.serpapi_api_key!==void 0&&(O.value=l[1].search.serpapi_api_key),r=new $l({props:O}),We.push(()=>Qe(r,"value",V)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),u=A(),p=d("div"),E=d("div"),m=L(h),g=A(),b=d("div"),I=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{});var P=v(e);t=_(P,"DIV",{class:!0});var H=v(t);a=M(H,s),H.forEach(f),i=y(P),ve(r.$$.fragment,P),P.forEach(f),u=y(N),p=_(N,"DIV",{class:!0});var U=v(p);E=_(U,"DIV",{class:!0});var B=v(E);m=M(B,h),B.forEach(f),g=y(U),b=_(U,"DIV",{class:!0});var Y=v(b);I=_(Y,"DIV",{class:!0});var S=v(I);w=_(S,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),S.forEach(f),Y.forEach(f),U.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(E,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter SerpApi Engine")),o(w,"autocomplete","off"),o(I,"class","flex-1"),o(b,"class","flex w-full"),o(p,"class","mt-1.5")},m(N,P){R(N,e,P),n(e,t),n(t,a),n(e,i),me(r,e,null),R(N,u,P),R(N,p,P),n(p,E),n(E,m),n(p,g),n(p,b),n(b,I),n(I,w),ee(w,l[1].search.serpapi_engine),T=!0,D||($=re(w,"input",l[24]),D=!0)},p(N,P){(!T||P[0]&16)&&s!==(s=N[4].t("SerpApi API Key")+"")&&C(a,s);const H={};P[0]&16&&(H.placeholder=N[4].t("Enter SerpApi API Key")),!c&&P[0]&2&&(c=!0,H.value=N[1].search.serpapi_api_key,Xe(()=>c=!1)),r.$set(H),(!T||P[0]&16)&&h!==(h=N[4].t("SerpApi Engine")+"")&&C(m,h),(!T||P[0]&16&&k!==(k=N[4].t("Enter SerpApi Engine")))&&o(w,"placeholder",k),P[0]&66&&w.value!==N[1].search.serpapi_engine&&ee(w,N[1].search.serpapi_engine)},i(N){T||(j(r.$$.fragment,N),T=!0)},o(N){W(r.$$.fragment,N),T=!1},d(N){N&&(f(e),f(u),f(p)),ge(r),D=!1,$()}}}function u1(l){let e,t,s=l[4].t("SearchApi API Key")+"",a,i,r,c,u,p,E,h=l[4].t("SearchApi Engine")+"",m,g,b,I,w,k,T,D,$;function V(N){l[21](N)}let O={placeholder:l[4].t("Enter SearchApi API Key")};return l[1].search.searchapi_api_key!==void 0&&(O.value=l[1].search.searchapi_api_key),r=new $l({props:O}),We.push(()=>Qe(r,"value",V)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),u=A(),p=d("div"),E=d("div"),m=L(h),g=A(),b=d("div"),I=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{});var P=v(e);t=_(P,"DIV",{class:!0});var H=v(t);a=M(H,s),H.forEach(f),i=y(P),ve(r.$$.fragment,P),P.forEach(f),u=y(N),p=_(N,"DIV",{class:!0});var U=v(p);E=_(U,"DIV",{class:!0});var B=v(E);m=M(B,h),B.forEach(f),g=y(U),b=_(U,"DIV",{class:!0});var Y=v(b);I=_(Y,"DIV",{class:!0});var S=v(I);w=_(S,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),S.forEach(f),Y.forEach(f),U.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(E,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter SearchApi Engine")),o(w,"autocomplete","off"),o(I,"class","flex-1"),o(b,"class","flex w-full"),o(p,"class","mt-1.5")},m(N,P){R(N,e,P),n(e,t),n(t,a),n(e,i),me(r,e,null),R(N,u,P),R(N,p,P),n(p,E),n(E,m),n(p,g),n(p,b),n(b,I),n(I,w),ee(w,l[1].search.searchapi_engine),T=!0,D||($=re(w,"input",l[22]),D=!0)},p(N,P){(!T||P[0]&16)&&s!==(s=N[4].t("SearchApi API Key")+"")&&C(a,s);const H={};P[0]&16&&(H.placeholder=N[4].t("Enter SearchApi API Key")),!c&&P[0]&2&&(c=!0,H.value=N[1].search.searchapi_api_key,Xe(()=>c=!1)),r.$set(H),(!T||P[0]&16)&&h!==(h=N[4].t("SearchApi Engine")+"")&&C(m,h),(!T||P[0]&16&&k!==(k=N[4].t("Enter SearchApi Engine")))&&o(w,"placeholder",k),P[0]&66&&w.value!==N[1].search.searchapi_engine&&ee(w,N[1].search.searchapi_engine)},i(N){T||(j(r.$$.fragment,N),T=!0)},o(N){W(r.$$.fragment,N),T=!1},d(N){N&&(f(e),f(u),f(p)),ge(r),D=!1,$()}}}function f1(l){let e,t,s=l[4].t("Serply API Key")+"",a,i,r,c,u;function p(h){l[20](h)}let E={placeholder:l[4].t("Enter Serply API Key")};return l[1].search.serply_api_key!==void 0&&(E.value=l[1].search.serply_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Serply API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Serply API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.serply_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function c1(l){let e,t,s=l[4].t("Serper API Key")+"",a,i,r,c,u;function p(h){l[19](h)}let E={placeholder:l[4].t("Enter Serper API Key")};return l[1].search.serper_api_key!==void 0&&(E.value=l[1].search.serper_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Serper API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Serper API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.serper_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function d1(l){let e,t,s=l[4].t("Serpstack API Key")+"",a,i,r,c,u;function p(h){l[18](h)}let E={placeholder:l[4].t("Enter Serpstack API Key")};return l[1].search.serpstack_api_key!==void 0&&(E.value=l[1].search.serpstack_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Serpstack API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Serpstack API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.serpstack_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function _1(l){let e,t,s=l[4].t("Bocha Search API Key")+"",a,i,r,c,u;function p(h){l[17](h)}let E={placeholder:l[4].t("Enter Bocha Search API Key")};return l[1].search.bocha_search_api_key!==void 0&&(E.value=l[1].search.bocha_search_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Bocha Search API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Bocha Search API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.bocha_search_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function h1(l){let e,t,s=l[4].t("Mojeek Search API Key")+"",a,i,r,c,u;function p(h){l[16](h)}let E={placeholder:l[4].t("Enter Mojeek Search API Key")};return l[1].search.mojeek_search_api_key!==void 0&&(E.value=l[1].search.mojeek_search_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Mojeek Search API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Mojeek Search API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.mojeek_search_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function p1(l){let e,t,s=l[4].t("Kagi Search API Key")+"",a,i,r,c,u;function p(h){l[15](h)}let E={placeholder:l[4].t("Enter Kagi Search API Key")};return l[1].search.kagi_search_api_key!==void 0&&(E.value=l[1].search.kagi_search_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Kagi Search API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Kagi Search API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.kagi_search_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function v1(l){let e,t,s=l[4].t("Brave Search API Key")+"",a,i,r,c,u;function p(h){l[14](h)}let E={placeholder:l[4].t("Enter Brave Search API Key")};return l[1].search.brave_search_api_key!==void 0&&(E.value=l[1].search.brave_search_api_key),r=new $l({props:E}),We.push(()=>Qe(r,"value",p)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),this.h()},l(h){e=_(h,"DIV",{});var m=v(e);t=_(m,"DIV",{class:!0});var g=v(t);a=M(g,s),g.forEach(f),i=y(m),ve(r.$$.fragment,m),m.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1")},m(h,m){R(h,e,m),n(e,t),n(t,a),n(e,i),me(r,e,null),u=!0},p(h,m){(!u||m[0]&16)&&s!==(s=h[4].t("Brave Search API Key")+"")&&C(a,s);const g={};m[0]&16&&(g.placeholder=h[4].t("Enter Brave Search API Key")),!c&&m[0]&2&&(c=!0,g.value=h[1].search.brave_search_api_key,Xe(()=>c=!1)),r.$set(g)},i(h){u||(j(r.$$.fragment,h),u=!0)},o(h){W(r.$$.fragment,h),u=!1},d(h){h&&f(e),ge(r)}}}function m1(l){let e,t,s=l[4].t("Google PSE API Key")+"",a,i,r,c,u,p,E,h=l[4].t("Google PSE Engine Id")+"",m,g,b,I,w,k,T,D,$;function V(N){l[12](N)}let O={placeholder:l[4].t("Enter Google PSE API Key")};return l[1].search.google_pse_api_key!==void 0&&(O.value=l[1].search.google_pse_api_key),r=new $l({props:O}),We.push(()=>Qe(r,"value",V)),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),pe(r.$$.fragment),u=A(),p=d("div"),E=d("div"),m=L(h),g=A(),b=d("div"),I=d("div"),w=d("input"),this.h()},l(N){e=_(N,"DIV",{});var P=v(e);t=_(P,"DIV",{class:!0});var H=v(t);a=M(H,s),H.forEach(f),i=y(P),ve(r.$$.fragment,P),P.forEach(f),u=y(N),p=_(N,"DIV",{class:!0});var U=v(p);E=_(U,"DIV",{class:!0});var B=v(E);m=M(B,h),B.forEach(f),g=y(U),b=_(U,"DIV",{class:!0});var Y=v(b);I=_(Y,"DIV",{class:!0});var S=v(I);w=_(S,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),S.forEach(f),Y.forEach(f),U.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(E,"class","self-center text-xs font-medium mb-1"),o(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(w,"type","text"),o(w,"placeholder",k=l[4].t("Enter Google PSE Engine Id")),o(w,"autocomplete","off"),o(I,"class","flex-1"),o(b,"class","flex w-full"),o(p,"class","mt-1.5")},m(N,P){R(N,e,P),n(e,t),n(t,a),n(e,i),me(r,e,null),R(N,u,P),R(N,p,P),n(p,E),n(E,m),n(p,g),n(p,b),n(b,I),n(I,w),ee(w,l[1].search.google_pse_engine_id),T=!0,D||($=re(w,"input",l[13]),D=!0)},p(N,P){(!T||P[0]&16)&&s!==(s=N[4].t("Google PSE API Key")+"")&&C(a,s);const H={};P[0]&16&&(H.placeholder=N[4].t("Enter Google PSE API Key")),!c&&P[0]&2&&(c=!0,H.value=N[1].search.google_pse_api_key,Xe(()=>c=!1)),r.$set(H),(!T||P[0]&16)&&h!==(h=N[4].t("Google PSE Engine Id")+"")&&C(m,h),(!T||P[0]&16&&k!==(k=N[4].t("Enter Google PSE Engine Id")))&&o(w,"placeholder",k),P[0]&66&&w.value!==N[1].search.google_pse_engine_id&&ee(w,N[1].search.google_pse_engine_id)},i(N){T||(j(r.$$.fragment,N),T=!0)},o(N){W(r.$$.fragment,N),T=!1},d(N){N&&(f(e),f(u),f(p)),ge(r),D=!1,$()}}}function g1(l){let e,t,s=l[4].t("Searxng Query URL")+"",a,i,r,c,u,p,E,h;return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),this.h()},l(m){e=_(m,"DIV",{});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);a=M(b,s),b.forEach(f),i=y(g),r=_(g,"DIV",{class:!0});var I=v(r);c=_(I,"DIV",{class:!0});var w=v(c);u=_(w,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),w.forEach(f),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","self-center text-xs font-medium mb-1"),o(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(u,"type","text"),o(u,"placeholder",p=l[4].t("Enter Searxng Query URL")),o(u,"autocomplete","off"),o(c,"class","flex-1"),o(r,"class","flex w-full")},m(m,g){R(m,e,g),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].search.searxng_query_url),E||(h=re(u,"input",l[11]),E=!0)},p(m,g){g[0]&16&&s!==(s=m[4].t("Searxng Query URL")+"")&&C(a,s),g[0]&16&&p!==(p=m[4].t("Enter Searxng Query URL"))&&o(u,"placeholder",p),g[0]&66&&u.value!==m[1].search.searxng_query_url&&ee(u,m[1].search.searxng_query_url)},i:ft,o:ft,d(m){m&&f(e),E=!1,h()}}}function Uo(l){let e,t,s,a=l[4].t("Search Result Count")+"",i,r,c,u,p,E,h,m=l[4].t("Concurrent Requests")+"",g,b,I,w,k,T,D,$=l[4].t("Domain Filter List")+"",V,O,N,P,H,U;return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("input"),p=A(),E=d("div"),h=d("div"),g=L(m),b=A(),I=d("input"),k=A(),T=d("div"),D=d("div"),V=L($),O=A(),N=d("input"),this.h()},l(B){e=_(B,"DIV",{class:!0});var Y=v(e);t=_(Y,"DIV",{class:!0});var S=v(t);s=_(S,"DIV",{class:!0});var F=v(s);i=M(F,a),F.forEach(f),r=y(S),c=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(f),p=y(Y),E=_(Y,"DIV",{class:!0});var G=v(E);h=_(G,"DIV",{class:!0});var K=v(h);g=M(K,m),K.forEach(f),b=y(G),I=_(G,"INPUT",{class:!0,placeholder:!0}),G.forEach(f),Y.forEach(f),k=y(B),T=_(B,"DIV",{class:!0});var J=v(T);D=_(J,"DIV",{class:!0});var Q=v(D);V=M(Q,$),Q.forEach(f),O=y(J),N=_(J,"INPUT",{class:!0,placeholder:!0}),J.forEach(f),this.h()},h(){o(s,"class","self-center text-xs font-medium mb-1"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(c,"placeholder",u=l[4].t("Search Result Count")),c.required=!0,o(t,"class","w-full"),o(h,"class","self-center text-xs font-medium mb-1"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(I,"placeholder",w=l[4].t("Concurrent Requests")),I.required=!0,o(E,"class","w-full"),o(e,"class","mt-2 flex gap-2 mb-1"),o(D,"class","self-center text-xs font-medium mb-1"),o(N,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),o(N,"placeholder",P=l[4].t("Enter domains separated by commas (e.g., example.com,site.org)")),o(T,"class","mt-2")},m(B,Y){R(B,e,Y),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),ee(c,l[1].search.result_count),n(e,p),n(e,E),n(E,h),n(h,g),n(E,b),n(E,I),ee(I,l[1].search.concurrent_requests),R(B,k,Y),R(B,T,Y),n(T,D),n(D,V),n(T,O),n(T,N),ee(N,l[1].search.domain_filter_list),H||(U=[re(c,"input",l[30]),re(I,"input",l[31]),re(N,"input",l[32])],H=!0)},p(B,Y){Y[0]&16&&a!==(a=B[4].t("Search Result Count")+"")&&C(i,a),Y[0]&16&&u!==(u=B[4].t("Search Result Count"))&&o(c,"placeholder",u),Y[0]&66&&c.value!==B[1].search.result_count&&ee(c,B[1].search.result_count),Y[0]&16&&m!==(m=B[4].t("Concurrent Requests")+"")&&C(g,m),Y[0]&16&&w!==(w=B[4].t("Concurrent Requests"))&&o(I,"placeholder",w),Y[0]&66&&I.value!==B[1].search.concurrent_requests&&ee(I,B[1].search.concurrent_requests),Y[0]&16&&$!==($=B[4].t("Domain Filter List")+"")&&C(V,$),Y[0]&16&&P!==(P=B[4].t("Enter domains separated by commas (e.g., example.com,site.org)"))&&o(N,"placeholder",P),Y[0]&66&&N.value!==B[1].search.domain_filter_list&&ee(N,B[1].search.domain_filter_list)},d(B){B&&(f(e),f(k),f(T)),H=!1,bl(U)}}}function E1(l){let e,t=l[4].t("Off")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16&&t!==(t=a[4].t("Off")+"")&&C(s,t)},d(a){a&&f(e)}}}function b1(l){let e,t=l[4].t("On")+"",s;return{c(){e=d("span"),s=L(t),this.h()},l(a){e=_(a,"SPAN",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","ml-2 self-center")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16&&t!==(t=a[4].t("On")+"")&&C(s,t)},d(a){a&&f(e)}}}function I1(l){let e,t,s,a,i,r=l[4].t("Save")+"",c,u,p,E,h=l[1]&&Mo(l);return{c(){e=d("form"),t=d("div"),h&&h.c(),s=A(),a=d("div"),i=d("button"),c=L(r),this.h()},l(m){e=_(m,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);h&&h.l(b),b.forEach(f),s=y(g),a=_(g,"DIV",{class:!0});var I=v(a);i=_(I,"BUTTON",{class:!0,type:!0});var w=v(i);c=M(w,r),w.forEach(f),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){R(m,e,g),n(e,t),h&&h.m(t,null),n(e,s),n(e,a),n(a,i),n(i,c),u=!0,p||(E=re(e,"submit",Hs(l[36])),p=!0)},p(m,g){m[1]?h?(h.p(m,g),g[0]&2&&j(h,1)):(h=Mo(m),h.c(),j(h,1),h.m(t,null)):h&&(Et(),W(h,1,1,()=>{h=null}),bt()),(!u||g[0]&16)&&r!==(r=m[4].t("Save")+"")&&C(c,r)},i(m){u||(j(h),u=!0)},o(m){W(h),u=!1},d(m){m&&f(e),h&&h.d(),p=!1,E()}}}function w1(l,e,t){let s;const a=Kl("i18n");Wt(l,a,q=>t(4,s=q));let{saveHandler:i}=e,r=null,c=["searxng","google_pse","brave","kagi","mojeek","bocha","serpstack","serper","serply","searchapi","serpapi","duckduckgo","tavily","jina","bing","exa"],u="en",p=null,E="";const h=async()=>{r.search.domain_filter_list?t(1,r.search.domain_filter_list=r.search.domain_filter_list.split(",").map(q=>q.trim()).filter(q=>q.length>0),r):t(1,r.search.domain_filter_list=[],r),await hu(localStorage.token,{web:r,youtube:{language:u.split(",").map(q=>q.trim()),translation:p,proxy_url:E}}),t(1,r.search.domain_filter_list=r.search.domain_filter_list.join(", "),r)};bs(async()=>{var te;const q=await _u(localStorage.token);q&&(t(1,r=q.web),(te=r==null?void 0:r.search)!=null&&te.domain_filter_list&&t(1,r.search.domain_filter_list=r.search.domain_filter_list.join(", "),r),t(2,u=q.youtube.language.join(",")),p=q.youtube.translation,t(3,E=q.youtube.proxy_url))});function m(q){l.$$.not_equal(r.search.enabled,q)&&(r.search.enabled=q,t(1,r))}function g(){r.search.engine=Bl(this),t(1,r),t(6,c)}function b(q){l.$$.not_equal(r.RAG_WEB_SEARCH_FULL_CONTEXT,q)&&(r.RAG_WEB_SEARCH_FULL_CONTEXT=q,t(1,r))}function I(){r.search.searxng_query_url=this.value,t(1,r),t(6,c)}function w(q){l.$$.not_equal(r.search.google_pse_api_key,q)&&(r.search.google_pse_api_key=q,t(1,r))}function k(){r.search.google_pse_engine_id=this.value,t(1,r),t(6,c)}function T(q){l.$$.not_equal(r.search.brave_search_api_key,q)&&(r.search.brave_search_api_key=q,t(1,r))}function D(q){l.$$.not_equal(r.search.kagi_search_api_key,q)&&(r.search.kagi_search_api_key=q,t(1,r))}function $(q){l.$$.not_equal(r.search.mojeek_search_api_key,q)&&(r.search.mojeek_search_api_key=q,t(1,r))}function V(q){l.$$.not_equal(r.search.bocha_search_api_key,q)&&(r.search.bocha_search_api_key=q,t(1,r))}function O(q){l.$$.not_equal(r.search.serpstack_api_key,q)&&(r.search.serpstack_api_key=q,t(1,r))}function N(q){l.$$.not_equal(r.search.serper_api_key,q)&&(r.search.serper_api_key=q,t(1,r))}function P(q){l.$$.not_equal(r.search.serply_api_key,q)&&(r.search.serply_api_key=q,t(1,r))}function H(q){l.$$.not_equal(r.search.searchapi_api_key,q)&&(r.search.searchapi_api_key=q,t(1,r))}function U(){r.search.searchapi_engine=this.value,t(1,r),t(6,c)}function B(q){l.$$.not_equal(r.search.serpapi_api_key,q)&&(r.search.serpapi_api_key=q,t(1,r))}function Y(){r.search.serpapi_engine=this.value,t(1,r),t(6,c)}function S(q){l.$$.not_equal(r.search.tavily_api_key,q)&&(r.search.tavily_api_key=q,t(1,r))}function F(q){l.$$.not_equal(r.search.jina_api_key,q)&&(r.search.jina_api_key=q,t(1,r))}function G(q){l.$$.not_equal(r.search.exa_api_key,q)&&(r.search.exa_api_key=q,t(1,r))}function K(){r.search.bing_search_v7_endpoint=this.value,t(1,r),t(6,c)}function J(q){l.$$.not_equal(r.search.bing_search_v7_subscription_key,q)&&(r.search.bing_search_v7_subscription_key=q,t(1,r))}function Q(){r.search.result_count=this.value,t(1,r),t(6,c)}function X(){r.search.concurrent_requests=this.value,t(1,r),t(6,c)}function ie(){r.search.domain_filter_list=this.value,t(1,r),t(6,c)}const ue=()=>{t(1,r.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION=!r.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION,r),h()};function le(){u=this.value,t(2,u)}function z(){E=this.value,t(3,E)}const Z=async()=>{await h(),i()};return l.$$set=q=>{"saveHandler"in q&&t(0,i=q.saveHandler)},[i,r,u,E,s,a,c,h,m,g,b,I,w,k,T,D,$,V,O,N,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z,Z]}class k1 extends Ml{constructor(e){super(),Rl(this,e,w1,I1,Ll,{saveHandler:0},null,[-1,-1])}}function T1(l){let e,t,s;return{c(){e=vl("svg"),t=vl("path"),s=vl("path"),this.h()},l(a){e=ml(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=ml(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),v(t).forEach(f),s=ml(i,"path",{d:!0}),v(s).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM9.75 17.25a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-.75Zm2.25-3a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3.75-1.5a.75.75 0 0 0-1.5 0V18a.75.75 0 0 0 1.5 0v-5.25Z"),o(t,"clip-rule","evenodd"),o(s,"d","M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 24 24"),o(e,"fill","currentColor"),o(e,"class",l[0])},m(a,i){R(a,e,i),n(e,t),n(e,s)},p(a,[i]){i&1&&o(e,"class",a[0])},i:ft,o:ft,d(a){a&&f(e)}}}function D1(l,e,t){let{className:s="size-4"}=e,{strokeWidth:a="1.5"}=e;return l.$$set=i=>{"className"in i&&t(0,s=i.className),"strokeWidth"in i&&t(1,a=i.strokeWidth)},[s,a]}class A1 extends Ml{constructor(e){super(),Rl(this,e,D1,T1,Ll,{className:0,strokeWidth:1})}}function Bo(l,e,t){const s=l.slice();return s[2]=e[t],s}function Ho(l,e,t){const s=l.slice();return s[39]=e[t],s[41]=t,s}function y1(l){let e=l[14].t("Add Arena Model")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Add Arena Model")+"")&&C(t,e)},d(s){s&&f(t)}}}function $1(l){let e=l[14].t("Edit Arena Model")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Edit Arena Model")+"")&&C(t,e)},d(s){s&&f(t)}}}function N1(l){let e=l[14].t("Exclude")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Exclude")+"")&&C(t,e)},d(s){s&&f(t)}}}function V1(l){let e=l[14].t("Include")+"",t;return{c(){t=L(e)},l(s){t=M(s,e)},m(s,a){R(s,t,a)},p(s,a){a[0]&16384&&e!==(e=s[14].t("Include")+"")&&C(t,e)},d(s){s&&f(t)}}}function O1(l){let e,t=l[14].t("Leave empty to include all models or select specific models")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-gray-500 text-xs text-center py-2")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i[0]&16384&&t!==(t=a[14].t("Leave empty to include all models or select specific models")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function P1(l){let e,t,s=mt(l[8]),a=[];for(let r=0;r<s.length;r+=1)a[r]=Go(Ho(l,s,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var c=v(e);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(f),this.h()},h(){o(e,"class","flex flex-col")},m(r,c){R(r,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(r,c){if(c[0]&8448){s=mt(r[8]);let u;for(u=0;u<s.length;u+=1){const p=Ho(r,s,u);a[u]?(a[u].p(p,c),j(a[u],1)):(a[u]=Go(p),a[u].c(),j(a[u],1),a[u].m(e,null))}for(Et(),u=s.length;u<a.length;u+=1)i(u);bt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)j(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)W(a[c]);t=!1},d(r){r&&f(e),Il(a,r)}}}function Go(l){var I;let e,t,s=((I=l[13].find(g))==null?void 0:I.name)+"",a,i,r,c,u,p,E,h,m;function g(...w){return l[28](l[39],...w)}u=new ou({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return l[29](l[41])}return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("button"),pe(u.$$.fragment),p=A(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);a=M(T,s),T.forEach(f),i=y(k),r=_(k,"DIV",{class:!0});var D=v(r);c=_(D,"BUTTON",{type:!0});var $=v(c);ve(u.$$.fragment,$),$.forEach(f),D.forEach(f),p=y(k),k.forEach(f),this.h()},h(){o(t,"class","text-sm flex-1 py-1 rounded-lg"),o(c,"type","button"),o(r,"class","shrink-0"),o(e,"class","flex gap-2 w-full justify-between items-center")},m(w,k){R(w,e,k),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),me(u,c,null),n(e,p),E=!0,h||(m=re(c,"click",b),h=!0)},p(w,k){var T;l=w,(!E||k[0]&8448)&&s!==(s=((T=l[13].find(g))==null?void 0:T.name)+"")&&C(a,s)},i(w){E||(j(u.$$.fragment,w),E=!0)},o(w){W(u.$$.fragment,w),E=!1},d(w){w&&f(e),ge(u),h=!1,m()}}}function jo(l){let e,t=l[2].name+"",s,a;return{c(){e=d("option"),s=L(t),this.h()},l(i){e=_(i,"OPTION",{class:!0});var r=v(e);s=M(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[2].id,ee(e,e.__value),o(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,r){R(i,e,r),n(e,s)},p(i,r){r[0]&8192&&t!==(t=i[2].name+"")&&C(s,t),r[0]&8192&&a!==(a=i[2].id)&&(e.__value=a,ee(e,e.__value))},d(i){i&&f(e)}}}function Ko(l){let e,t=l[14].t("Delete")+"",s,a,i;return{c(){e=d("button"),s=L(t),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);s=M(c,t),c.forEach(f),this.h()},h(){o(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),o(e,"type","button")},m(r,c){R(r,e,c),n(e,s),a||(i=re(e,"click",l[32]),a=!0)},p(r,c){c[0]&16384&&t!==(t=r[14].t("Delete")+"")&&C(s,t)},d(r){r&&f(e),a=!1,i()}}}function Yo(l){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),Bt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(s,a){R(s,e,a)},d(s){s&&f(e)}}}function S1(l){let e,t,s,a,i,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,u,p,E,h,m,g,b,I,w,k,T,D,$,V,O,N,P,H,U=l[14].t("Name")+"",B,Y,S,F,G,K,J,Q,X=l[14].t("ID")+"",ie,ue,le,z,Z,q,te,ae,de=l[14].t("Description")+"",ne,oe,fe,ke,Ee,x,_e,Te,be,Ie,Me,ce,De,Ce,Ue,se,ye,Be,$e=l[14].t("Models")+"",Le,Ge,qe,Ke,je,Ae,Ve,Pe,st,It,at,Ze,pt,Lt=l[14].t("Select a model")+"",Dt,Tt,_t,tt,rt,nt,ut,dt,vt,he,Ne=l[14].t("Save")+"",kt,ot,gt,wt,Mt,zt;function Kt(He,et){return He[1]?$1:y1}let Xt=Kt(l),Gt=Xt(l);V=new Rf({props:{className:"size-4"}});function ll(He){l[26](He)}let qt={};l[10]!==void 0&&(qt.accessControl=l[10]),Me=new Sf({props:qt}),We.push(()=>Qe(Me,"accessControl",ll));function At(He,et){return He[9]==="include"?V1:N1}let Re=At(l),we=Re(l);const xe=[P1,O1],Ot=[];function Ut(He,et){return He[8].length>0?0:1}Ae=Ut(l),Ve=Ot[Ae]=xe[Ae](l);let ct=mt(l[13].filter(Fo)),Nt=[];for(let He=0;He<ct.length;He+=1)Nt[He]=jo(Bo(l,ct,He));nt=new Jr({props:{className:"size-3.5",strokeWidth:"2"}});let $t=l[1]&&Ko(l),Ct=l[12]&&Yo();return{c(){e=d("div"),t=d("div"),s=d("div"),Gt.c(),a=A(),i=d("button"),i.innerHTML=r,c=A(),u=d("div"),p=d("div"),E=d("form"),h=d("div"),m=d("div"),g=d("input"),b=A(),I=d("button"),w=d("img"),T=A(),D=d("div"),$=d("div"),pe(V.$$.fragment),O=A(),N=d("div"),P=d("div"),H=d("div"),B=L(U),Y=A(),S=d("div"),F=d("input"),K=A(),J=d("div"),Q=d("div"),ie=L(X),ue=A(),le=d("div"),z=d("input"),q=A(),te=d("div"),ae=d("div"),ne=L(de),oe=A(),fe=d("div"),ke=d("input"),x=A(),_e=d("hr"),Te=A(),be=d("div"),Ie=d("div"),pe(Me.$$.fragment),De=A(),Ce=d("hr"),Ue=A(),se=d("div"),ye=d("div"),Be=d("div"),Le=L($e),Ge=A(),qe=d("div"),Ke=d("button"),we.c(),je=A(),Ve.c(),Pe=A(),st=d("hr"),It=A(),at=d("div"),Ze=d("select"),pt=d("option"),Dt=L(Lt);for(let He=0;He<Nt.length;He+=1)Nt[He].c();_t=A(),tt=d("div"),rt=d("button"),pe(nt.$$.fragment),ut=A(),dt=d("div"),$t&&$t.c(),vt=A(),he=d("button"),kt=L(Ne),ot=A(),Ct&&Ct.c(),this.h()},l(He){e=_(He,"DIV",{});var et=v(e);t=_(et,"DIV",{class:!0});var ht=v(t);s=_(ht,"DIV",{class:!0});var Pt=v(s);Gt.l(Pt),Pt.forEach(f),a=y(ht),i=_(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),Bt(i)!=="svelte-745w2y"&&(i.innerHTML=r),ht.forEach(f),c=y(et),u=_(et,"DIV",{class:!0});var Je=v(u);p=_(Je,"DIV",{class:!0});var hl=v(p);E=_(hl,"FORM",{class:!0});var sl=v(E);h=_(sl,"DIV",{class:!0});var Qt=v(h);m=_(Qt,"DIV",{class:!0});var Zt=v(m);g=_(Zt,"INPUT",{type:!0,accept:!0}),b=y(Zt),I=_(Zt,"BUTTON",{class:!0,type:!0});var rl=v(I);w=_(rl,"IMG",{src:!0,class:!0,alt:!0}),T=y(rl),D=_(rl,"DIV",{class:!0});var it=v(D);$=_(it,"DIV",{class:!0});var yt=v($);ve(V.$$.fragment,yt),yt.forEach(f),it.forEach(f),rl.forEach(f),Zt.forEach(f),O=y(Qt),N=_(Qt,"DIV",{class:!0});var Rt=v(N);P=_(Rt,"DIV",{class:!0});var dl=v(P);H=_(dl,"DIV",{class:!0});var Tl=v(H);B=M(Tl,U),Tl.forEach(f),Y=y(dl),S=_(dl,"DIV",{class:!0});var gl=v(S);F=_(gl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),gl.forEach(f),dl.forEach(f),K=y(Rt),J=_(Rt,"DIV",{class:!0});var wl=v(J);Q=_(wl,"DIV",{class:!0});var Yt=v(Q);ie=M(Yt,X),Yt.forEach(f),ue=y(wl),le=_(wl,"DIV",{class:!0});var Nl=v(le);z=_(Nl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Nl.forEach(f),wl.forEach(f),Rt.forEach(f),q=y(Qt),te=_(Qt,"DIV",{class:!0});var Al=v(te);ae=_(Al,"DIV",{class:!0});var pl=v(ae);ne=M(pl,de),pl.forEach(f),oe=y(Al),fe=_(Al,"DIV",{class:!0});var Jt=v(fe);ke=_(Jt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Jt.forEach(f),Al.forEach(f),x=y(Qt),_e=_(Qt,"HR",{class:!0}),Te=y(Qt),be=_(Qt,"DIV",{class:!0});var nl=v(be);Ie=_(nl,"DIV",{class:!0});var fl=v(Ie);ve(Me.$$.fragment,fl),fl.forEach(f),nl.forEach(f),De=y(Qt),Ce=_(Qt,"HR",{class:!0}),Ue=y(Qt),se=_(Qt,"DIV",{class:!0});var Yl=v(se);ye=_(Yl,"DIV",{class:!0});var as=v(ye);Be=_(as,"DIV",{class:!0});var cl=v(Be);Le=M(cl,$e),cl.forEach(f),Ge=y(as),qe=_(as,"DIV",{});var Vl=v(qe);Ke=_(Vl,"BUTTON",{class:!0,type:!0});var zl=v(Ke);we.l(zl),zl.forEach(f),Vl.forEach(f),as.forEach(f),je=y(Yl),Ve.l(Yl),Yl.forEach(f),Pe=y(Qt),st=_(Qt,"HR",{class:!0}),It=y(Qt),at=_(Qt,"DIV",{class:!0});var _l=v(at);Ze=_(_l,"SELECT",{class:!0});var rs=v(Ze);pt=_(rs,"OPTION",{});var kl=v(pt);Dt=M(kl,Lt),kl.forEach(f);for(let xt=0;xt<Nt.length;xt+=1)Nt[xt].l(rs);rs.forEach(f),_t=y(_l),tt=_(_l,"DIV",{});var Gl=v(tt);rt=_(Gl,"BUTTON",{type:!0});var Pl=v(rt);ve(nt.$$.fragment,Pl),Pl.forEach(f),Gl.forEach(f),_l.forEach(f),Qt.forEach(f),ut=y(sl),dt=_(sl,"DIV",{class:!0});var Ft=v(dt);$t&&$t.l(Ft),vt=y(Ft),he=_(Ft,"BUTTON",{class:!0,type:!0});var Cl=v(he);kt=M(Cl,Ne),ot=y(Cl),Ct&&Ct.l(Cl),Cl.forEach(f),Ft.forEach(f),sl.forEach(f),hl.forEach(f),Je.forEach(f),et.forEach(f),this.h()},h(){o(s,"class","text-lg font-medium self-center font-primary"),o(i,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),o(g,"type","file"),g.hidden=!0,o(g,"accept","image/*"),ar(w.src,k=l[5])||o(w,"src",k),o(w,"class","size-16 rounded-full object-cover shrink-0"),o(w,"alt","Profile"),o($,"class","my-auto text-white"),o(D,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(I,"class","relative rounded-full w-fit h-fit shrink-0"),o(I,"type","button"),o(m,"class","flex justify-center pb-3"),o(H,"class","mb-0.5 text-xs text-gray-500"),o(F,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(F,"type","text"),o(F,"placeholder",G=l[14].t("Model Name")),o(F,"autocomplete","off"),F.required=!0,o(S,"class","flex-1"),o(P,"class","flex flex-col w-full"),o(Q,"class","mb-0.5 text-xs text-gray-500"),o(z,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(z,"type","text"),o(z,"placeholder",Z=l[14].t("Model ID")),o(z,"autocomplete","off"),z.required=!0,z.disabled=l[1],o(le,"class","flex-1"),o(J,"class","flex flex-col w-full"),o(N,"class","flex gap-2"),o(ae,"class","mb-1 text-xs text-gray-500"),o(ke,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),o(ke,"type","text"),o(ke,"placeholder",Ee=l[14].t("Enter description")),o(ke,"autocomplete","off"),o(fe,"class","flex-1"),o(te,"class","flex flex-col w-full mt-2"),o(_e,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(Ie,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),o(be,"class","my-2 -mx-2"),o(Ce,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),o(Be,"class","text-xs text-gray-500"),o(Ke,"class","text-xs text-gray-500"),o(Ke,"type","button"),o(ye,"class","mb-1 flex justify-between"),o(se,"class","flex flex-col w-full"),o(st,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),pt.__value="",ee(pt,pt.__value),o(Ze,"class",Tt="w-full py-1 text-sm rounded-lg bg-transparent "+(l[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),l[7]===void 0&&Hl(()=>l[30].call(Ze)),o(rt,"type","button"),o(at,"class","flex items-center"),o(h,"class","px-1"),o(he,"class",gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(l[12]?" cursor-not-allowed":"")),o(he,"type","submit"),he.disabled=l[12],o(dt,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),o(E,"class","flex flex-col w-full"),o(p,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),o(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(He,et){R(He,e,et),n(e,t),n(t,s),Gt.m(s,null),n(t,a),n(t,i),n(e,c),n(e,u),n(u,p),n(p,E),n(E,h),n(h,m),n(m,g),l[20](g),n(m,b),n(m,I),n(I,w),n(I,T),n(I,D),n(D,$),me(V,$,null),n(h,O),n(h,N),n(N,P),n(P,H),n(H,B),n(P,Y),n(P,S),n(S,F),ee(F,l[3]),n(N,K),n(N,J),n(J,Q),n(Q,ie),n(J,ue),n(J,le),n(le,z),ee(z,l[4]),n(h,q),n(h,te),n(te,ae),n(ae,ne),n(te,oe),n(te,fe),n(fe,ke),ee(ke,l[6]),n(h,x),n(h,_e),n(h,Te),n(h,be),n(be,Ie),me(Me,Ie,null),n(h,De),n(h,Ce),n(h,Ue),n(h,se),n(se,ye),n(ye,Be),n(Be,Le),n(ye,Ge),n(ye,qe),n(qe,Ke),we.m(Ke,null),n(se,je),Ot[Ae].m(se,null),n(h,Pe),n(h,st),n(h,It),n(h,at),n(at,Ze),n(Ze,pt),n(pt,Dt);for(let ht=0;ht<Nt.length;ht+=1)Nt[ht]&&Nt[ht].m(Ze,null);jt(Ze,l[7],!0),n(at,_t),n(at,tt),n(tt,rt),me(nt,rt,null),n(E,ut),n(E,dt),$t&&$t.m(dt,null),n(dt,vt),n(dt,he),n(he,kt),n(he,ot),Ct&&Ct.m(he,null),wt=!0,Mt||(zt=[re(i,"click",l[19]),re(g,"change",l[21]),re(I,"click",l[22]),re(F,"input",l[23]),re(z,"input",l[24]),re(ke,"input",l[25]),re(Ke,"click",l[27]),re(Ze,"change",l[30]),re(rt,"click",l[31]),re(E,"submit",Hs(l[33]))],Mt=!0)},p(He,et){Xt===(Xt=Kt(He))&&Gt?Gt.p(He,et):(Gt.d(1),Gt=Xt(He),Gt&&(Gt.c(),Gt.m(s,null))),(!wt||et[0]&32&&!ar(w.src,k=He[5]))&&o(w,"src",k),(!wt||et[0]&16384)&&U!==(U=He[14].t("Name")+"")&&C(B,U),(!wt||et[0]&16384&&G!==(G=He[14].t("Model Name")))&&o(F,"placeholder",G),et[0]&8&&F.value!==He[3]&&ee(F,He[3]),(!wt||et[0]&16384)&&X!==(X=He[14].t("ID")+"")&&C(ie,X),(!wt||et[0]&16384&&Z!==(Z=He[14].t("Model ID")))&&o(z,"placeholder",Z),(!wt||et[0]&2)&&(z.disabled=He[1]),et[0]&16&&z.value!==He[4]&&ee(z,He[4]),(!wt||et[0]&16384)&&de!==(de=He[14].t("Description")+"")&&C(ne,de),(!wt||et[0]&16384&&Ee!==(Ee=He[14].t("Enter description")))&&o(ke,"placeholder",Ee),et[0]&64&&ke.value!==He[6]&&ee(ke,He[6]);const ht={};!ce&&et[0]&1024&&(ce=!0,ht.accessControl=He[10],Xe(()=>ce=!1)),Me.$set(ht),(!wt||et[0]&16384)&&$e!==($e=He[14].t("Models")+"")&&C(Le,$e),Re===(Re=At(He))&&we?we.p(He,et):(we.d(1),we=Re(He),we&&(we.c(),we.m(Ke,null)));let Pt=Ae;if(Ae=Ut(He),Ae===Pt?Ot[Ae].p(He,et):(Et(),W(Ot[Pt],1,1,()=>{Ot[Pt]=null}),bt(),Ve=Ot[Ae],Ve?Ve.p(He,et):(Ve=Ot[Ae]=xe[Ae](He),Ve.c()),j(Ve,1),Ve.m(se,null)),(!wt||et[0]&16384)&&Lt!==(Lt=He[14].t("Select a model")+"")&&C(Dt,Lt),et[0]&8192){ct=mt(He[13].filter(Fo));let Je;for(Je=0;Je<ct.length;Je+=1){const hl=Bo(He,ct,Je);Nt[Je]?Nt[Je].p(hl,et):(Nt[Je]=jo(hl),Nt[Je].c(),Nt[Je].m(Ze,null))}for(;Je<Nt.length;Je+=1)Nt[Je].d(1);Nt.length=ct.length}(!wt||et[0]&8320&&Tt!==(Tt="w-full py-1 text-sm rounded-lg bg-transparent "+(He[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&o(Ze,"class",Tt),et[0]&8320&&jt(Ze,He[7]),He[1]?$t?$t.p(He,et):($t=Ko(He),$t.c(),$t.m(dt,vt)):$t&&($t.d(1),$t=null),(!wt||et[0]&16384)&&Ne!==(Ne=He[14].t("Save")+"")&&C(kt,Ne),He[12]?Ct||(Ct=Yo(),Ct.c(),Ct.m(he,null)):Ct&&(Ct.d(1),Ct=null),(!wt||et[0]&4096&&gt!==(gt="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(He[12]?" cursor-not-allowed":"")))&&o(he,"class",gt),(!wt||et[0]&4096)&&(he.disabled=He[12])},i(He){wt||(j(V.$$.fragment,He),j(Me.$$.fragment,He),j(Ve),j(nt.$$.fragment,He),wt=!0)},o(He){W(V.$$.fragment,He),W(Me.$$.fragment,He),W(Ve),W(nt.$$.fragment,He),wt=!1},d(He){He&&f(e),Gt.d(),l[20](null),ge(V),ge(Me),we.d(),Ot[Ae].d(),Il(Nt,He),ge(nt),$t&&$t.d(),Ct&&Ct.d(),Mt=!1,bl(zt)}}}function L1(l){let e,t,s;function a(r){l[34](r)}let i={size:"sm",$$slots:{default:[S1]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.show=l[0]),e=new Zr({props:i}),We.push(()=>Qe(e,"show",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c[0]&32767|c[1]&2048&&(u.$$scope={dirty:c,ctx:r}),!t&&c[0]&1&&(t=!0,u.show=r[0],Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}const Fo=l=>(l==null?void 0:l.owned_by)!=="arena";function M1(l,e,t){let s,a;Wt(l,Jl,Z=>t(13,s=Z));const i=Kl("i18n");Wt(l,i,Z=>t(14,a=Z));const r=Ea();let{show:c=!1}=e,{edit:u=!1}=e,{model:p=null}=e,E="",h="";const m=()=>{u||t(4,h=E.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let g="/favicon.png",b="",I="",w=[],k="include",T={},D,$=!1;const V=()=>{I&&(t(8,w=[...w,I]),t(7,I=""))},O=()=>{if(t(12,$=!0),!E||!h){t(12,$=!1),Fe.error("Name and ID are required, please fill them out");return}if(!u&&s.find(q=>q.name===E)){t(12,$=!1),t(3,E=""),Fe.error("Model name already exists, please choose a different one");return}const Z={id:h,name:E,meta:{profile_image_url:g,description:b||null,model_ids:w.length>0?w:null,filter_mode:w.length>0&&k||null,access_control:T}};r("submit",Z),t(12,$=!1),t(0,c=!1),t(3,E=""),t(4,h=""),t(5,g="/favicon.png"),t(6,b=""),t(8,w=[]),t(7,I="")},N=()=>{var Z;p&&(t(3,E=p.name),t(4,h=p.id),t(5,g=p.meta.profile_image_url),t(6,b=p.meta.description),t(8,w=p.meta.model_ids||[]),t(9,k=((Z=p.meta)==null?void 0:Z.filter_mode)??"include"),t(10,T="access_control"in p.meta?p.meta.access_control:{}))};bs(()=>{N()});const P=()=>{t(0,c=!1)};function H(Z){We[Z?"unshift":"push"](()=>{D=Z,t(11,D)})}const U=Z=>{const q=Z.target.files??[];let te=new FileReader;te.onload=ae=>{let de=`${ae.target.result}`;const ne=new Image;ne.src=de,ne.onload=function(){const oe=document.createElement("canvas"),fe=oe.getContext("2d"),ke=ne.width/ne.height;let Ee,x;ke>1?(Ee=250*ke,x=250):(Ee=250,x=250/ke),oe.width=250,oe.height=250;const _e=(250-Ee)/2,Te=(250-x)/2;fe.drawImage(ne,_e,Te,Ee,x);const be=oe.toDataURL("image/jpeg");t(5,g=be),Z.target.files=null}},q.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(q[0].type)&&te.readAsDataURL(q[0])},B=()=>{D.click()};function Y(){E=this.value,t(3,E)}function S(){h=this.value,t(4,h)}function F(){b=this.value,t(6,b)}function G(Z){T=Z,t(10,T)}const K=()=>{t(9,k=k==="include"?"exclude":"include")},J=(Z,q)=>q.id===Z,Q=Z=>{t(8,w=w.filter((q,te)=>te!==Z))};function X(){I=Bl(this),t(7,I)}const ie=()=>{V()},ue=()=>{r("delete",p),t(0,c=!1)},le=()=>{O()};function z(Z){c=Z,t(0,c)}return l.$$set=Z=>{"show"in Z&&t(0,c=Z.show),"edit"in Z&&t(1,u=Z.edit),"model"in Z&&t(2,p=Z.model)},l.$$.update=()=>{l.$$.dirty[0]&8&&E&&m(),l.$$.dirty[0]&1&&c&&N()},[c,u,p,E,h,g,b,I,w,k,T,D,$,s,a,i,r,V,O,P,H,U,B,Y,S,F,G,K,J,Q,X,ie,ue,le,z]}class vu extends Ml{constructor(e){super(),Rl(this,e,M1,L1,Ll,{show:0,edit:1,model:2},null,[-1,-1])}}function R1(l){var G,K;let e,t,s,a,i,r,c,u,p,E,h,m,g,b,I=l[0].name+"",w,k,T,D,$=(((K=(G=l[0])==null?void 0:G.meta)==null?void 0:K.description)??l[0].id)+"",V,O,N,P,H,U,B,Y;function S(J){l[3](J)}let F={edit:!0,model:l[0]};return l[1]!==void 0&&(F.show=l[1]),e=new vu({props:F}),We.push(()=>Qe(e,"show",S)),e.$on("submit",l[4]),e.$on("delete",l[5]),H=new qr({}),{c(){pe(e.$$.fragment),s=A(),a=d("div"),i=d("div"),r=d("div"),c=d("div"),u=d("img"),h=A(),m=d("div"),g=d("div"),b=d("div"),w=L(I),k=A(),T=d("div"),D=d("div"),V=L($),O=A(),N=d("div"),P=d("button"),pe(H.$$.fragment),this.h()},l(J){ve(e.$$.fragment,J),s=y(J),a=_(J,"DIV",{class:!0});var Q=v(a);i=_(Q,"DIV",{class:!0});var X=v(i);r=_(X,"DIV",{class:!0});var ie=v(r);c=_(ie,"DIV",{class:!0});var ue=v(c);u=_(ue,"IMG",{src:!0,alt:!0,class:!0}),h=y(ue),m=_(ue,"DIV",{class:!0});var le=v(m);g=_(le,"DIV",{class:!0});var z=v(g);b=_(z,"DIV",{class:!0});var Z=v(b);w=M(Z,I),Z.forEach(f),z.forEach(f),k=y(le),T=_(le,"DIV",{class:!0});var q=v(T);D=_(q,"DIV",{class:!0});var te=v(D);V=M(te,$),te.forEach(f),q.forEach(f),le.forEach(f),ue.forEach(f),ie.forEach(f),O=y(X),N=_(X,"DIV",{class:!0});var ae=v(N);P=_(ae,"BUTTON",{class:!0,type:!0});var de=v(P);ve(H.$$.fragment,de),de.forEach(f),ae.forEach(f),X.forEach(f),Q.forEach(f),this.h()},h(){ar(u.src,p=l[0].meta.profile_image_url)||o(u,"src",p),o(u,"alt",E=l[0].name),o(u,"class","size-8 rounded-full object-cover shrink-0"),o(b,"class","shrink-0 line-clamp-1"),o(g,"class","flex items-center gap-1"),o(D,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),o(T,"class","flex items-center gap-1"),o(m,"class","w-full flex flex-col"),o(c,"class","flex gap-2.5 items-center"),o(r,"class","flex flex-col flex-1"),o(P,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),o(P,"type","button"),o(N,"class","flex items-center"),o(i,"class","flex justify-between items-center mb-1"),o(a,"class","py-0.5")},m(J,Q){me(e,J,Q),R(J,s,Q),R(J,a,Q),n(a,i),n(i,r),n(r,c),n(c,u),n(c,h),n(c,m),n(m,g),n(g,b),n(b,w),n(m,k),n(m,T),n(T,D),n(D,V),n(i,O),n(i,N),n(N,P),me(H,P,null),U=!0,B||(Y=re(P,"click",l[6]),B=!0)},p(J,[Q]){var ie,ue;const X={};Q&1&&(X.model=J[0]),!t&&Q&2&&(t=!0,X.show=J[1],Xe(()=>t=!1)),e.$set(X),(!U||Q&1&&!ar(u.src,p=J[0].meta.profile_image_url))&&o(u,"src",p),(!U||Q&1&&E!==(E=J[0].name))&&o(u,"alt",E),(!U||Q&1)&&I!==(I=J[0].name+"")&&C(w,I),(!U||Q&1)&&$!==($=(((ue=(ie=J[0])==null?void 0:ie.meta)==null?void 0:ue.description)??J[0].id)+"")&&C(V,$)},i(J){U||(j(e.$$.fragment,J),j(H.$$.fragment,J),U=!0)},o(J){W(e.$$.fragment,J),W(H.$$.fragment,J),U=!1},d(J){J&&(f(s),f(a)),ge(e,J),ge(H),B=!1,Y()}}}function C1(l,e,t){const s=Ea();Kl("i18n");let{model:a}=e,i=!1;function r(E){i=E,t(1,i)}const c=async E=>{s("edit",E.detail)},u=async()=>{s("delete")},p=()=>{t(1,i=!0)};return l.$$set=E=>{"model"in E&&t(0,a=E.model)},[a,i,s,r,c,u,p]}class U1 extends Ml{constructor(e){super(),Rl(this,e,C1,R1,Ll,{model:0})}}function Wo(l,e,t){const s=l.slice();return s[19]=e[t],s[21]=t,s}function B1(l){let e,t,s,a;return s=new Oa({props:{className:"size-6"}}),{c(){e=d("div"),t=d("div"),pe(s.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var r=v(e);t=_(r,"DIV",{class:!0});var c=v(t);ve(s.$$.fragment,c),c.forEach(f),r.forEach(f),this.h()},h(){o(t,"class","my-auto"),o(e,"class","flex h-full justify-center")},m(i,r){R(i,e,r),n(e,t),me(s,t,null),a=!0},p:ft,i(i){a||(j(s.$$.fragment,i),a=!0)},o(i){W(s.$$.fragment,i),a=!1},d(i){i&&f(e),ge(s)}}}function H1(l){let e,t,s=l[2].t("General Settings")+"",a,i,r,c,u,p=l[2].t("Arena Models")+"",E,h,m,g,b;m=new Ht({props:{content:l[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[G1]},$$scope:{ctx:l}}});let I=l[0].ENABLE_EVALUATION_ARENA_MODELS&&qo(l);return{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("div"),E=L(p),h=A(),pe(m.$$.fragment),g=A(),I&&I.c(),this.h()},l(w){e=_(w,"DIV",{class:!0});var k=v(e);t=_(k,"DIV",{class:!0});var T=v(t);a=M(T,s),T.forEach(f),i=y(k),r=_(k,"DIV",{class:!0});var D=v(r);c=_(D,"DIV",{class:!0});var $=v(c);u=_($,"DIV",{class:!0});var V=v(u);E=M(V,p),V.forEach(f),h=y($),ve(m.$$.fragment,$),$.forEach(f),D.forEach(f),g=y(k),I&&I.l(k),k.forEach(f),this.h()},h(){o(t,"class","text-sm font-medium mb-2"),o(u,"class","text-xs font-medium"),o(c,"class","flex justify-between items-center text-xs"),o(r,"class","mb-2"),o(e,"class","")},m(w,k){R(w,e,k),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),n(u,E),n(c,h),me(m,c,null),n(e,g),I&&I.m(e,null),b=!0},p(w,k){(!b||k&4)&&s!==(s=w[2].t("General Settings")+"")&&C(a,s),(!b||k&4)&&p!==(p=w[2].t("Arena Models")+"")&&C(E,p);const T={};k&4&&(T.content=w[2].t("Message rating should be enabled to use this feature")),k&4194305&&(T.$$scope={dirty:k,ctx:w}),m.$set(T),w[0].ENABLE_EVALUATION_ARENA_MODELS?I?(I.p(w,k),k&1&&j(I,1)):(I=qo(w),I.c(),j(I,1),I.m(e,null)):I&&(Et(),W(I,1,1,()=>{I=null}),bt())},i(w){b||(j(m.$$.fragment,w),j(I),b=!0)},o(w){W(m.$$.fragment,w),W(I),b=!1},d(w){w&&f(e),ge(m),I&&I.d()}}}function G1(l){let e,t,s;function a(r){l[11](r)}let i={};return l[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(i.state=l[0].ENABLE_EVALUATION_ARENA_MODELS),e=new yl({props:i}),We.push(()=>Qe(e,"state",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};!t&&c&1&&(t=!0,u.state=r[0].ENABLE_EVALUATION_ARENA_MODELS,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function qo(l){let e,t,s,a,i=l[2].t("Manage Arena Models")+"",r,c,u,p,E,h,m,g,b;p=new Ht({props:{content:l[2].t("Add Arena Model"),$$slots:{default:[j1]},$$scope:{ctx:l}}});const I=[Y1,K1],w=[];function k(T,D){var $;return((($=T[0])==null?void 0:$.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return m=k(l),g=w[m]=I[m](l),{c(){e=d("hr"),t=A(),s=d("div"),a=d("div"),r=L(i),c=A(),u=d("div"),pe(p.$$.fragment),E=A(),h=d("div"),g.c(),this.h()},l(T){e=_(T,"HR",{class:!0}),t=y(T),s=_(T,"DIV",{class:!0});var D=v(s);a=_(D,"DIV",{class:!0});var $=v(a);r=M($,i),$.forEach(f),c=y(D),u=_(D,"DIV",{});var V=v(u);ve(p.$$.fragment,V),V.forEach(f),D.forEach(f),E=y(T),h=_(T,"DIV",{class:!0});var O=v(h);g.l(O),O.forEach(f),this.h()},h(){o(e,"class","border-gray-50 dark:border-gray-700/10 my-2"),o(a,"class","text-sm font-medium"),o(s,"class","flex justify-between items-center mb-2"),o(h,"class","flex flex-col gap-2")},m(T,D){R(T,e,D),R(T,t,D),R(T,s,D),n(s,a),n(a,r),n(s,c),n(s,u),me(p,u,null),R(T,E,D),R(T,h,D),w[m].m(h,null),b=!0},p(T,D){(!b||D&4)&&i!==(i=T[2].t("Manage Arena Models")+"")&&C(r,i);const $={};D&4&&($.content=T[2].t("Add Arena Model")),D&4194306&&($.$$scope={dirty:D,ctx:T}),p.$set($);let V=m;m=k(T),m===V?w[m].p(T,D):(Et(),W(w[V],1,1,()=>{w[V]=null}),bt(),g=w[m],g?g.p(T,D):(g=w[m]=I[m](T),g.c()),j(g,1),g.m(h,null))},i(T){b||(j(p.$$.fragment,T),j(g),b=!0)},o(T){W(p.$$.fragment,T),W(g),b=!1},d(T){T&&(f(e),f(t),f(s),f(E),f(h)),ge(p),w[m].d()}}}function j1(l){let e,t,s,a,i;return t=new Jr({}),{c(){e=d("button"),pe(t.$$.fragment),this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0});var c=v(e);ve(t.$$.fragment,c),c.forEach(f),this.h()},h(){o(e,"class","p-1"),o(e,"type","button")},m(r,c){R(r,e,c),me(t,e,null),s=!0,a||(i=re(e,"click",l[12]),a=!0)},p:ft,i(r){s||(j(t.$$.fragment,r),s=!0)},o(r){W(t.$$.fragment,r),s=!1},d(r){r&&f(e),ge(t),a=!1,i()}}}function K1(l){let e,t=l[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-center text-xs text-gray-500")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&C(s,t)},i:ft,o:ft,d(a){a&&f(e)}}}function Y1(l){let e,t,s=mt(l[0].EVALUATION_ARENA_MODELS),a=[];for(let r=0;r<s.length;r+=1)a[r]=Zo(Wo(l,s,r));const i=r=>W(a[r],1,1,()=>{a[r]=null});return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=ul()},l(r){for(let c=0;c<a.length;c+=1)a[c].l(r);e=ul()},m(r,c){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(r,c);R(r,e,c),t=!0},p(r,c){if(c&385){s=mt(r[0].EVALUATION_ARENA_MODELS);let u;for(u=0;u<s.length;u+=1){const p=Wo(r,s,u);a[u]?(a[u].p(p,c),j(a[u],1)):(a[u]=Zo(p),a[u].c(),j(a[u],1),a[u].m(e.parentNode,e))}for(Et(),u=s.length;u<a.length;u+=1)i(u);bt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)j(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)W(a[c]);t=!1},d(r){r&&f(e),Il(a,r)}}}function Zo(l){let e,t;function s(...i){return l[13](l[21],...i)}function a(...i){return l[14](l[21],...i)}return e=new U1({props:{model:l[19]}}),e.$on("edit",s),e.$on("delete",a),{c(){pe(e.$$.fragment)},l(i){ve(e.$$.fragment,i)},m(i,r){me(e,i,r),t=!0},p(i,r){l=i;const c={};r&1&&(c.model=l[19]),e.$set(c)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){ge(e,i)}}}function F1(l){let e,t,s,a,i,r,c,u,p,E,h=l[2].t("Save")+"",m,g,b,I;function w(V){l[9](V)}let k={};l[1]!==void 0&&(k.show=l[1]),e=new vu({props:k}),We.push(()=>Qe(e,"show",w)),e.$on("submit",l[10]);const T=[H1,B1],D=[];function $(V,O){return V[0]!==null?0:1}return r=$(l),c=D[r]=T[r](l),{c(){pe(e.$$.fragment),s=A(),a=d("form"),i=d("div"),c.c(),u=A(),p=d("div"),E=d("button"),m=L(h),this.h()},l(V){ve(e.$$.fragment,V),s=y(V),a=_(V,"FORM",{class:!0});var O=v(a);i=_(O,"DIV",{class:!0});var N=v(i);c.l(N),N.forEach(f),u=y(O),p=_(O,"DIV",{class:!0});var P=v(p);E=_(P,"BUTTON",{class:!0,type:!0});var H=v(E);m=M(H,h),H.forEach(f),P.forEach(f),O.forEach(f),this.h()},h(){o(i,"class","overflow-y-scroll scrollbar-hidden h-full"),o(E,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(E,"type","submit"),o(p,"class","flex justify-end pt-3 text-sm font-medium"),o(a,"class","flex flex-col h-full justify-between text-sm")},m(V,O){me(e,V,O),R(V,s,O),R(V,a,O),n(a,i),D[r].m(i,null),n(a,u),n(a,p),n(p,E),n(E,m),g=!0,b||(I=re(a,"submit",Hs(l[15])),b=!0)},p(V,[O]){const N={};!t&&O&2&&(t=!0,N.show=V[1],Xe(()=>t=!1)),e.$set(N);let P=r;r=$(V),r===P?D[r].p(V,O):(Et(),W(D[P],1,1,()=>{D[P]=null}),bt(),c=D[r],c?c.p(V,O):(c=D[r]=T[r](V),c.c()),j(c,1),c.m(i,null)),(!g||O&4)&&h!==(h=V[2].t("Save")+"")&&C(m,h)},i(V){g||(j(e.$$.fragment,V),j(c),g=!0)},o(V){W(e.$$.fragment,V),W(c),g=!1},d(V){V&&(f(s),f(a)),ge(e,V),D[r].d(),b=!1,I()}}}function W1(l,e,t){let s,a,i,r;Wt(l,nr,O=>t(16,s=O)),Wt(l,rr,O=>t(17,a=O)),Wt(l,Ps,O=>t(18,i=O));const c=Ea(),u=Kl("i18n");Wt(l,u,O=>t(2,r=O));let p=null,E=!1;const h=async()=>{var O;t(0,p=await Pf(localStorage.token,p).catch(N=>(Fe.error(N),null))),p&&(Fe.success("Settings saved successfully"),Jl.set(await Es(localStorage.token,((O=i==null?void 0:i.features)==null?void 0:O.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null))))},m=async O=>{var N;p.EVALUATION_ARENA_MODELS.push(O),t(0,p.EVALUATION_ARENA_MODELS=[...p.EVALUATION_ARENA_MODELS],p),await h(),Jl.set(await Es(localStorage.token,((N=i==null?void 0:i.features)==null?void 0:N.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))},g=async(O,N)=>{var P;t(0,p.EVALUATION_ARENA_MODELS[N]=O,p),t(0,p.EVALUATION_ARENA_MODELS=[...p.EVALUATION_ARENA_MODELS],p),await h(),Jl.set(await Es(localStorage.token,((P=i==null?void 0:i.features)==null?void 0:P.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))},b=async O=>{var N;t(0,p.EVALUATION_ARENA_MODELS=p.EVALUATION_ARENA_MODELS.filter((P,H)=>H!==O),p),await h(),Jl.set(await Es(localStorage.token,((N=i==null?void 0:i.features)==null?void 0:N.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))};bs(async()=>{s.role==="admin"&&t(0,p=await Of(localStorage.token).catch(O=>(Fe.error(O),null)))});function I(O){E=O,t(1,E)}const w=async O=>{m(O.detail)};function k(O){l.$$.not_equal(p.ENABLE_EVALUATION_ARENA_MODELS,O)&&(p.ENABLE_EVALUATION_ARENA_MODELS=O,t(0,p))}return[p,E,r,c,u,h,m,g,b,I,w,k,()=>{t(1,E=!0)},(O,N)=>{g(N.detail,O)},(O,N)=>{b(O)},()=>{h(),c("save")}]}class q1 extends Ml{constructor(e){super(),Rl(this,e,W1,F1,Ll,{})}}function Jo(l,e,t){const s=l.slice();return s[21]=e[t],s}function zo(l,e,t){const s=l.slice();return s[21]=e[t],s}function Xo(l){let e,t,s,a=l[2].t("General")+"",i,r,c,u,p,E,h,m=l[2].t("Code Execution Engine")+"",g,b,I,w,k,T=l[2].t("Select a engine")+"",D,$,V,O,N,P,H,U=l[2].t("Code Interpreter")+"",B,Y,S,F,G,K,J,Q=l[2].t("Enable Code Interpreter")+"",X,ie,ue,le,z,Z,q,te,ae=mt(l[4]),de=[];for(let x=0;x<ae.length;x+=1)de[x]=Qo(zo(l,ae,x));let ne=l[1].CODE_EXECUTION_ENGINE==="jupyter"&&xo(l),oe=l[1].CODE_EXECUTION_ENGINE==="jupyter"&&eu(l);function fe(x){l[12](x)}let ke={};l[1].ENABLE_CODE_INTERPRETER!==void 0&&(ke.state=l[1].ENABLE_CODE_INTERPRETER),ue=new yl({props:ke}),We.push(()=>Qe(ue,"state",fe));let Ee=l[1].ENABLE_CODE_INTERPRETER&&lu(l);return{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("hr"),u=A(),p=d("div"),E=d("div"),h=d("div"),g=L(m),b=A(),I=d("div"),w=d("select"),k=d("option"),D=L(T);for(let x=0;x<de.length;x+=1)de[x].c();V=A(),ne&&ne.c(),O=A(),oe&&oe.c(),N=A(),P=d("div"),H=d("div"),B=L(U),Y=A(),S=d("hr"),F=A(),G=d("div"),K=d("div"),J=d("div"),X=L(Q),ie=A(),pe(ue.$$.fragment),z=A(),Ee&&Ee.c(),this.h()},l(x){e=_(x,"DIV",{});var _e=v(e);t=_(_e,"DIV",{class:!0});var Te=v(t);s=_(Te,"DIV",{class:!0});var be=v(s);i=M(be,a),be.forEach(f),r=y(Te),c=_(Te,"HR",{class:!0}),u=y(Te),p=_(Te,"DIV",{class:!0});var Ie=v(p);E=_(Ie,"DIV",{class:!0});var Me=v(E);h=_(Me,"DIV",{class:!0});var ce=v(h);g=M(ce,m),ce.forEach(f),b=y(Me),I=_(Me,"DIV",{class:!0});var De=v(I);w=_(De,"SELECT",{class:!0,placeholder:!0});var Ce=v(w);k=_(Ce,"OPTION",{});var Ue=v(k);D=M(Ue,T),Ue.forEach(f);for(let Ge=0;Ge<de.length;Ge+=1)de[Ge].l(Ce);Ce.forEach(f),De.forEach(f),Me.forEach(f),V=y(Ie),ne&&ne.l(Ie),Ie.forEach(f),O=y(Te),oe&&oe.l(Te),Te.forEach(f),N=y(_e),P=_(_e,"DIV",{class:!0});var se=v(P);H=_(se,"DIV",{class:!0});var ye=v(H);B=M(ye,U),ye.forEach(f),Y=y(se),S=_(se,"HR",{class:!0}),F=y(se),G=_(se,"DIV",{class:!0});var Be=v(G);K=_(Be,"DIV",{class:!0});var $e=v(K);J=_($e,"DIV",{class:!0});var Le=v(J);X=M(Le,Q),Le.forEach(f),ie=y($e),ve(ue.$$.fragment,$e),$e.forEach(f),Be.forEach(f),z=y(se),Ee&&Ee.l(se),se.forEach(f),_e.forEach(f),this.h()},h(){o(s,"class","mb-2.5 text-base font-medium"),o(c,"class","border-gray-100 dark:border-gray-850 my-2"),o(h,"class","self-center text-xs font-medium"),k.disabled=!0,k.selected=!0,k.__value="",ee(k,k.__value),o(w,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(w,"placeholder",$=l[2].t("Select a engine")),w.required=!0,l[1].CODE_EXECUTION_ENGINE===void 0&&Hl(()=>l[6].call(w)),o(I,"class","flex items-center relative"),o(E,"class","flex w-full justify-between"),o(p,"class","mb-2.5"),o(t,"class","mb-3.5"),o(H,"class","mb-2.5 text-base font-medium"),o(S,"class","border-gray-100 dark:border-gray-850 my-2"),o(J,"class","self-center text-xs font-medium"),o(K,"class","flex w-full justify-between"),o(G,"class","mb-2.5"),o(P,"class","mb-3.5")},m(x,_e){R(x,e,_e),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(t,u),n(t,p),n(p,E),n(E,h),n(h,g),n(E,b),n(E,I),n(I,w),n(w,k),n(k,D);for(let Te=0;Te<de.length;Te+=1)de[Te]&&de[Te].m(w,null);jt(w,l[1].CODE_EXECUTION_ENGINE,!0),n(p,V),ne&&ne.m(p,null),n(t,O),oe&&oe.m(t,null),n(e,N),n(e,P),n(P,H),n(H,B),n(P,Y),n(P,S),n(P,F),n(P,G),n(G,K),n(K,J),n(J,X),n(K,ie),me(ue,K,null),n(P,z),Ee&&Ee.m(P,null),Z=!0,q||(te=re(w,"change",l[6]),q=!0)},p(x,_e){if((!Z||_e&4)&&a!==(a=x[2].t("General")+"")&&C(i,a),(!Z||_e&4)&&m!==(m=x[2].t("Code Execution Engine")+"")&&C(g,m),(!Z||_e&4)&&T!==(T=x[2].t("Select a engine")+"")&&C(D,T),_e&16){ae=mt(x[4]);let be;for(be=0;be<ae.length;be+=1){const Ie=zo(x,ae,be);de[be]?de[be].p(Ie,_e):(de[be]=Qo(Ie),de[be].c(),de[be].m(w,null))}for(;be<de.length;be+=1)de[be].d(1);de.length=ae.length}(!Z||_e&4&&$!==($=x[2].t("Select a engine")))&&o(w,"placeholder",$),_e&18&&jt(w,x[1].CODE_EXECUTION_ENGINE),x[1].CODE_EXECUTION_ENGINE==="jupyter"?ne?ne.p(x,_e):(ne=xo(x),ne.c(),ne.m(p,null)):ne&&(ne.d(1),ne=null),x[1].CODE_EXECUTION_ENGINE==="jupyter"?oe?(oe.p(x,_e),_e&2&&j(oe,1)):(oe=eu(x),oe.c(),j(oe,1),oe.m(t,null)):oe&&(Et(),W(oe,1,1,()=>{oe=null}),bt()),(!Z||_e&4)&&U!==(U=x[2].t("Code Interpreter")+"")&&C(B,U),(!Z||_e&4)&&Q!==(Q=x[2].t("Enable Code Interpreter")+"")&&C(X,Q);const Te={};!le&&_e&2&&(le=!0,Te.state=x[1].ENABLE_CODE_INTERPRETER,Xe(()=>le=!1)),ue.$set(Te),x[1].ENABLE_CODE_INTERPRETER?Ee?(Ee.p(x,_e),_e&2&&j(Ee,1)):(Ee=lu(x),Ee.c(),j(Ee,1),Ee.m(P,null)):Ee&&(Et(),W(Ee,1,1,()=>{Ee=null}),bt())},i(x){Z||(j(oe),j(ue.$$.fragment,x),j(Ee),Z=!0)},o(x){W(oe),W(ue.$$.fragment,x),W(Ee),Z=!1},d(x){x&&f(e),Il(de,x),ne&&ne.d(),oe&&oe.d(),ge(ue),Ee&&Ee.d(),q=!1,te()}}}function Qo(l){let e,t=l[21]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[21],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p:ft,d(a){a&&f(e)}}}function xo(l){let e,t=l[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-gray-500 text-xs")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"")&&C(s,t)},d(a){a&&f(e)}}}function eu(l){let e,t,s=l[2].t("Jupyter URL")+"",a,i,r,c,u,p,E,h,m,g,b=l[2].t("Jupyter Auth")+"",I,w,k,T,D,$=l[2].t("None")+"",V,O,N=l[2].t("Token")+"",P,H,U=l[2].t("Password")+"",B,Y,S,F,G,K,J=l[2].t("Code Execution Timeout")+"",Q,X,ie,ue,le,z,Z,q=l[1].CODE_EXECUTION_JUPYTER_AUTH&&tu(l);return ue=new Ht({props:{content:l[2].t("Enter timeout in seconds"),$$slots:{default:[z1]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("div"),m=d("div"),g=d("div"),I=L(b),w=A(),k=d("div"),T=d("select"),D=d("option"),V=L($),O=d("option"),P=L(N),H=d("option"),B=L(U),S=A(),q&&q.c(),F=A(),G=d("div"),K=d("div"),Q=L(J),X=A(),ie=d("div"),pe(ue.$$.fragment),this.h()},l(te){e=_(te,"DIV",{class:!0});var ae=v(e);t=_(ae,"DIV",{class:!0});var de=v(t);a=M(de,s),de.forEach(f),i=y(ae),r=_(ae,"DIV",{class:!0});var ne=v(r);c=_(ne,"DIV",{class:!0});var oe=v(c);u=_(oe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),oe.forEach(f),ne.forEach(f),ae.forEach(f),E=y(te),h=_(te,"DIV",{class:!0});var fe=v(h);m=_(fe,"DIV",{class:!0});var ke=v(m);g=_(ke,"DIV",{class:!0});var Ee=v(g);I=M(Ee,b),Ee.forEach(f),w=y(ke),k=_(ke,"DIV",{});var x=v(k);T=_(x,"SELECT",{class:!0,placeholder:!0});var _e=v(T);D=_(_e,"OPTION",{});var Te=v(D);V=M(Te,$),Te.forEach(f),O=_(_e,"OPTION",{});var be=v(O);P=M(be,N),be.forEach(f),H=_(_e,"OPTION",{});var Ie=v(H);B=M(Ie,U),Ie.forEach(f),_e.forEach(f),x.forEach(f),ke.forEach(f),S=y(fe),q&&q.l(fe),fe.forEach(f),F=y(te),G=_(te,"DIV",{class:!0});var Me=v(G);K=_(Me,"DIV",{class:!0});var ce=v(K);Q=M(ce,J),ce.forEach(f),X=y(Me),ie=_(Me,"DIV",{class:!0});var De=v(ie);ve(ue.$$.fragment,De),De.forEach(f),Me.forEach(f),this.h()},h(){o(t,"class","text-xs font-medium"),o(u,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),o(u,"type","text"),o(u,"placeholder",p=l[2].t("Enter Jupyter URL")),o(u,"autocomplete","off"),o(c,"class","flex-1"),o(r,"class","flex w-full"),o(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(g,"class","text-xs font-medium"),D.selected=!0,D.__value="",ee(D,D.__value),O.__value="token",ee(O,O.__value),H.__value="password",ee(H,H.__value),o(T,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),o(T,"placeholder",Y=l[2].t("Select an auth method")),l[1].CODE_EXECUTION_JUPYTER_AUTH===void 0&&Hl(()=>l[8].call(T)),o(m,"class","flex gap-2 w-full items-center justify-between"),o(h,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(K,"class","text-xs font-medium"),o(ie,"class",""),o(G,"class","flex gap-2 w-full items-center justify-between")},m(te,ae){R(te,e,ae),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].CODE_EXECUTION_JUPYTER_URL),R(te,E,ae),R(te,h,ae),n(h,m),n(m,g),n(g,I),n(m,w),n(m,k),n(k,T),n(T,D),n(D,V),n(T,O),n(O,P),n(T,H),n(H,B),jt(T,l[1].CODE_EXECUTION_JUPYTER_AUTH,!0),n(h,S),q&&q.m(h,null),R(te,F,ae),R(te,G,ae),n(G,K),n(K,Q),n(G,X),n(G,ie),me(ue,ie,null),le=!0,z||(Z=[re(u,"input",l[7]),re(T,"change",l[8])],z=!0)},p(te,ae){(!le||ae&4)&&s!==(s=te[2].t("Jupyter URL")+"")&&C(a,s),(!le||ae&4&&p!==(p=te[2].t("Enter Jupyter URL")))&&o(u,"placeholder",p),ae&18&&u.value!==te[1].CODE_EXECUTION_JUPYTER_URL&&ee(u,te[1].CODE_EXECUTION_JUPYTER_URL),(!le||ae&4)&&b!==(b=te[2].t("Jupyter Auth")+"")&&C(I,b),(!le||ae&4)&&$!==($=te[2].t("None")+"")&&C(V,$),(!le||ae&4)&&N!==(N=te[2].t("Token")+"")&&C(P,N),(!le||ae&4)&&U!==(U=te[2].t("Password")+"")&&C(B,U),(!le||ae&4&&Y!==(Y=te[2].t("Select an auth method")))&&o(T,"placeholder",Y),ae&18&&jt(T,te[1].CODE_EXECUTION_JUPYTER_AUTH),te[1].CODE_EXECUTION_JUPYTER_AUTH?q?(q.p(te,ae),ae&2&&j(q,1)):(q=tu(te),q.c(),j(q,1),q.m(h,null)):q&&(Et(),W(q,1,1,()=>{q=null}),bt()),(!le||ae&4)&&J!==(J=te[2].t("Code Execution Timeout")+"")&&C(Q,J);const de={};ae&4&&(de.content=te[2].t("Enter timeout in seconds")),ae&67108870&&(de.$$scope={dirty:ae,ctx:te}),ue.$set(de)},i(te){le||(j(q),j(ue.$$.fragment,te),le=!0)},o(te){W(q),W(ue.$$.fragment,te),le=!1},d(te){te&&(f(e),f(E),f(h),f(F),f(G)),q&&q.d(),ge(ue),z=!1,bl(Z)}}}function tu(l){let e,t,s,a,i;const r=[J1,Z1],c=[];function u(p,E){return p[1].CODE_EXECUTION_JUPYTER_AUTH==="password"?0:1}return s=u(l),a=c[s]=r[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var h=v(t);a.l(h),h.forEach(f),E.forEach(f),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex w-full gap-2")},m(p,E){R(p,e,E),n(e,t),c[s].m(t,null),i=!0},p(p,E){let h=s;s=u(p),s===h?c[s].p(p,E):(Et(),W(c[h],1,1,()=>{c[h]=null}),bt(),a=c[s],a?a.p(p,E):(a=c[s]=r[s](p),a.c()),j(a,1),a.m(t,null))},i(p){i||(j(a),i=!0)},o(p){W(a),i=!1},d(p){p&&f(e),c[s].d()}}}function Z1(l){let e,t,s;function a(r){l[10](r)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Token"),autocomplete:"off"};return l[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=l[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN),e=new $l({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c&4&&(u.placeholder=r[2].t("Enter Jupyter Token")),!t&&c&2&&(t=!0,u.value=r[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function J1(l){let e,t,s;function a(r){l[9](r)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Password"),autocomplete:"off"};return l[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=l[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD),e=new $l({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c&4&&(u.placeholder=r[2].t("Enter Jupyter Password")),!t&&c&2&&(t=!0,u.value=r[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function z1(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(e,"type","number"),o(e,"placeholder",t=l[2].t("e.g. 60")),o(e,"autocomplete","off")},m(i,r){R(i,e,r),ee(e,l[1].CODE_EXECUTION_JUPYTER_TIMEOUT),s||(a=re(e,"input",l[11]),s=!0)},p(i,r){r&4&&t!==(t=i[2].t("e.g. 60"))&&o(e,"placeholder",t),r&18&&ts(e.value)!==i[1].CODE_EXECUTION_JUPYTER_TIMEOUT&&ee(e,i[1].CODE_EXECUTION_JUPYTER_TIMEOUT)},d(i){i&&f(e),s=!1,a()}}}function lu(l){let e,t,s,a=l[2].t("Code Interpreter Engine")+"",i,r,c,u,p,E=l[2].t("Select a engine")+"",h,m,g,b,I,w,k,T,D,$,V=l[2].t("Code Interpreter Prompt Template")+"",O,N,P,H,U,B,Y=mt(l[4]),S=[];for(let K=0;K<Y.length;K+=1)S[K]=su(Jo(l,Y,K));let F=l[1].CODE_INTERPRETER_ENGINE==="jupyter"&&au(l),G=l[1].CODE_INTERPRETER_ENGINE==="jupyter"&&ru(l);return P=new Ht({props:{content:l[2].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[e0]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),s=d("div"),i=L(a),r=A(),c=d("div"),u=d("select"),p=d("option"),h=L(E);for(let K=0;K<S.length;K+=1)S[K].c();g=A(),F&&F.c(),b=A(),G&&G.c(),I=A(),w=d("hr"),k=A(),T=d("div"),D=d("div"),$=d("div"),O=L(V),N=A(),pe(P.$$.fragment),this.h()},l(K){e=_(K,"DIV",{class:!0});var J=v(e);t=_(J,"DIV",{class:!0});var Q=v(t);s=_(Q,"DIV",{class:!0});var X=v(s);i=M(X,a),X.forEach(f),r=y(Q),c=_(Q,"DIV",{class:!0});var ie=v(c);u=_(ie,"SELECT",{class:!0,placeholder:!0});var ue=v(u);p=_(ue,"OPTION",{});var le=v(p);h=M(le,E),le.forEach(f);for(let te=0;te<S.length;te+=1)S[te].l(ue);ue.forEach(f),ie.forEach(f),Q.forEach(f),g=y(J),F&&F.l(J),J.forEach(f),b=y(K),G&&G.l(K),I=y(K),w=_(K,"HR",{class:!0}),k=y(K),T=_(K,"DIV",{});var z=v(T);D=_(z,"DIV",{class:!0});var Z=v(D);$=_(Z,"DIV",{class:!0});var q=v($);O=M(q,V),q.forEach(f),N=y(Z),ve(P.$$.fragment,Z),Z.forEach(f),z.forEach(f),this.h()},h(){o(s,"class","self-center text-xs font-medium"),p.disabled=!0,p.selected=!0,p.__value="",ee(p,p.__value),o(u,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(u,"placeholder",m=l[2].t("Select a engine")),u.required=!0,l[1].CODE_INTERPRETER_ENGINE===void 0&&Hl(()=>l[13].call(u)),o(c,"class","flex items-center relative"),o(t,"class","flex w-full justify-between"),o(e,"class","mb-2.5"),o(w,"class","border-gray-100 dark:border-gray-850 my-2"),o($,"class","mb-2.5 text-xs font-medium"),o(D,"class","py-0.5 w-full")},m(K,J){R(K,e,J),n(e,t),n(t,s),n(s,i),n(t,r),n(t,c),n(c,u),n(u,p),n(p,h);for(let Q=0;Q<S.length;Q+=1)S[Q]&&S[Q].m(u,null);jt(u,l[1].CODE_INTERPRETER_ENGINE,!0),n(e,g),F&&F.m(e,null),R(K,b,J),G&&G.m(K,J),R(K,I,J),R(K,w,J),R(K,k,J),R(K,T,J),n(T,D),n(D,$),n($,O),n(D,N),me(P,D,null),H=!0,U||(B=re(u,"change",l[13]),U=!0)},p(K,J){if((!H||J&4)&&a!==(a=K[2].t("Code Interpreter Engine")+"")&&C(i,a),(!H||J&4)&&E!==(E=K[2].t("Select a engine")+"")&&C(h,E),J&16){Y=mt(K[4]);let X;for(X=0;X<Y.length;X+=1){const ie=Jo(K,Y,X);S[X]?S[X].p(ie,J):(S[X]=su(ie),S[X].c(),S[X].m(u,null))}for(;X<S.length;X+=1)S[X].d(1);S.length=Y.length}(!H||J&4&&m!==(m=K[2].t("Select a engine")))&&o(u,"placeholder",m),J&18&&jt(u,K[1].CODE_INTERPRETER_ENGINE),K[1].CODE_INTERPRETER_ENGINE==="jupyter"?F?F.p(K,J):(F=au(K),F.c(),F.m(e,null)):F&&(F.d(1),F=null),K[1].CODE_INTERPRETER_ENGINE==="jupyter"?G?(G.p(K,J),J&2&&j(G,1)):(G=ru(K),G.c(),j(G,1),G.m(I.parentNode,I)):G&&(Et(),W(G,1,1,()=>{G=null}),bt()),(!H||J&4)&&V!==(V=K[2].t("Code Interpreter Prompt Template")+"")&&C(O,V);const Q={};J&4&&(Q.content=K[2].t("Leave empty to use the default prompt, or enter a custom prompt")),J&67108870&&(Q.$$scope={dirty:J,ctx:K}),P.$set(Q)},i(K){H||(j(G),j(P.$$.fragment,K),H=!0)},o(K){W(G),W(P.$$.fragment,K),H=!1},d(K){K&&(f(e),f(b),f(I),f(w),f(k),f(T)),Il(S,K),F&&F.d(),G&&G.d(K),ge(P),U=!1,B()}}}function su(l){let e,t=l[21]+"",s;return{c(){e=d("option"),s=L(t),this.h()},l(a){e=_(a,"OPTION",{});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){e.__value=l[21],ee(e,e.__value)},m(a,i){R(a,e,i),n(e,s)},p:ft,d(a){a&&f(e)}}}function au(l){let e,t=l[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"",s;return{c(){e=d("div"),s=L(t),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=v(e);s=M(i,t),i.forEach(f),this.h()},h(){o(e,"class","text-gray-500 text-xs")},m(a,i){R(a,e,i),n(e,s)},p(a,i){i&4&&t!==(t=a[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksproceed with extreme caution.")+"")&&C(s,t)},d(a){a&&f(e)}}}function ru(l){let e,t,s=l[2].t("Jupyter URL")+"",a,i,r,c,u,p,E,h,m,g,b=l[2].t("Jupyter Auth")+"",I,w,k,T,D,$=l[2].t("None")+"",V,O,N=l[2].t("Token")+"",P,H,U=l[2].t("Password")+"",B,Y,S,F,G,K,J=l[2].t("Code Execution Timeout")+"",Q,X,ie,ue,le,z,Z,q=l[1].CODE_INTERPRETER_JUPYTER_AUTH&&nu(l);return ue=new Ht({props:{content:l[2].t("Enter timeout in seconds"),$$slots:{default:[x1]},$$scope:{ctx:l}}}),{c(){e=d("div"),t=d("div"),a=L(s),i=A(),r=d("div"),c=d("div"),u=d("input"),E=A(),h=d("div"),m=d("div"),g=d("div"),I=L(b),w=A(),k=d("div"),T=d("select"),D=d("option"),V=L($),O=d("option"),P=L(N),H=d("option"),B=L(U),S=A(),q&&q.c(),F=A(),G=d("div"),K=d("div"),Q=L(J),X=A(),ie=d("div"),pe(ue.$$.fragment),this.h()},l(te){e=_(te,"DIV",{class:!0});var ae=v(e);t=_(ae,"DIV",{class:!0});var de=v(t);a=M(de,s),de.forEach(f),i=y(ae),r=_(ae,"DIV",{class:!0});var ne=v(r);c=_(ne,"DIV",{class:!0});var oe=v(c);u=_(oe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),oe.forEach(f),ne.forEach(f),ae.forEach(f),E=y(te),h=_(te,"DIV",{class:!0});var fe=v(h);m=_(fe,"DIV",{class:!0});var ke=v(m);g=_(ke,"DIV",{class:!0});var Ee=v(g);I=M(Ee,b),Ee.forEach(f),w=y(ke),k=_(ke,"DIV",{});var x=v(k);T=_(x,"SELECT",{class:!0,placeholder:!0});var _e=v(T);D=_(_e,"OPTION",{});var Te=v(D);V=M(Te,$),Te.forEach(f),O=_(_e,"OPTION",{});var be=v(O);P=M(be,N),be.forEach(f),H=_(_e,"OPTION",{});var Ie=v(H);B=M(Ie,U),Ie.forEach(f),_e.forEach(f),x.forEach(f),ke.forEach(f),S=y(fe),q&&q.l(fe),fe.forEach(f),F=y(te),G=_(te,"DIV",{class:!0});var Me=v(G);K=_(Me,"DIV",{class:!0});var ce=v(K);Q=M(ce,J),ce.forEach(f),X=y(Me),ie=_(Me,"DIV",{class:!0});var De=v(ie);ve(ue.$$.fragment,De),De.forEach(f),Me.forEach(f),this.h()},h(){o(t,"class","text-xs font-medium"),o(u,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),o(u,"type","text"),o(u,"placeholder",p=l[2].t("Enter Jupyter URL")),o(u,"autocomplete","off"),o(c,"class","flex-1"),o(r,"class","flex w-full"),o(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(g,"class","text-xs font-medium"),D.selected=!0,D.__value="",ee(D,D.__value),O.__value="token",ee(O,O.__value),H.__value="password",ee(H,H.__value),o(T,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),o(T,"placeholder",Y=l[2].t("Select an auth method")),l[1].CODE_INTERPRETER_JUPYTER_AUTH===void 0&&Hl(()=>l[15].call(T)),o(m,"class","flex gap-2 w-full items-center justify-between"),o(h,"class","mb-2.5 flex flex-col gap-1.5 w-full"),o(K,"class","text-xs font-medium"),o(ie,"class",""),o(G,"class","flex gap-2 w-full items-center justify-between")},m(te,ae){R(te,e,ae),n(e,t),n(t,a),n(e,i),n(e,r),n(r,c),n(c,u),ee(u,l[1].CODE_INTERPRETER_JUPYTER_URL),R(te,E,ae),R(te,h,ae),n(h,m),n(m,g),n(g,I),n(m,w),n(m,k),n(k,T),n(T,D),n(D,V),n(T,O),n(O,P),n(T,H),n(H,B),jt(T,l[1].CODE_INTERPRETER_JUPYTER_AUTH,!0),n(h,S),q&&q.m(h,null),R(te,F,ae),R(te,G,ae),n(G,K),n(K,Q),n(G,X),n(G,ie),me(ue,ie,null),le=!0,z||(Z=[re(u,"input",l[14]),re(T,"change",l[15])],z=!0)},p(te,ae){(!le||ae&4)&&s!==(s=te[2].t("Jupyter URL")+"")&&C(a,s),(!le||ae&4&&p!==(p=te[2].t("Enter Jupyter URL")))&&o(u,"placeholder",p),ae&18&&u.value!==te[1].CODE_INTERPRETER_JUPYTER_URL&&ee(u,te[1].CODE_INTERPRETER_JUPYTER_URL),(!le||ae&4)&&b!==(b=te[2].t("Jupyter Auth")+"")&&C(I,b),(!le||ae&4)&&$!==($=te[2].t("None")+"")&&C(V,$),(!le||ae&4)&&N!==(N=te[2].t("Token")+"")&&C(P,N),(!le||ae&4)&&U!==(U=te[2].t("Password")+"")&&C(B,U),(!le||ae&4&&Y!==(Y=te[2].t("Select an auth method")))&&o(T,"placeholder",Y),ae&18&&jt(T,te[1].CODE_INTERPRETER_JUPYTER_AUTH),te[1].CODE_INTERPRETER_JUPYTER_AUTH?q?(q.p(te,ae),ae&2&&j(q,1)):(q=nu(te),q.c(),j(q,1),q.m(h,null)):q&&(Et(),W(q,1,1,()=>{q=null}),bt()),(!le||ae&4)&&J!==(J=te[2].t("Code Execution Timeout")+"")&&C(Q,J);const de={};ae&4&&(de.content=te[2].t("Enter timeout in seconds")),ae&67108870&&(de.$$scope={dirty:ae,ctx:te}),ue.$set(de)},i(te){le||(j(q),j(ue.$$.fragment,te),le=!0)},o(te){W(q),W(ue.$$.fragment,te),le=!1},d(te){te&&(f(e),f(E),f(h),f(F),f(G)),q&&q.d(),ge(ue),z=!1,bl(Z)}}}function nu(l){let e,t,s,a,i;const r=[Q1,X1],c=[];function u(p,E){return p[1].CODE_INTERPRETER_JUPYTER_AUTH==="password"?0:1}return s=u(l),a=c[s]=r[s](l),{c(){e=d("div"),t=d("div"),a.c(),this.h()},l(p){e=_(p,"DIV",{class:!0});var E=v(e);t=_(E,"DIV",{class:!0});var h=v(t);a.l(h),h.forEach(f),E.forEach(f),this.h()},h(){o(t,"class","flex-1"),o(e,"class","flex w-full gap-2")},m(p,E){R(p,e,E),n(e,t),c[s].m(t,null),i=!0},p(p,E){let h=s;s=u(p),s===h?c[s].p(p,E):(Et(),W(c[h],1,1,()=>{c[h]=null}),bt(),a=c[s],a?a.p(p,E):(a=c[s]=r[s](p),a.c()),j(a,1),a.m(t,null))},i(p){i||(j(a),i=!0)},o(p){W(a),i=!1},d(p){p&&f(e),c[s].d()}}}function X1(l){let e,t,s;function a(r){l[17](r)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Token"),autocomplete:"off"};return l[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=l[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN),e=new $l({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c&4&&(u.placeholder=r[2].t("Enter Jupyter Token")),!t&&c&2&&(t=!0,u.value=r[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function Q1(l){let e,t,s;function a(r){l[16](r)}let i={type:"text",placeholder:l[2].t("Enter Jupyter Password"),autocomplete:"off"};return l[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=l[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD),e=new $l({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c&4&&(u.placeholder=r[2].t("Enter Jupyter Password")),!t&&c&2&&(t=!0,u.value=r[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function x1(l){let e,t,s,a;return{c(){e=d("input"),this.h()},l(i){e=_(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){o(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),o(e,"type","number"),o(e,"placeholder",t=l[2].t("e.g. 60")),o(e,"autocomplete","off")},m(i,r){R(i,e,r),ee(e,l[1].CODE_INTERPRETER_JUPYTER_TIMEOUT),s||(a=re(e,"input",l[18]),s=!0)},p(i,r){r&4&&t!==(t=i[2].t("e.g. 60"))&&o(e,"placeholder",t),r&18&&ts(e.value)!==i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT&&ee(e,i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT)},d(i){i&&f(e),s=!1,a()}}}function e0(l){let e,t,s;function a(r){l[19](r)}let i={placeholder:l[2].t("Leave empty to use the default prompt, or enter a custom prompt")};return l[1].CODE_INTERPRETER_PROMPT_TEMPLATE!==void 0&&(i.value=l[1].CODE_INTERPRETER_PROMPT_TEMPLATE),e=new qa({props:i}),We.push(()=>Qe(e,"value",a)),{c(){pe(e.$$.fragment)},l(r){ve(e.$$.fragment,r)},m(r,c){me(e,r,c),s=!0},p(r,c){const u={};c&4&&(u.placeholder=r[2].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&c&2&&(t=!0,u.value=r[1].CODE_INTERPRETER_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(r){s||(j(e.$$.fragment,r),s=!0)},o(r){W(e.$$.fragment,r),s=!1},d(r){ge(e,r)}}}function t0(l){let e,t,s,a,i,r=l[2].t("Save")+"",c,u,p,E,h=l[1]&&Xo(l);return{c(){e=d("form"),t=d("div"),h&&h.c(),s=A(),a=d("div"),i=d("button"),c=L(r),this.h()},l(m){e=_(m,"FORM",{class:!0});var g=v(e);t=_(g,"DIV",{class:!0});var b=v(t);h&&h.l(b),b.forEach(f),s=y(g),a=_(g,"DIV",{class:!0});var I=v(a);i=_(I,"BUTTON",{class:!0,type:!0});var w=v(i);c=M(w,r),w.forEach(f),I.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),o(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),o(i,"type","submit"),o(a,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,g){R(m,e,g),n(e,t),h&&h.m(t,null),n(e,s),n(e,a),n(a,i),n(i,c),u=!0,p||(E=re(e,"submit",Hs(l[20])),p=!0)},p(m,[g]){m[1]?h?(h.p(m,g),g&2&&j(h,1)):(h=Xo(m),h.c(),j(h,1),h.m(t,null)):h&&(Et(),W(h,1,1,()=>{h=null}),bt()),(!u||g&4)&&r!==(r=m[2].t("Save")+"")&&C(c,r)},i(m){u||(j(h),u=!0)},o(m){W(h),u=!1},d(m){m&&f(e),h&&h.d(),p=!1,E()}}}function l0(l,e,t){let s;const a=Kl("i18n");Wt(l,a,P=>t(2,s=P));let{saveHandler:i}=e,r=null,c=["pyodide","jupyter"];const u=async()=>{await Fu(localStorage.token,r)};bs(async()=>{const P=await Yu(localStorage.token);P&&t(1,r=P)});function p(){r.CODE_EXECUTION_ENGINE=Bl(this),t(1,r),t(4,c)}function E(){r.CODE_EXECUTION_JUPYTER_URL=this.value,t(1,r),t(4,c)}function h(){r.CODE_EXECUTION_JUPYTER_AUTH=Bl(this),t(1,r),t(4,c)}function m(P){l.$$.not_equal(r.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,P)&&(r.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD=P,t(1,r))}function g(P){l.$$.not_equal(r.CODE_EXECUTION_JUPYTER_AUTH_TOKEN,P)&&(r.CODE_EXECUTION_JUPYTER_AUTH_TOKEN=P,t(1,r))}function b(){r.CODE_EXECUTION_JUPYTER_TIMEOUT=ts(this.value),t(1,r),t(4,c)}function I(P){l.$$.not_equal(r.ENABLE_CODE_INTERPRETER,P)&&(r.ENABLE_CODE_INTERPRETER=P,t(1,r))}function w(){r.CODE_INTERPRETER_ENGINE=Bl(this),t(1,r),t(4,c)}function k(){r.CODE_INTERPRETER_JUPYTER_URL=this.value,t(1,r),t(4,c)}function T(){r.CODE_INTERPRETER_JUPYTER_AUTH=Bl(this),t(1,r),t(4,c)}function D(P){l.$$.not_equal(r.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,P)&&(r.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD=P,t(1,r))}function $(P){l.$$.not_equal(r.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,P)&&(r.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN=P,t(1,r))}function V(){r.CODE_INTERPRETER_JUPYTER_TIMEOUT=ts(this.value),t(1,r),t(4,c)}function O(P){l.$$.not_equal(r.CODE_INTERPRETER_PROMPT_TEMPLATE,P)&&(r.CODE_INTERPRETER_PROMPT_TEMPLATE=P,t(1,r))}const N=async()=>{await u(),i()};return l.$$set=P=>{"saveHandler"in P&&t(0,i=P.saveHandler)},[i,r,s,a,c,u,p,E,h,m,g,b,I,w,k,T,D,$,V,O,N]}class s0 extends Ml{constructor(e){super(),Rl(this,e,l0,t0,Ll,{saveHandler:0})}}function a0(l){let e,t;return e=new Ic({props:{saveHandler:l[24]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[24]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function r0(l){let e,t;return e=new Bf({props:{saveHandler:l[23]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[23]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function n0(l){let e,t;return e=new Qc({}),e.$on("save",l[22]),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function i0(l){let e,t;return e=new Cc({props:{saveHandler:l[21]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[21]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function o0(l){let e,t;return e=new fd({}),e.$on("save",l[20]),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function u0(l){let e,t;return e=new s0({props:{saveHandler:l[19]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[19]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function f0(l){let e,t;return e=new k1({props:{saveHandler:l[18]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[18]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function c0(l){let e,t;return e=new l1({}),e.$on("save",l[17]),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function d0(l){let e,t;return e=new q1({}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function _0(l){let e,t;return e=new v_({}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function h0(l){let e,t;return e=new B_({}),e.$on("save",l[16]),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function p0(l){let e,t;return e=new Jf({props:{saveHandler:l[15]}}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p(s,a){const i={};a&2&&(i.saveHandler=s[15]),e.$set(i)},i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}function v0(l){let e,t,s,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,c,u=l[1].t("General")+"",p,E,h,m,g,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',I,w,k=l[1].t("Connections")+"",T,D,$,V,O,N='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',P,H,U=l[1].t("Models")+"",B,Y,S,F,G,K,J,Q,X=l[1].t("Evaluations")+"",ie,ue,le,z,Z,q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M11.625 16.5a1.875 1.875 0 1 0 0-3.75 1.875 1.875 0 0 0 0 3.75Z"></path><path fill-rule="evenodd" d="M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6 16.5c.66 0 1.277-.19 1.797-.518l1.048 1.048a.75.75 0 0 0 1.06-1.06l-1.047-1.048A3.375 3.375 0 1 0 11.625 18Z" clip-rule="evenodd"></path><path d="M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"></path></svg>',te,ae,de=l[1].t("Documents")+"",ne,oe,fe,ke,Ee,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path d="M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"></path></svg>',_e,Te,be=l[1].t("Web Search")+"",Ie,Me,ce,De,Ce,Ue='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2.22 1.97a.75.75 0 0 0 0 1.06l.97.97-.97.97a.75.75 0 1 0 1.06 1.06l1.5-1.5a.75.75 0 0 0 0-1.06l-1.5-1.5a.75.75 0 0 0-1.06 0ZM8.75 8.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z" clip-rule="evenodd"></path></svg>',se,ye,Be=l[1].t("Code Execution")+"",$e,Le,Ge,qe,Ke,je='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',Ae,Ve,Pe=l[1].t("Interface")+"",st,It,at,Ze,pt,Lt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',Dt,Tt,_t=l[1].t("Audio")+"",tt,rt,nt,ut,dt,vt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',he,Ne,kt=l[1].t("Images")+"",ot,gt,wt,Mt,zt,Kt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"></path><path d="m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"></path><path d="m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"></path></svg>',Xt,Gt,ll=l[1].t("Pipelines")+"",qt,At,Re,we,xe,Ot='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',Ut,ct,Nt=l[1].t("Database")+"",$t,Ct,He,et,ht,Pt,Je,hl,sl;K=new A1({});const Qt=[p0,h0,_0,d0,c0,f0,u0,o0,i0,n0,r0,a0],Zt=[];function rl(it,yt){return it[0]==="general"?0:it[0]==="connections"?1:it[0]==="models"?2:it[0]==="evaluations"?3:it[0]==="documents"?4:it[0]==="web"?5:it[0]==="code-execution"?6:it[0]==="interface"?7:it[0]==="audio"?8:it[0]==="images"?9:it[0]==="db"?10:it[0]==="pipelines"?11:-1}return~(ht=rl(l))&&(Pt=Zt[ht]=Qt[ht](l)),{c(){e=d("div"),t=d("div"),s=d("button"),a=d("div"),a.innerHTML=i,r=A(),c=d("div"),p=L(u),h=A(),m=d("button"),g=d("div"),g.innerHTML=b,I=A(),w=d("div"),T=L(k),$=A(),V=d("button"),O=d("div"),O.innerHTML=N,P=A(),H=d("div"),B=L(U),S=A(),F=d("button"),G=d("div"),pe(K.$$.fragment),J=A(),Q=d("div"),ie=L(X),le=A(),z=d("button"),Z=d("div"),Z.innerHTML=q,te=A(),ae=d("div"),ne=L(de),fe=A(),ke=d("button"),Ee=d("div"),Ee.innerHTML=x,_e=A(),Te=d("div"),Ie=L(be),ce=A(),De=d("button"),Ce=d("div"),Ce.innerHTML=Ue,se=A(),ye=d("div"),$e=L(Be),Ge=A(),qe=d("button"),Ke=d("div"),Ke.innerHTML=je,Ae=A(),Ve=d("div"),st=L(Pe),at=A(),Ze=d("button"),pt=d("div"),pt.innerHTML=Lt,Dt=A(),Tt=d("div"),tt=L(_t),nt=A(),ut=d("button"),dt=d("div"),dt.innerHTML=vt,he=A(),Ne=d("div"),ot=L(kt),wt=A(),Mt=d("button"),zt=d("div"),zt.innerHTML=Kt,Xt=A(),Gt=d("div"),qt=L(ll),Re=A(),we=d("button"),xe=d("div"),xe.innerHTML=Ot,Ut=A(),ct=d("div"),$t=L(Nt),He=A(),et=d("div"),Pt&&Pt.c(),this.h()},l(it){e=_(it,"DIV",{class:!0});var yt=v(e);t=_(yt,"DIV",{id:!0,class:!0});var Rt=v(t);s=_(Rt,"BUTTON",{class:!0});var dl=v(s);a=_(dl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(a)!=="svelte-1e9u9pw"&&(a.innerHTML=i),r=y(dl),c=_(dl,"DIV",{class:!0});var Tl=v(c);p=M(Tl,u),Tl.forEach(f),dl.forEach(f),h=y(Rt),m=_(Rt,"BUTTON",{class:!0});var gl=v(m);g=_(gl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(g)!=="svelte-1xixjje"&&(g.innerHTML=b),I=y(gl),w=_(gl,"DIV",{class:!0});var wl=v(w);T=M(wl,k),wl.forEach(f),gl.forEach(f),$=y(Rt),V=_(Rt,"BUTTON",{class:!0});var Yt=v(V);O=_(Yt,"DIV",{class:!0,"data-svelte-h":!0}),Bt(O)!=="svelte-17kkxfv"&&(O.innerHTML=N),P=y(Yt),H=_(Yt,"DIV",{class:!0});var Nl=v(H);B=M(Nl,U),Nl.forEach(f),Yt.forEach(f),S=y(Rt),F=_(Rt,"BUTTON",{class:!0});var Al=v(F);G=_(Al,"DIV",{class:!0});var pl=v(G);ve(K.$$.fragment,pl),pl.forEach(f),J=y(Al),Q=_(Al,"DIV",{class:!0});var Jt=v(Q);ie=M(Jt,X),Jt.forEach(f),Al.forEach(f),le=y(Rt),z=_(Rt,"BUTTON",{class:!0});var nl=v(z);Z=_(nl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Z)!=="svelte-ofbvgh"&&(Z.innerHTML=q),te=y(nl),ae=_(nl,"DIV",{class:!0});var fl=v(ae);ne=M(fl,de),fl.forEach(f),nl.forEach(f),fe=y(Rt),ke=_(Rt,"BUTTON",{class:!0});var Yl=v(ke);Ee=_(Yl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Ee)!=="svelte-1t9ru36"&&(Ee.innerHTML=x),_e=y(Yl),Te=_(Yl,"DIV",{class:!0});var as=v(Te);Ie=M(as,be),as.forEach(f),Yl.forEach(f),ce=y(Rt),De=_(Rt,"BUTTON",{class:!0});var cl=v(De);Ce=_(cl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Ce)!=="svelte-b77hoq"&&(Ce.innerHTML=Ue),se=y(cl),ye=_(cl,"DIV",{class:!0});var Vl=v(ye);$e=M(Vl,Be),Vl.forEach(f),cl.forEach(f),Ge=y(Rt),qe=_(Rt,"BUTTON",{class:!0});var zl=v(qe);Ke=_(zl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(Ke)!=="svelte-1i52rm6"&&(Ke.innerHTML=je),Ae=y(zl),Ve=_(zl,"DIV",{class:!0});var _l=v(Ve);st=M(_l,Pe),_l.forEach(f),zl.forEach(f),at=y(Rt),Ze=_(Rt,"BUTTON",{class:!0});var rs=v(Ze);pt=_(rs,"DIV",{class:!0,"data-svelte-h":!0}),Bt(pt)!=="svelte-sf0iba"&&(pt.innerHTML=Lt),Dt=y(rs),Tt=_(rs,"DIV",{class:!0});var kl=v(Tt);tt=M(kl,_t),kl.forEach(f),rs.forEach(f),nt=y(Rt),ut=_(Rt,"BUTTON",{class:!0});var Gl=v(ut);dt=_(Gl,"DIV",{class:!0,"data-svelte-h":!0}),Bt(dt)!=="svelte-1gc3odz"&&(dt.innerHTML=vt),he=y(Gl),Ne=_(Gl,"DIV",{class:!0});var Pl=v(Ne);ot=M(Pl,kt),Pl.forEach(f),Gl.forEach(f),wt=y(Rt),Mt=_(Rt,"BUTTON",{class:!0});var Ft=v(Mt);zt=_(Ft,"DIV",{class:!0,"data-svelte-h":!0}),Bt(zt)!=="svelte-1q46caf"&&(zt.innerHTML=Kt),Xt=y(Ft),Gt=_(Ft,"DIV",{class:!0});var Cl=v(Gt);qt=M(Cl,ll),Cl.forEach(f),Ft.forEach(f),Re=y(Rt),we=_(Rt,"BUTTON",{class:!0});var xt=v(we);xe=_(xt,"DIV",{class:!0,"data-svelte-h":!0}),Bt(xe)!=="svelte-35c53k"&&(xe.innerHTML=Ot),Ut=y(xt),ct=_(xt,"DIV",{class:!0});var Fs=v(ct);$t=M(Fs,Nt),Fs.forEach(f),xt.forEach(f),Rt.forEach(f),He=y(yt),et=_(yt,"DIV",{class:!0});var El=v(et);Pt&&Pt.l(El),El.forEach(f),yt.forEach(f),this.h()},h(){o(a,"class","self-center mr-2"),o(c,"class","self-center"),o(s,"class",E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(l[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(g,"class","self-center mr-2"),o(w,"class","self-center"),o(m,"class",D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(O,"class","self-center mr-2"),o(H,"class","self-center"),o(V,"class",Y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(G,"class","self-center mr-2"),o(Q,"class","self-center"),o(F,"class",ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Z,"class","self-center mr-2"),o(ae,"class","self-center"),o(z,"class",oe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ee,"class","self-center mr-2"),o(Te,"class","self-center"),o(ke,"class",Me="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ce,"class","self-center mr-2"),o(ye,"class","self-center"),o(De,"class",Le="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="code-execution"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(Ke,"class","self-center mr-2"),o(Ve,"class","self-center"),o(qe,"class",It="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(pt,"class","self-center mr-2"),o(Tt,"class","self-center"),o(Ze,"class",rt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(dt,"class","self-center mr-2"),o(Ne,"class","self-center"),o(ut,"class",gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(zt,"class","self-center mr-2"),o(Gt,"class","self-center"),o(Mt,"class",At="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(xe,"class","self-center mr-2"),o(ct,"class","self-center"),o(we,"class",Ct="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(l[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),o(t,"id","admin-settings-tabs-container"),o(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),o(et,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),o(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(it,yt){R(it,e,yt),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(c,p),n(t,h),n(t,m),n(m,g),n(m,I),n(m,w),n(w,T),n(t,$),n(t,V),n(V,O),n(V,P),n(V,H),n(H,B),n(t,S),n(t,F),n(F,G),me(K,G,null),n(F,J),n(F,Q),n(Q,ie),n(t,le),n(t,z),n(z,Z),n(z,te),n(z,ae),n(ae,ne),n(t,fe),n(t,ke),n(ke,Ee),n(ke,_e),n(ke,Te),n(Te,Ie),n(t,ce),n(t,De),n(De,Ce),n(De,se),n(De,ye),n(ye,$e),n(t,Ge),n(t,qe),n(qe,Ke),n(qe,Ae),n(qe,Ve),n(Ve,st),n(t,at),n(t,Ze),n(Ze,pt),n(Ze,Dt),n(Ze,Tt),n(Tt,tt),n(t,nt),n(t,ut),n(ut,dt),n(ut,he),n(ut,Ne),n(Ne,ot),n(t,wt),n(t,Mt),n(Mt,zt),n(Mt,Xt),n(Mt,Gt),n(Gt,qt),n(t,Re),n(t,we),n(we,xe),n(we,Ut),n(we,ct),n(ct,$t),n(e,He),n(e,et),~ht&&Zt[ht].m(et,null),Je=!0,hl||(sl=[re(s,"click",l[3]),re(m,"click",l[4]),re(V,"click",l[5]),re(F,"click",l[6]),re(z,"click",l[7]),re(ke,"click",l[8]),re(De,"click",l[9]),re(qe,"click",l[10]),re(Ze,"click",l[11]),re(ut,"click",l[12]),re(Mt,"click",l[13]),re(we,"click",l[14])],hl=!0)},p(it,[yt]){(!Je||yt&2)&&u!==(u=it[1].t("General")+"")&&C(p,u),(!Je||yt&1&&E!==(E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(it[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(s,"class",E),(!Je||yt&2)&&k!==(k=it[1].t("Connections")+"")&&C(T,k),(!Je||yt&1&&D!==(D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(m,"class",D),(!Je||yt&2)&&U!==(U=it[1].t("Models")+"")&&C(B,U),(!Je||yt&1&&Y!==(Y="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="models"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(V,"class",Y),(!Je||yt&2)&&X!==(X=it[1].t("Evaluations")+"")&&C(ie,X),(!Je||yt&1&&ue!==(ue="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="evaluations"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(F,"class",ue),(!Je||yt&2)&&de!==(de=it[1].t("Documents")+"")&&C(ne,de),(!Je||yt&1&&oe!==(oe="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="documents"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(z,"class",oe),(!Je||yt&2)&&be!==(be=it[1].t("Web Search")+"")&&C(Ie,be),(!Je||yt&1&&Me!==(Me="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="web"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ke,"class",Me),(!Je||yt&2)&&Be!==(Be=it[1].t("Code Execution")+"")&&C($e,Be),(!Je||yt&1&&Le!==(Le="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="code-execution"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(De,"class",Le),(!Je||yt&2)&&Pe!==(Pe=it[1].t("Interface")+"")&&C(st,Pe),(!Je||yt&1&&It!==(It="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="interface"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(qe,"class",It),(!Je||yt&2)&&_t!==(_t=it[1].t("Audio")+"")&&C(tt,_t),(!Je||yt&1&&rt!==(rt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Ze,"class",rt),(!Je||yt&2)&&kt!==(kt=it[1].t("Images")+"")&&C(ot,kt),(!Je||yt&1&&gt!==(gt="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="images"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(ut,"class",gt),(!Je||yt&2)&&ll!==(ll=it[1].t("Pipelines")+"")&&C(qt,ll),(!Je||yt&1&&At!==(At="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="pipelines"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(Mt,"class",At),(!Je||yt&2)&&Nt!==(Nt=it[1].t("Database")+"")&&C($t,Nt),(!Je||yt&1&&Ct!==(Ct="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(it[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&o(we,"class",Ct);let Rt=ht;ht=rl(it),ht===Rt?~ht&&Zt[ht].p(it,yt):(Pt&&(Et(),W(Zt[Rt],1,1,()=>{Zt[Rt]=null}),bt()),~ht?(Pt=Zt[ht],Pt?Pt.p(it,yt):(Pt=Zt[ht]=Qt[ht](it),Pt.c()),j(Pt,1),Pt.m(et,null)):Pt=null)},i(it){Je||(j(K.$$.fragment,it),j(Pt),Je=!0)},o(it){W(K.$$.fragment,it),W(Pt),Je=!1},d(it){it&&f(e),ge(K),~ht&&Zt[ht].d(),hl=!1,bl(sl)}}}function m0(l,e,t){let s;const a=Kl("i18n");Wt(l,a,Y=>t(1,s=Y));let i="general";return bs(()=>{const Y=document.getElementById("admin-settings-tabs-container");Y&&Y.addEventListener("wheel",function(S){S.deltaY!==0&&(Y.scrollLeft+=S.deltaY)})}),[i,s,a,()=>{t(0,i="general")},()=>{t(0,i="connections")},()=>{t(0,i="models")},()=>{t(0,i="evaluations")},()=>{t(0,i="documents")},()=>{t(0,i="web")},()=>{t(0,i="code-execution")},()=>{t(0,i="interface")},()=>{t(0,i="audio")},()=>{t(0,i="images")},()=>{t(0,i="pipelines")},()=>{t(0,i="db")},async()=>{Fe.success(s.t("Settings saved successfully!")),await sr(),await Ps.set(await Wa())},()=>{Fe.success(s.t("Settings saved successfully!"))},async()=>{Fe.success(s.t("Settings saved successfully!")),await sr(),await Ps.set(await Wa())},async()=>{Fe.success(s.t("Settings saved successfully!")),await sr(),await Ps.set(await Wa())},async()=>{Fe.success(s.t("Settings saved successfully!")),await sr(),await Ps.set(await Wa())},()=>{Fe.success(s.t("Settings saved successfully!"))},()=>{Fe.success(s.t("Settings saved successfully!"))},()=>{Fe.success(s.t("Settings saved successfully!"))},()=>{Fe.success(s.t("Settings saved successfully!"))},()=>{Fe.success(s.t("Settings saved successfully!"))}]}class g0 extends Ml{constructor(e){super(),Rl(this,e,m0,v0,Ll,{})}}function E0(l){let e,t;return e=new g0({}),{c(){pe(e.$$.fragment)},l(s){ve(e.$$.fragment,s)},m(s,a){me(e,s,a),t=!0},p:ft,i(s){t||(j(e.$$.fragment,s),t=!0)},o(s){W(e.$$.fragment,s),t=!1},d(s){ge(e,s)}}}class lh extends Ml{constructor(e){super(),Rl(this,e,null,E0,Ll,{})}}export{lh as component};
//# sourceMappingURL=13.KAZodkuP.js.map
