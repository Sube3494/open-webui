{"version":3,"file":"ModelEditor.B2xr1rg5.js","sources":["../../../../../../src/lib/components/workspace/Models/Knowledge/Selector.svelte","../../../../../../src/lib/components/workspace/Models/Knowledge.svelte","../../../../../../src/lib/components/workspace/Models/ToolsSelector.svelte","../../../../../../src/lib/components/workspace/Models/FiltersSelector.svelte","../../../../../../src/lib/components/workspace/Models/ActionsSelector.svelte","../../../../../../src/lib/components/workspace/Models/Capabilities.svelte","../../../../../../src/lib/components/workspace/Models/ModelEditor.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport Fuse from 'fuse.js';\r\n\r\n\timport { DropdownMenu } from 'bits-ui';\r\n\timport { onMount, getContext, createEventDispatcher } from 'svelte';\r\n\timport { flyAndScale } from '$lib/utils/transitions';\r\n\timport { knowledge } from '$lib/stores';\r\n\timport Dropdown from '$lib/components/common/Dropdown.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\texport let onClose: Function = () => {};\r\n\r\n\tlet query = '';\r\n\r\n\tlet items = [];\r\n\tlet filteredItems = [];\r\n\r\n\tlet fuse = null;\r\n\t$: if (fuse) {\r\n\t\tfilteredItems = query\r\n\t\t\t? fuse.search(query).map((e) => {\r\n\t\t\t\t\treturn e.item;\r\n\t\t\t\t})\r\n\t\t\t: items;\r\n\t}\r\n\r\n\tonMount(() => {\r\n\t\tlet legacy_documents = $knowledge.filter((item) => item?.meta?.document);\r\n\t\tlet legacy_collections =\r\n\t\t\tlegacy_documents.length > 0\r\n\t\t\t\t? [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: 'All Documents',\r\n\t\t\t\t\t\t\tlegacy: true,\r\n\t\t\t\t\t\t\ttype: 'collection',\r\n\t\t\t\t\t\t\tdescription: 'Deprecated (legacy collection), please create a new knowledge base.',\r\n\r\n\t\t\t\t\t\t\ttitle: $i18n.t('All Documents'),\r\n\t\t\t\t\t\t\tcollection_names: legacy_documents.map((item) => item.id)\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t...legacy_documents\r\n\t\t\t\t\t\t\t.reduce((a, item) => {\r\n\t\t\t\t\t\t\t\treturn [...new Set([...a, ...(item?.meta?.tags ?? []).map((tag) => tag.name)])];\r\n\t\t\t\t\t\t\t}, [])\r\n\t\t\t\t\t\t\t.map((tag) => ({\r\n\t\t\t\t\t\t\t\tname: tag,\r\n\t\t\t\t\t\t\t\tlegacy: true,\r\n\t\t\t\t\t\t\t\ttype: 'collection',\r\n\t\t\t\t\t\t\t\tdescription: 'Deprecated (legacy collection), please create a new knowledge base.',\r\n\r\n\t\t\t\t\t\t\t\tcollection_names: legacy_documents\r\n\t\t\t\t\t\t\t\t\t.filter((item) => (item?.meta?.tags ?? []).map((tag) => tag.name).includes(tag))\r\n\t\t\t\t\t\t\t\t\t.map((item) => item.id)\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t]\r\n\t\t\t\t: [];\r\n\r\n\t\titems = [...$knowledge, ...legacy_collections].map((item) => {\r\n\t\t\treturn {\r\n\t\t\t\t...item,\r\n\t\t\t\t...(item?.legacy || item?.meta?.legacy || item?.meta?.document ? { legacy: true } : {}),\r\n\t\t\t\ttype: item?.meta?.document ? 'document' : 'collection'\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tfuse = new Fuse(items, {\r\n\t\t\tkeys: ['name', 'description']\r\n\t\t});\r\n\t});\r\n</script>\r\n\r\n<Dropdown\r\n\ton:change={(e) => {\r\n\t\tif (e.detail === false) {\r\n\t\t\tonClose();\r\n\t\t\tquery = '';\r\n\t\t}\r\n\t}}\r\n>\r\n\t<slot />\r\n\r\n\t<div slot=\"content\">\r\n\t\t<DropdownMenu.Content\r\n\t\t\tclass=\"w-full max-w-80 rounded-lg px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg\"\r\n\t\t\tsideOffset={8}\r\n\t\t\tside=\"bottom\"\r\n\t\t\talign=\"start\"\r\n\t\t\ttransition={flyAndScale}\r\n\t\t>\r\n\t\t\t<div class=\" flex w-full space-x-2 py-0.5 px-2\">\r\n\t\t\t\t<div class=\"flex flex-1\">\r\n\t\t\t\t\t<div class=\" self-center ml-1 mr-3\">\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\r\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\r\n\t\t\t\t\t\tbind:value={query}\r\n\t\t\t\t\t\tplaceholder={$i18n.t('Search Knowledge')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<hr class=\" border-gray-50 dark:border-gray-700 my-1.5\" />\r\n\r\n\t\t\t<div class=\"max-h-48 overflow-y-scroll\">\r\n\t\t\t\t{#if filteredItems.length === 0}\r\n\t\t\t\t\t<div class=\"text-center text-sm text-gray-500 dark:text-gray-400\">\r\n\t\t\t\t\t\t{$i18n.t('No knowledge found')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t{#each filteredItems as item}\r\n\t\t\t\t\t\t<DropdownMenu.Item\r\n\t\t\t\t\t\t\tclass=\"flex gap-2.5 items-center px-3 py-2 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tdispatch('select', item);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t\t\t<div class=\" w-fit mb-0.5\">\r\n\t\t\t\t\t\t\t\t\t\t{#if item.legacy}\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded-sm uppercase text-xs font-bold px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tLegacy\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{:else if item?.meta?.document}\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-gray-500/20 text-gray-700 dark:text-gray-200 rounded-sm uppercase text-xs font-bold px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDocument\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-green-500/20 text-green-700 dark:text-green-200 rounded-sm uppercase text-xs font-bold px-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCollection\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1 font-medium pr-0.5\">\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</DropdownMenu.Item>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t</DropdownMenu.Content>\r\n\t</div>\r\n</Dropdown>\r\n","<script lang=\"ts\">\r\n\timport { getContext } from 'svelte';\r\n\timport Selector from './Knowledge/Selector.svelte';\r\n\timport FileItem from '$lib/components/common/FileItem.svelte';\r\n\r\n\texport let selectedKnowledge = [];\r\n\texport let collections = [];\r\n\r\n\tconst i18n = getContext('i18n');\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Knowledge')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To attach knowledge base here, add them to the \"Knowledge\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if selectedKnowledge?.length > 0}\r\n\t\t\t<div class=\" flex flex-wrap items-center gap-2 mt-2\">\r\n\t\t\t\t{#each selectedKnowledge as file, fileIdx}\r\n\t\t\t\t\t<FileItem\r\n\t\t\t\t\t\t{file}\r\n\t\t\t\t\t\tname={file.name}\r\n\t\t\t\t\t\ttype={file?.legacy\r\n\t\t\t\t\t\t\t? `Legacy${file.type ? ` ${file.type}` : ''}`\r\n\t\t\t\t\t\t\t: (file?.type ?? 'Collection')}\r\n\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\ton:dismiss={(e) => {\r\n\t\t\t\t\t\t\tselectedKnowledge = selectedKnowledge.filter((_, idx) => idx !== fileIdx);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\r\n\t\t<div class=\"flex flex-wrap text-sm font-medium gap-1.5 mt-2\">\r\n\t\t\t<Selector\r\n\t\t\t\ton:select={(e) => {\r\n\t\t\t\t\tconst item = e.detail;\r\n\r\n\t\t\t\t\tif (!selectedKnowledge.find((k) => k.id === item.id)) {\r\n\t\t\t\t\t\tselectedKnowledge = [\r\n\t\t\t\t\t\t\t...selectedKnowledge,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t...item\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\" px-3.5 py-1.5 font-medium hover:bg-black/5 dark:hover:bg-white/5 outline outline-1 outline-gray-100 dark:outline-gray-850 rounded-3xl\"\r\n\t\t\t\t\ttype=\"button\">{$i18n.t('Select Knowledge')}</button\r\n\t\t\t\t>\r\n\t\t\t</Selector>\r\n\t\t</div>\r\n\t\t<!-- {knowledge} -->\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport { getContext, onMount } from 'svelte';\r\n\r\n\texport let tools = [];\r\n\r\n\tlet _tools = {};\r\n\r\n\texport let selectedToolIds = [];\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tonMount(() => {\r\n\t\t_tools = tools.reduce((acc, tool) => {\r\n\t\t\tacc[tool.id] = {\r\n\t\t\t\t...tool,\r\n\t\t\t\tselected: selectedToolIds.includes(tool.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Tools')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select toolkits here, add them to the \"Tools\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if tools.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_tools) as tool, toolIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_tools[tool].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_tools[tool].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedToolIds = Object.keys(_tools).filter((t) => _tools[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t{_tools[tool].name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { getContext, onMount } from 'svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let filters = [];\r\n\texport let selectedFilterIds = [];\r\n\r\n\tlet _filters = {};\r\n\r\n\tonMount(() => {\r\n\t\t_filters = filters.reduce((acc, filter) => {\r\n\t\t\tacc[filter.id] = {\r\n\t\t\t\t...filter,\r\n\t\t\t\tselected: selectedFilterIds.includes(filter.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Filters')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select filters here, add them to the \"Functions\" workspace first.')}\r\n\t</div>\r\n\r\n\t<!-- TODO: Filer order matters -->\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if filters.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_filters) as filter, filterIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_filters[filter].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_filters[filter].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedFilterIds = Object.keys(_filters).filter((t) => _filters[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t<Tooltip content={_filters[filter].meta.description}>\r\n\t\t\t\t\t\t\t\t{_filters[filter].name}\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { getContext, onMount } from 'svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let actions = [];\r\n\texport let selectedActionIds = [];\r\n\r\n\tlet _actions = {};\r\n\r\n\tonMount(() => {\r\n\t\t_actions = actions.reduce((acc, action) => {\r\n\t\t\tacc[action.id] = {\r\n\t\t\t\t...action,\r\n\t\t\t\tselected: selectedActionIds.includes(action.id)\r\n\t\t\t};\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t});\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Actions')}</div>\r\n\t</div>\r\n\r\n\t<div class=\" text-xs dark:text-gray-500\">\r\n\t\t{$i18n.t('To select actions here, add them to the \"Functions\" workspace first.')}\r\n\t</div>\r\n\r\n\t<div class=\"flex flex-col\">\r\n\t\t{#if actions.length > 0}\r\n\t\t\t<div class=\" flex items-center mt-2 flex-wrap\">\r\n\t\t\t\t{#each Object.keys(_actions) as action, actionIdx}\r\n\t\t\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t\t\t<div class=\"self-center flex items-center\">\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tstate={_actions[action].selected ? 'checked' : 'unchecked'}\r\n\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t_actions[action].selected = e.detail === 'checked';\r\n\t\t\t\t\t\t\t\t\tselectedActionIds = Object.keys(_actions).filter((t) => _actions[t].selected);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\" py-0.5 text-sm w-full capitalize font-medium\">\r\n\t\t\t\t\t\t\t<Tooltip content={_actions[action].meta.description}>\r\n\t\t\t\t\t\t\t\t{_actions[action].name}\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { getContext } from 'svelte';\r\n\timport Checkbox from '$lib/components/common/Checkbox.svelte';\r\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\r\n\timport { marked } from 'marked';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\tconst helpText = {\r\n\t\tvision: $i18n.t('Model accepts image inputs'),\r\n\t\tusage: $i18n.t(\r\n\t\t\t'Sends `stream_options: { include_usage: true }` in the request.\\nSupported providers will return token usage information in the response when set.'\r\n\t\t),\r\n\t\tcitations: $i18n.t('Displays citations in the response')\r\n\t};\r\n\r\n\texport let capabilities: {\r\n\t\tvision?: boolean;\r\n\t\tusage?: boolean;\r\n\t\tcitations?: boolean;\r\n\t} = {};\r\n</script>\r\n\r\n<div>\r\n\t<div class=\"flex w-full justify-between mb-1\">\r\n\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Capabilities')}</div>\r\n\t</div>\r\n\t<div class=\"flex\">\r\n\t\t{#each Object.keys(capabilities) as capability}\r\n\t\t\t<div class=\" flex items-center gap-2 mr-3\">\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tstate={capabilities[capability] ? 'checked' : 'unchecked'}\r\n\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\tcapabilities[capability] = e.detail === 'checked';\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div class=\" py-0.5 text-sm capitalize\">\r\n\t\t\t\t\t<Tooltip content={marked.parse(helpText[capability])}>\r\n\t\t\t\t\t\t{$i18n.t(capability)}\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { onMount, getContext, tick } from 'svelte';\r\n\timport { models, tools, functions, knowledge as knowledgeCollections, user } from '$lib/stores';\r\n\r\n\timport AdvancedParams from '$lib/components/chat/Settings/Advanced/AdvancedParams.svelte';\r\n\timport Tags from '$lib/components/common/Tags.svelte';\r\n\timport Knowledge from '$lib/components/workspace/Models/Knowledge.svelte';\r\n\timport ToolsSelector from '$lib/components/workspace/Models/ToolsSelector.svelte';\r\n\timport FiltersSelector from '$lib/components/workspace/Models/FiltersSelector.svelte';\r\n\timport ActionsSelector from '$lib/components/workspace/Models/ActionsSelector.svelte';\r\n\timport Capabilities from '$lib/components/workspace/Models/Capabilities.svelte';\r\n\timport Textarea from '$lib/components/common/Textarea.svelte';\r\n\timport { getTools } from '$lib/apis/tools';\r\n\timport { getFunctions } from '$lib/apis/functions';\r\n\timport { getKnowledgeBases } from '$lib/apis/knowledge';\r\n\timport AccessControl from '../common/AccessControl.svelte';\r\n\timport { stringify } from 'postcss';\r\n\timport { toast } from 'svelte-sonner';\r\n\r\n\tconst i18n = getContext('i18n');\r\n\r\n\texport let onSubmit: Function;\r\n\texport let onBack: null | Function = null;\r\n\r\n\texport let model = null;\r\n\texport let edit = false;\r\n\r\n\texport let preset = true;\r\n\r\n\tlet loading = false;\r\n\tlet success = false;\r\n\r\n\tlet filesInputElement;\r\n\tlet inputFiles;\r\n\r\n\tlet showAdvanced = false;\r\n\tlet showPreview = false;\r\n\r\n\tlet loaded = false;\r\n\r\n\t// ///////////\r\n\t// model\r\n\t// ///////////\r\n\r\n\tlet id = '';\r\n\tlet name = '';\r\n\r\n\tlet enableDescription = true;\r\n\r\n\t$: if (!edit) {\r\n\t\tif (name) {\r\n\t\t\tid = name\r\n\t\t\t\t.replace(/\\s+/g, '-')\r\n\t\t\t\t.replace(/[^a-zA-Z0-9-]/g, '')\r\n\t\t\t\t.toLowerCase();\r\n\t\t}\r\n\t}\r\n\r\n\tlet info = {\r\n\t\tid: '',\r\n\t\tbase_model_id: null,\r\n\t\tname: '',\r\n\t\tmeta: {\r\n\t\t\tprofile_image_url: '/static/favicon.png',\r\n\t\t\tdescription: '',\r\n\t\t\tsuggestion_prompts: null,\r\n\t\t\ttags: []\r\n\t\t},\r\n\t\tparams: {\r\n\t\t\tsystem: ''\r\n\t\t}\r\n\t};\r\n\r\n\tlet params = {\r\n\t\tsystem: ''\r\n\t};\r\n\tlet capabilities = {\r\n\t\tvision: true,\r\n\t\tusage: undefined,\r\n\t\tcitations: true\r\n\t};\r\n\r\n\tlet knowledge = [];\r\n\tlet toolIds = [];\r\n\tlet filterIds = [];\r\n\tlet actionIds = [];\r\n\r\n\tlet accessControl = {};\r\n\r\n\tconst addUsage = (base_model_id) => {\r\n\t\tconst baseModel = $models.find((m) => m.id === base_model_id);\r\n\r\n\t\tif (baseModel) {\r\n\t\t\tif (baseModel.owned_by === 'openai') {\r\n\t\t\t\tcapabilities.usage = baseModel?.meta?.capabilities?.usage ?? false;\r\n\t\t\t} else {\r\n\t\t\t\tdelete capabilities.usage;\r\n\t\t\t}\r\n\t\t\tcapabilities = capabilities;\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = async () => {\r\n\t\tloading = true;\r\n\r\n\t\tinfo.id = id;\r\n\t\tinfo.name = name;\r\n\r\n\t\tif (id === '') {\r\n\t\t\ttoast.error('Model ID is required.');\r\n\t\t}\r\n\r\n\t\tif (name === '') {\r\n\t\t\ttoast.error('Model Name is required.');\r\n\t\t}\r\n\r\n\t\tinfo.access_control = accessControl;\r\n\t\tinfo.meta.capabilities = capabilities;\r\n\r\n\t\tif (enableDescription) {\r\n\t\t\tinfo.meta.description = info.meta.description.trim() === '' ? null : info.meta.description;\r\n\t\t} else {\r\n\t\t\tinfo.meta.description = null;\r\n\t\t}\r\n\r\n\t\tif (knowledge.length > 0) {\r\n\t\t\tinfo.meta.knowledge = knowledge;\r\n\t\t} else {\r\n\t\t\tif (info.meta.knowledge) {\r\n\t\t\t\tdelete info.meta.knowledge;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (toolIds.length > 0) {\r\n\t\t\tinfo.meta.toolIds = toolIds;\r\n\t\t} else {\r\n\t\t\tif (info.meta.toolIds) {\r\n\t\t\t\tdelete info.meta.toolIds;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (filterIds.length > 0) {\r\n\t\t\tinfo.meta.filterIds = filterIds;\r\n\t\t} else {\r\n\t\t\tif (info.meta.filterIds) {\r\n\t\t\t\tdelete info.meta.filterIds;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (actionIds.length > 0) {\r\n\t\t\tinfo.meta.actionIds = actionIds;\r\n\t\t} else {\r\n\t\t\tif (info.meta.actionIds) {\r\n\t\t\t\tdelete info.meta.actionIds;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinfo.params.stop = params.stop ? params.stop.split(',').filter((s) => s.trim()) : null;\r\n\t\tObject.keys(info.params).forEach((key) => {\r\n\t\t\tif (info.params[key] === '' || info.params[key] === null) {\r\n\t\t\t\tdelete info.params[key];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tawait onSubmit(info);\r\n\r\n\t\tloading = false;\r\n\t\tsuccess = false;\r\n\t};\r\n\r\n\tonMount(async () => {\r\n\t\tawait tools.set(await getTools(localStorage.token));\r\n\t\tawait functions.set(await getFunctions(localStorage.token));\r\n\t\tawait knowledgeCollections.set(await getKnowledgeBases(localStorage.token));\r\n\r\n\t\t// Scroll to top 'workspace-container' element\r\n\t\tconst workspaceContainer = document.getElementById('workspace-container');\r\n\t\tif (workspaceContainer) {\r\n\t\t\tworkspaceContainer.scrollTop = 0;\r\n\t\t}\r\n\r\n\t\tif (model) {\r\n\t\t\tconsole.log(model);\r\n\t\t\tname = model.name;\r\n\t\t\tawait tick();\r\n\r\n\t\t\tid = model.id;\r\n\r\n\t\t\tenableDescription = model?.meta?.description !== null;\r\n\r\n\t\t\tif (model.base_model_id) {\r\n\t\t\t\tconst base_model = $models\r\n\t\t\t\t\t.filter((m) => !m?.preset && !(m?.arena ?? false))\r\n\t\t\t\t\t.find((m) => [model.base_model_id, `${model.base_model_id}:latest`].includes(m.id));\r\n\r\n\t\t\t\tconsole.log('base_model', base_model);\r\n\r\n\t\t\t\tif (base_model) {\r\n\t\t\t\t\tmodel.base_model_id = base_model.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmodel.base_model_id = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tparams = { ...params, ...model?.params };\r\n\t\t\tparams.stop = params?.stop\r\n\t\t\t\t? (typeof params.stop === 'string' ? params.stop.split(',') : (params?.stop ?? [])).join(\r\n\t\t\t\t\t\t','\r\n\t\t\t\t\t)\r\n\t\t\t\t: null;\r\n\r\n\t\t\ttoolIds = model?.meta?.toolIds ?? [];\r\n\t\t\tfilterIds = model?.meta?.filterIds ?? [];\r\n\t\t\tactionIds = model?.meta?.actionIds ?? [];\r\n\t\t\tknowledge = (model?.meta?.knowledge ?? []).map((item) => {\r\n\t\t\t\tif (item?.collection_name) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: item.collection_name,\r\n\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\tlegacy: true\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (item?.collection_names) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\ttype: 'collection',\r\n\t\t\t\t\t\tcollection_names: item.collection_names,\r\n\t\t\t\t\t\tlegacy: true\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcapabilities = { ...capabilities, ...(model?.meta?.capabilities ?? {}) };\r\n\r\n\t\t\tif ('access_control' in model) {\r\n\t\t\t\taccessControl = model.access_control;\r\n\t\t\t} else {\r\n\t\t\t\taccessControl = {};\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(model?.access_control);\r\n\t\t\tconsole.log(accessControl);\r\n\r\n\t\t\tinfo = {\r\n\t\t\t\t...info,\r\n\t\t\t\t...JSON.parse(\r\n\t\t\t\t\tJSON.stringify(\r\n\t\t\t\t\t\tmodel\r\n\t\t\t\t\t\t\t? model\r\n\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\tid: model.id,\r\n\t\t\t\t\t\t\t\t\tname: model.name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t};\r\n\r\n\t\t\tconsole.log(model);\r\n\t\t}\r\n\r\n\t\tloaded = true;\r\n\t});\r\n</script>\r\n\r\n{#if loaded}\r\n\t{#if onBack}\r\n\t\t<button\r\n\t\t\tclass=\"flex space-x-1\"\r\n\t\t\ton:click={() => {\r\n\t\t\t\tonBack();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div class=\" self-center\">\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\tclass=\"h-4 w-4\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" self-center text-sm font-medium\">{'Back'}</div>\r\n\t\t</button>\r\n\t{/if}\r\n\r\n\t<div class=\"w-full max-h-full flex justify-center\">\r\n\t\t<input\r\n\t\t\tbind:this={filesInputElement}\r\n\t\t\tbind:files={inputFiles}\r\n\t\t\ttype=\"file\"\r\n\t\t\thidden\r\n\t\t\taccept=\"image/*\"\r\n\t\t\ton:change={() => {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.onload = (event) => {\r\n\t\t\t\t\tlet originalImageUrl = `${event.target.result}`;\r\n\r\n\t\t\t\t\tconst img = new Image();\r\n\t\t\t\t\timg.src = originalImageUrl;\r\n\r\n\t\t\t\t\timg.onload = function () {\r\n\t\t\t\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\t\t\t// Calculate the aspect ratio of the image\r\n\t\t\t\t\t\tconst aspectRatio = img.width / img.height;\r\n\r\n\t\t\t\t\t\t// Calculate the new width and height to fit within 100x100\r\n\t\t\t\t\t\tlet newWidth, newHeight;\r\n\t\t\t\t\t\tif (aspectRatio > 1) {\r\n\t\t\t\t\t\t\tnewWidth = 250 * aspectRatio;\r\n\t\t\t\t\t\t\tnewHeight = 250;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnewWidth = 250;\r\n\t\t\t\t\t\t\tnewHeight = 250 / aspectRatio;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Set the canvas size\r\n\t\t\t\t\t\tcanvas.width = 250;\r\n\t\t\t\t\t\tcanvas.height = 250;\r\n\r\n\t\t\t\t\t\t// Calculate the position to center the image\r\n\t\t\t\t\t\tconst offsetX = (250 - newWidth) / 2;\r\n\t\t\t\t\t\tconst offsetY = (250 - newHeight) / 2;\r\n\r\n\t\t\t\t\t\t// Draw the image on the canvas\r\n\t\t\t\t\t\tctx.drawImage(img, offsetX, offsetY, newWidth, newHeight);\r\n\r\n\t\t\t\t\t\t// Get the base64 representation of the compressed image\r\n\t\t\t\t\t\tconst compressedSrc = canvas.toDataURL();\r\n\r\n\t\t\t\t\t\t// Display the compressed image\r\n\t\t\t\t\t\tinfo.meta.profile_image_url = compressedSrc;\r\n\r\n\t\t\t\t\t\tinputFiles = null;\r\n\t\t\t\t\t\tfilesInputElement.value = '';\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tinputFiles &&\r\n\t\t\t\t\tinputFiles.length > 0 &&\r\n\t\t\t\t\t['image/gif', 'image/webp', 'image/jpeg', 'image/png', 'image/svg+xml'].includes(\r\n\t\t\t\t\t\tinputFiles[0]['type']\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\treader.readAsDataURL(inputFiles[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`Unsupported File Type '${inputFiles[0]['type']}'.`);\r\n\t\t\t\t\tinputFiles = null;\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\r\n\t\t{#if !edit || (edit && model)}\r\n\t\t\t<form\r\n\t\t\t\tclass=\"flex flex-col md:flex-row w-full gap-3 md:gap-6\"\r\n\t\t\t\ton:submit|preventDefault={() => {\r\n\t\t\t\t\tsubmitHandler();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div class=\"self-center md:self-start flex justify-center my-2 shrink-0\">\r\n\t\t\t\t\t<div class=\"self-center\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"rounded-xl flex shrink-0 items-center {info.meta.profile_image_url !==\r\n\t\t\t\t\t\t\t'/static/favicon.png'\r\n\t\t\t\t\t\t\t\t? 'bg-transparent'\r\n\t\t\t\t\t\t\t\t: 'bg-white'} shadow-xl group relative\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tfilesInputElement.click();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#if info.meta.profile_image_url}\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={info.meta.profile_image_url}\r\n\t\t\t\t\t\t\t\t\talt=\"model profile\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded-xl size-72 md:size-60 object-cover shrink-0\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc=\"/static/favicon.png\"\r\n\t\t\t\t\t\t\t\t\talt=\"model profile\"\r\n\t\t\t\t\t\t\t\t\tclass=\" rounded-xl size-72 md:size-60 object-cover shrink-0\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t\t\t<div class=\"absolute bottom-0 right-0 z-10\">\r\n\t\t\t\t\t\t\t\t<div class=\"m-1.5\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"shadow-xl p-1 rounded-full border-2 border-white bg-gray-800 text-white group-hover:bg-gray-600 transition dark:border-black dark:bg-white dark:group-hover:bg-gray-200 dark:text-black\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"size-5\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t\td=\"M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"absolute top-0 bottom-0 left-0 right-0 bg-white dark:bg-black rounded-lg opacity-0 group-hover:opacity-20 transition\"\r\n\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<div class=\"flex w-full mt-1 justify-end\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"px-2 py-1 text-gray-500 rounded-lg text-xs\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tinfo.meta.profile_image_url = '/static/favicon.png';\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tReset Image</button\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"w-full\">\r\n\t\t\t\t\t<div class=\"mt-2 my-2 flex flex-col\">\r\n\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"text-3xl font-semibold w-full bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model Name')}\r\n\t\t\t\t\t\t\t\t\tbind:value={name}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclass=\"text-xs w-full bg-transparent text-gray-500 outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Model ID')}\r\n\t\t\t\t\t\t\t\t\tbind:value={id}\r\n\t\t\t\t\t\t\t\t\tdisabled={edit}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{#if preset}\r\n\t\t\t\t\t\t<div class=\"my-1\">\r\n\t\t\t\t\t\t\t<div class=\" text-sm font-semibold mb-1\">{$i18n.t('Base Model (From)')}</div>\r\n\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclass=\"text-sm w-full bg-transparent outline-hidden\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Select a base model (e.g. llama3, gpt-4o)\"\r\n\t\t\t\t\t\t\t\t\tbind:value={info.base_model_id}\r\n\t\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t\taddUsage(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value={null} class=\" text-gray-900\"\r\n\t\t\t\t\t\t\t\t\t\t>{$i18n.t('Select a base model')}</option\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#each $models.filter((m) => (model ? m.id !== model.id : true) && !m?.preset && m?.owned_by !== 'arena') as model}\r\n\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\" text-gray-900\">{model.name}</option>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/if}\r\n\r\n\t\t\t\t\t<div class=\"my-1\">\r\n\t\t\t\t\t\t<div class=\"mb-1 flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Description')}</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tenableDescription = !enableDescription;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if !enableDescription}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if enableDescription}\r\n\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\tclassName=\" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden \"\r\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Add a short description about what this model does')}\r\n\t\t\t\t\t\t\t\tbind:value={info.meta.description}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\" mt-2 my-1\">\r\n\t\t\t\t\t\t<div class=\"\">\r\n\t\t\t\t\t\t\t<Tags\r\n\t\t\t\t\t\t\t\ttags={info?.meta?.tags ?? []}\r\n\t\t\t\t\t\t\t\ton:delete={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst tagName = e.detail;\r\n\t\t\t\t\t\t\t\t\tinfo.meta.tags = info.meta.tags.filter((tag) => tag.name !== tagName);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ton:add={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst tagName = e.detail;\r\n\t\t\t\t\t\t\t\t\tif (!(info?.meta?.tags ?? null)) {\r\n\t\t\t\t\t\t\t\t\t\tinfo.meta.tags = [{ name: tagName }];\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tinfo.meta.tags = [...info.meta.tags, { name: tagName }];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<div class=\"px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg\">\r\n\t\t\t\t\t\t\t<AccessControl bind:accessControl accessRoles={['read', 'write']} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-1.5\" />\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('Model Params')}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-2\">\r\n\t\t\t\t\t\t\t<div class=\"my-1\">\r\n\t\t\t\t\t\t\t\t<div class=\" text-xs font-semibold mb-2\">{$i18n.t('System Prompt')}</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Textarea\r\n\t\t\t\t\t\t\t\t\t\tclassName=\" text-sm w-full bg-transparent outline-hidden resize-none overflow-y-hidden \"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={`Write your model system prompt content here\\ne.g.) You are Mario from Super Mario Bros, acting as an assistant.`}\r\n\t\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\t\tbind:value={info.params.system}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-xs font-semibold\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Advanced Params')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowAdvanced = !showAdvanced;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#if showAdvanced}\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if showAdvanced}\r\n\t\t\t\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<AdvancedParams\r\n\t\t\t\t\t\t\t\t\t\tadmin={true}\r\n\t\t\t\t\t\t\t\t\t\tbind:params\r\n\t\t\t\t\t\t\t\t\t\ton:change={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.params = { ...info.params, ...params };\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-1\" />\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t<div class=\"flex w-full justify-between items-center\">\r\n\t\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Prompt suggestions')}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"p-1 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tif ((info?.meta?.suggestion_prompts ?? null) === null) {\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [{ content: '' }];\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = null;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{#if (info?.meta?.suggestion_prompts ?? null) === null}\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Default')}</span>\r\n\t\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Custom')}</span>\r\n\t\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if (info?.meta?.suggestion_prompts ?? null) !== null}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"p-1 px-2 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.length === 0 ||\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.at(-1).content !== ''\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...info.meta.suggestion_prompts,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ content: '' }\r\n\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if info?.meta?.suggestion_prompts}\r\n\t\t\t\t\t\t\t<div class=\"flex flex-col space-y-1 mt-1 mb-3\">\r\n\t\t\t\t\t\t\t\t{#if info.meta.suggestion_prompts.length > 0}\r\n\t\t\t\t\t\t\t\t\t{#each info.meta.suggestion_prompts as prompt, promptIdx}\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" flex rounded-lg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\" text-sm w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Write a prompt suggestion (e.g. Who are you?)')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tbind:value={prompt.content}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"px-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts.splice(promptIdx, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinfo.meta.suggestion_prompts = info.meta.suggestion_prompts;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<div class=\"text-xs text-center\">No suggestion prompts</div>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-1.5\" />\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<Knowledge bind:selectedKnowledge={knowledge} collections={$knowledgeCollections} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<ToolsSelector bind:selectedToolIds={toolIds} tools={$tools} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<FiltersSelector\r\n\t\t\t\t\t\t\tbind:selectedFilterIds={filterIds}\r\n\t\t\t\t\t\t\tfilters={$functions.filter((func) => func.type === 'filter')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<ActionsSelector\r\n\t\t\t\t\t\t\tbind:selectedActionIds={actionIds}\r\n\t\t\t\t\t\t\tactions={$functions.filter((func) => func.type === 'action')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\t<Capabilities bind:capabilities />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2 text-gray-300 dark:text-gray-700\">\r\n\t\t\t\t\t\t<div class=\"flex w-full justify-between mb-2\">\r\n\t\t\t\t\t\t\t<div class=\" self-center text-sm font-semibold\">{$i18n.t('JSON Preview')}</div>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"p-1 px-3 text-xs flex rounded-sm transition\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\t\tshowPreview = !showPreview;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{#if showPreview}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Hide')}</span>\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t<span class=\"ml-2 self-center\">{$i18n.t('Show')}</span>\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{#if showPreview}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\tclass=\"text-sm w-full bg-transparent outline-hidden resize-none\"\r\n\t\t\t\t\t\t\t\t\trows=\"10\"\r\n\t\t\t\t\t\t\t\t\tvalue={JSON.stringify(info, null, 2)}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"my-2 flex justify-end pb-20\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\" text-sm px-3 py-2 transition rounded-lg {loading\r\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black'\r\n\t\t\t\t\t\t\t\t: 'bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black'} flex w-full justify-center\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div class=\" self-center font-medium\">\r\n\t\t\t\t\t\t\t\t{#if edit}\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Save & Update')}\r\n\t\t\t\t\t\t\t\t{:else}\r\n\t\t\t\t\t\t\t\t\t{$i18n.t('Save & Create')}\r\n\t\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{#if loading}\r\n\t\t\t\t\t\t\t\t<div class=\"ml-1.5 self-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t><style>\r\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\r\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</style><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\r\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\r\n\t\t\t\t\t\t\t\t\t\t/><path\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\r\n\t\t\t\t\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t{/if}\r\n\t</div>\r\n{/if}\r\n"],"names":["ctx","i","each_blocks","insert_hydration","target","div","anchor","set_data","t","t_value","t1_value","create_if_block_1","_b","_a","create_if_block_2","div3","append_hydration","div2","div0","div1","dirty","t1","input","hr","flyAndScale","i18n","getContext","dispatch","createEventDispatcher","onClose","query","items","filteredItems","fuse","onMount","legacy_documents","$knowledge","item","legacy_collections","$i18n","a","tag","_c","$$invalidate","Fuse","e","fileitem_changes","button","create_if_block","div5","div4","t0","t0_value","t2","t2_value","selectedKnowledge","$$props","collections","_","idx","fileIdx","k","tools","_tools","selectedToolIds","acc","tool","tooltip_changes","filters","selectedFilterIds","_filters","filter","actions","selectedActionIds","_actions","action","marked","checkbox_changes","helpText","capabilities","capability","create_if_block_16","create_if_block_15","create_if_block_14","create_if_block_13","create_if_block_12","accesscontrol_props","create_if_block_11","create_if_block_10","create_if_block_9","if_block7","_d","create_if_block_8","_f","_e","create_if_block_6","func_1","func_2","create_if_block_5","create_if_block_4","create_if_block_3","attr","button0","button0_class_value","form","div6","button1","div42","div11","div8","div7","input0","div10","div9","input1","div14","div13","div12","button2","div16","div15","div18","div17","hr0","div27","div20","div19","div26","div23","div21","div22","div25","div24","button3","hr1","div31","div30","div29","div28","button4","hr2","div32","div33","div34","div35","div36","div39","div38","div37","button5","div41","button6","div40","current","t8","t8_value","t15","t15_value","t17","t17_value","t20","t20_value","t25","t25_value","filtersselector_changes","actionsselector_changes","t36","t36_value","img_1","img_1_src_value","each_value_1","ensure_array_like","add_render_callback","select","option","select_option","option_value_value","span","create_if_block_7","set_input_value","textarea","textarea_value_value","func","onSubmit","onBack","model","edit","preset","loading","filesInputElement","inputFiles","showAdvanced","showPreview","loaded","id","name","enableDescription","info","params","knowledge","toolIds","filterIds","actionIds","accessControl","addUsage","base_model_id","baseModel","$models","m","submitHandler","toast","s","key","getTools","functions","getFunctions","knowledgeCollections","getKnowledgeBases","workspaceContainer","tick","base_model","$$value","reader","event","originalImageUrl","img","canvas","aspectRatio","newWidth","newHeight","offsetX","offsetY","compressedSrc","select_value","value","tagName","promptIdx"],"mappings":"0oDA4HYA,EAAa,CAAA,CAAA,uBAAlB,OAAIC,GAAA,gQAACD,EAAa,CAAA,CAAA,oBAAlB,OAAIC,GAAA,EAAA,oHAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAI,GAAA,kIAHJD,EAAK,CAAA,EAAC,EAAE,oBAAoB,EAAA,oMAD9BG,EAEMC,EAAAC,EAAAC,CAAA,6BADJN,EAAK,CAAA,EAAC,EAAE,oBAAoB,EAAA,KAAAO,EAAAC,EAAAC,CAAA,gVA0BxBN,EAIMC,EAAAC,EAAAC,CAAA,gUAVNH,EAIMC,EAAAC,EAAAC,CAAA,+TAVNH,EAIMC,EAAAC,EAAAC,CAAA,+CAiBNI,EAAAV,MAAK,KAAI,+BAtBL,OAAAA,MAAK,OAAMW,IAMNC,GAAAC,EAAAb,EAAI,EAAA,IAAJ,YAAAa,EAAM,OAAN,MAAAD,EAAY,SAAQE,ofATjCX,EA4BMC,EAAAW,EAAAT,CAAA,EA3BLU,EA0BMD,EAAAE,CAAA,EAzBLD,EAoBMC,EAAAC,CAAA,qBAENF,EAEMC,EAAAE,CAAA,+EADJC,EAAA,GAAAV,KAAAA,EAAAV,MAAK,KAAI,KAAAO,EAAAc,EAAAX,CAAA,23BArCXV,EAAa,CAAA,EAAC,SAAW,EAAC,wnBARhBA,EAAK,CAAA,EAAC,EAAE,kBAAkB,CAAA,0LAnB1CG,EAsBMC,EAAAa,EAAAX,CAAA,EArBLU,EAoBMC,EAAAE,CAAA,EAnBLH,EAaMG,EAAAD,CAAA,SACNF,EAIEG,EAAAG,CAAA,OAFWtB,EAAK,CAAA,CAAA,WAMpBG,EAA0DC,EAAAmB,EAAAjB,CAAA,WAE1DH,EA6CMC,EAAAW,EAAAT,CAAA,6EApDUN,EAAK,CAAA,EAAC,EAAE,kBAAkB,yCAD3BA,EAAK,CAAA,QAALA,EAAK,CAAA,CAAA,0bAvBR,yCAGAwB,2MANdrB,EAiFMC,EAAAC,EAAAC,CAAA,6kBA5JA,MAAAmB,EAAOC,GAAW,MAAM,4BACxBC,EAAWC,KAEN,GAAA,CAAA,QAAAC,EAAA,IAAA,MAEPC,EAAQ,GAERC,EAAA,CAAA,EACAC,EAAA,CAAA,EAEAC,EAAO,KASXC,GAAA,IAAA,CACK,IAAAC,EAAmBC,EAAW,OAAQC,GAAS,OAAA,OAAAxB,EAAAwB,GAAA,YAAAA,EAAM,OAAN,YAAAxB,EAAY,SAAQ,EACnEyB,EACHH,EAAiB,OAAS,IAGtB,KAAM,gBACN,OAAQ,GACR,KAAM,aACN,YAAa,sEAEb,MAAOI,EAAM,EAAE,eAAe,EAC9B,iBAAkBJ,EAAiB,IAAKE,GAASA,EAAK,EAAE,MAGtDF,EACD,QAAQK,EAAGH,IAAA,cACI,GAAA,IAAA,IAAA,CAAA,GAAQG,QAAO3B,EAAAwB,GAAA,YAAAA,EAAM,OAAN,YAAAxB,EAAY,WAAY,IAAK4B,GAAQA,EAAI,IAAI,CAAA,CAAA,QAE3E,IAAKA,IAAA,CACL,KAAMA,EACN,OAAQ,GACR,KAAM,aACN,YAAa,sEAEb,iBAAkBN,EAChB,OAAQE,GAAA,OAAU,SAAAxB,EAAAwB,GAAA,YAAAA,EAAM,OAAN,YAAAxB,EAAY,WAAY,IAAK4B,GAAQA,EAAI,IAAI,EAAE,SAASA,CAAG,IAC7E,IAAKJ,GAASA,EAAK,EAAE,aAK7BN,EAAY,CAAA,GAAAK,EAAA,GAAeE,CAAkB,EAAE,IAAKD,GAAA,kBAE/C,GAAAA,EACC,GAAAA,GAAA,MAAAA,EAAM,SAAUxB,EAAAwB,GAAA,YAAAA,EAAM,OAAN,MAAAxB,EAAY,SAAUD,EAAAyB,GAAA,YAAAA,EAAM,OAAN,MAAAzB,EAAY,UAAa,OAAQ,EAAA,KAC3E,MAAM8B,EAAAL,GAAA,YAAAA,EAAM,OAAN,MAAAK,EAAY,SAAW,WAAa,iBAI5CC,EAAA,EAAAV,EAAA,IAAWW,GAAKb,EAAA,CACf,KAAO,CAAA,OAAQ,aAAa,CAAA,CAAA,CAAA,iBAyCbD,EAAK,KAAA,yBAkBfH,EAAS,SAAUU,CAAI,KArDlBQ,GAAC,CACRA,EAAE,SAAW,KAChBhB,IACAc,EAAA,EAAAb,EAAQ,EAAE,0HA1DLG,OACND,EAAgBF,EACbG,EAAK,OAAOH,CAAK,EAAE,IAAKe,GACjBA,EAAE,MAETd,CAAA,sMCFM/B,EAAiB,CAAA,CAAA,uBAAtB,OAAIC,GAAA,wSADPE,EAcMC,EAAAC,EAAAC,CAAA,6EAbEN,EAAiB,CAAA,CAAA,oBAAtB,OAAIC,GAAA,EAAA,4GAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAI,GAAA,oNAGE,KAAAD,KAAK,KACL,MAAAa,EAAAb,OAAA,MAAAa,EAAM,OACA,SAAAb,KAAK,KAAI,IAAOA,EAAK,CAAA,EAAA,IAAI,GAAK,EAAE,KACxCY,EAAAZ,EAAI,CAAA,IAAJ,YAAAY,EAAM,OAAQ,yKAHZQ,EAAA,IAAA0B,EAAA,KAAA9C,KAAK,MACLoB,EAAA,IAAA0B,EAAA,MAAAjC,EAAAb,OAAA,MAAAa,EAAM,OACA,SAAAb,KAAK,KAAI,IAAOA,EAAK,CAAA,EAAA,IAAI,GAAK,EAAE,KACxCY,EAAAZ,EAAI,CAAA,IAAJ,YAAAY,EAAM,OAAQ,+HA2BJZ,EAAK,CAAA,EAAC,EAAE,kBAAkB,EAAA,wTAF1CG,EAGCC,EAAA2C,EAAAzC,CAAA,6BADeN,EAAK,CAAA,EAAC,EAAE,kBAAkB,EAAA,KAAAO,EAAAC,EAAAC,CAAA,mDA3CKT,EAAK,CAAA,EAAC,EAAE,WAAW,EAAA,WAInEA,EAAK,CAAA,EAAC,EAAE,6EAA6E,EAAA,qBAIjFa,EAAAb,EAAiB,CAAA,IAAjB,YAAAa,EAAmB,QAAS,GAACmC,GAAAhD,CAAA,k0BAVpCG,EAmDMC,EAAA6C,EAAA3C,CAAA,EAlDLU,EAEMiC,EAAA9B,CAAA,EADLH,EAA4EG,EAAAD,CAAA,gBAG7EF,EAEMiC,EAAAhC,CAAA,gBAEND,EAyCMiC,EAAAC,CAAA,wBAtBLlC,EAoBMkC,EAAAnC,CAAA,qDA9C2Cf,EAAK,CAAA,EAAC,EAAE,WAAW,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,oBAInEpD,EAAK,CAAA,EAAC,EAAE,6EAA6E,EAAA,KAAAO,EAAA8C,EAAAC,CAAA,IAIjFzC,EAAAb,EAAiB,CAAA,IAAjB,YAAAa,EAAmB,QAAS,0RAhBvB,CAAA,kBAAA0C,EAAA,EAAA,EAAAC,EACA,CAAA,YAAAC,EAAA,EAAA,EAAAD,EAEL,MAAA/B,EAAOC,GAAW,MAAM,iCAuBZmB,IAAC,KACbU,EAAoBA,EAAkB,OAAM,CAAEG,EAAGC,IAAQA,IAAQC,CAAO,CAAA,KAS/Df,GAAC,OACNR,EAAOQ,EAAE,OAEVU,EAAkB,KAAMM,GAAMA,EAAE,KAAOxB,EAAK,EAAE,OAClDkB,EAAiB,CAAA,GACbA,EAAiB,CAAA,GAEhBlB,CAAI,CAAA,CAAA,gUCZJ,OAAO,KAAKrC,EAAM,CAAA,CAAA,CAAA,uBAAvB,OAAIC,GAAA,kSADPE,EAkBMC,EAAAC,EAAAC,CAAA,6EAjBE,OAAO,KAAKN,EAAM,CAAA,CAAA,CAAA,oBAAvB,OAAIC,GAAA,EAAA,4GAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAI,GAAA,0IAaFD,EAAM,CAAA,EAACA,EAAI,CAAA,CAAA,EAAE,KAAI,+EATVA,EAAM,CAAA,EAACA,EAAI,CAAA,CAAA,EAAE,SAAW,UAAY,+dAH9CG,EAcMC,EAAAa,EAAAX,CAAA,EAbLU,EAQMC,EAAAC,CAAA,qBAENF,EAEMC,EAAAE,CAAA,0DAVGnB,EAAM,CAAA,EAACA,EAAI,CAAA,CAAA,EAAE,SAAW,UAAY,yCAS3CA,EAAM,CAAA,EAACA,EAAI,CAAA,CAAA,EAAE,KAAI,KAAAO,EAAAc,EAAAX,CAAA,mHAvB0BV,EAAK,CAAA,EAAC,EAAE,OAAO,EAAA,WAI/DA,EAAK,CAAA,EAAC,EAAE,mEAAmE,EAAA,aAIvEA,EAAK,CAAA,EAAC,OAAS,GAACgD,GAAAhD,CAAA,skBAVvBG,EAgCMC,EAAA8C,EAAA5C,CAAA,EA/BLU,EAEMkC,EAAA/B,CAAA,EADLH,EAAwEG,EAAAD,CAAA,gBAGzEF,EAEMkC,EAAAjC,CAAA,gBAEND,EAsBMkC,EAAAnC,CAAA,kDA7B4Cf,EAAK,CAAA,EAAC,EAAE,OAAO,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,oBAI/DpD,EAAK,CAAA,EAAC,EAAE,mEAAmE,EAAA,KAAAO,EAAA8C,EAAAC,CAAA,EAIvEtD,EAAK,CAAA,EAAC,OAAS,0LA9BV,CAAA,MAAA8D,EAAA,EAAA,EAAAN,EAEPO,EAAA,CAAA,EAEO,CAAA,gBAAAC,EAAA,EAAA,EAAAR,EAEL,MAAA/B,EAAOC,GAAW,MAAM,sBAE9BQ,GAAA,IAAA,CACCS,EAAA,EAAAoB,EAASD,EAAM,QAAQG,EAAKC,KAC3BD,EAAIC,EAAK,EAAE,EAAA,CACP,GAAAA,EACH,SAAUF,EAAgB,SAASE,EAAK,EAAE,GAGpCD,qBAsBUpB,IAAC,KACZkB,EAAOG,CAAI,EAAE,SAAWrB,EAAE,SAAW,UAASkB,CAAA,EAC9CpB,EAAA,EAAAqB,EAAkB,OAAO,KAAKD,CAAM,EAAE,OAAQvD,GAAMuD,EAAOvD,CAAC,EAAE,QAAQ,CAAA,wSCNpE,OAAO,KAAKR,EAAQ,CAAA,CAAA,CAAA,uBAAzB,OAAIC,GAAA,kSADPE,EAoBMC,EAAAC,EAAAC,CAAA,6EAnBE,OAAO,KAAKN,EAAQ,CAAA,CAAA,CAAA,oBAAzB,OAAIC,GAAA,EAAA,4GAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAI,GAAA,gIAcDD,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,KAAI,2EAArBA,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,KAAI,KAAAO,EAAA,EAAAE,CAAA,2HAVfT,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,SAAW,UAAY,kDAS9B,QAAAA,EAAS,CAAA,EAAAA,EAAQ,CAAA,CAAA,EAAA,KAAK,wgBAZ1CG,EAgBMC,EAAAa,EAAAX,CAAA,EAfLU,EAQMC,EAAAC,CAAA,qBAENF,EAIMC,EAAAE,CAAA,+DAZGnB,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,SAAW,UAAY,kCAS9BoB,EAAA,IAAA+C,EAAA,QAAAnE,EAAS,CAAA,EAAAA,EAAQ,CAAA,CAAA,EAAA,KAAK,sNAxBIA,EAAK,CAAA,EAAC,EAAE,SAAS,EAAA,WAIjEA,EAAK,CAAA,EAAC,EAAE,sEAAsE,EAAA,aAK1EA,EAAO,CAAA,EAAC,OAAS,GAACgD,GAAAhD,CAAA,skBAXzBG,EAmCMC,EAAA8C,EAAA5C,CAAA,EAlCLU,EAEMkC,EAAA/B,CAAA,EADLH,EAA0EG,EAAAD,CAAA,gBAG3EF,EAEMkC,EAAAjC,CAAA,gBAGND,EAwBMkC,EAAAnC,CAAA,kDAhC4Cf,EAAK,CAAA,EAAC,EAAE,SAAS,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,oBAIjEpD,EAAK,CAAA,EAAC,EAAE,sEAAsE,EAAA,KAAAO,EAAA8C,EAAAC,CAAA,EAK1EtD,EAAO,CAAA,EAAC,OAAS,0LA9BjB,MAAAyB,EAAOC,GAAW,MAAM,sBAEnB,GAAA,CAAA,QAAA0C,EAAA,EAAA,EAAAZ,EACA,CAAA,kBAAAa,EAAA,EAAA,EAAAb,EAEPc,EAAA,CAAA,EAEJpC,GAAA,IAAA,CACCS,EAAA,EAAA2B,EAAWF,EAAQ,QAAQH,EAAKM,KAC/BN,EAAIM,EAAO,EAAE,EAAA,CACT,GAAAA,EACH,SAAUF,EAAkB,SAASE,EAAO,EAAE,GAGxCN,qBAuBUpB,IAAC,KACZyB,EAASC,CAAM,EAAE,SAAW1B,EAAE,SAAW,UAASyB,CAAA,EAClD3B,EAAA,EAAA0B,EAAoB,OAAO,KAAKC,CAAQ,EAAE,OAAQ9D,GAAM8D,EAAS9D,CAAC,EAAE,QAAQ,CAAA,oTCR1E,OAAO,KAAKR,EAAQ,CAAA,CAAA,CAAA,uBAAzB,OAAIC,GAAA,kSADPE,EAoBMC,EAAAC,EAAAC,CAAA,6EAnBE,OAAO,KAAKN,EAAQ,CAAA,CAAA,CAAA,oBAAzB,OAAIC,GAAA,EAAA,4GAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAI,GAAA,gIAcDD,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,KAAI,2EAArBA,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,KAAI,KAAAO,EAAA,EAAAE,CAAA,2HAVfT,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,SAAW,UAAY,kDAS9B,QAAAA,EAAS,CAAA,EAAAA,EAAQ,CAAA,CAAA,EAAA,KAAK,wgBAZ1CG,EAgBMC,EAAAa,EAAAX,CAAA,EAfLU,EAQMC,EAAAC,CAAA,qBAENF,EAIMC,EAAAE,CAAA,+DAZGnB,EAAQ,CAAA,EAACA,EAAM,CAAA,CAAA,EAAE,SAAW,UAAY,kCAS9BoB,EAAA,IAAA+C,EAAA,QAAAnE,EAAS,CAAA,EAAAA,EAAQ,CAAA,CAAA,EAAA,KAAK,sNAvBIA,EAAK,CAAA,EAAC,EAAE,SAAS,EAAA,WAIjEA,EAAK,CAAA,EAAC,EAAE,sEAAsE,EAAA,aAI1EA,EAAO,CAAA,EAAC,OAAS,GAACgD,GAAAhD,CAAA,skBAVzBG,EAkCMC,EAAA8C,EAAA5C,CAAA,EAjCLU,EAEMkC,EAAA/B,CAAA,EADLH,EAA0EG,EAAAD,CAAA,gBAG3EF,EAEMkC,EAAAjC,CAAA,gBAEND,EAwBMkC,EAAAnC,CAAA,kDA/B4Cf,EAAK,CAAA,EAAC,EAAE,SAAS,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,oBAIjEpD,EAAK,CAAA,EAAC,EAAE,sEAAsE,EAAA,KAAAO,EAAA8C,EAAAC,CAAA,EAI1EtD,EAAO,CAAA,EAAC,OAAS,0LA7BjB,MAAAyB,EAAOC,GAAW,MAAM,sBAEnB,GAAA,CAAA,QAAA8C,EAAA,EAAA,EAAAhB,EACA,CAAA,kBAAAiB,EAAA,EAAA,EAAAjB,EAEPkB,EAAA,CAAA,EAEJxC,GAAA,IAAA,CACCS,EAAA,EAAA+B,EAAWF,EAAQ,QAAQP,EAAKU,KAC/BV,EAAIU,EAAO,EAAE,EAAA,CACT,GAAAA,EACH,SAAUF,EAAkB,SAASE,EAAO,EAAE,GAGxCV,qBAsBUpB,IAAC,KACZ6B,EAASC,CAAM,EAAE,SAAW9B,EAAE,SAAW,UAAS6B,CAAA,EAClD/B,EAAA,EAAA8B,EAAoB,OAAO,KAAKC,CAAQ,EAAE,OAAQlE,GAAMkE,EAASlE,CAAC,EAAE,QAAQ,CAAA,sSCJ9ER,EAAK,CAAA,EAAC,EAAEA,EAAU,CAAA,CAAA,EAAA,2EAAlBA,EAAK,CAAA,EAAC,EAAEA,EAAU,CAAA,CAAA,EAAA,KAAAO,EAAA,EAAAE,CAAA,mHARb,MAAAT,KAAaA,EAAU,CAAA,CAAA,EAAI,UAAY,kDAO5B,QAAA4E,GAAO,MAAM5E,KAASA,EAAU,CAAA,CAAA,CAAA,mYATpDG,EAaMC,EAAAe,EAAAb,CAAA,qBALLU,EAIMG,EAAAD,CAAA,iDAVEE,EAAA,IAAAyD,EAAA,MAAA7E,KAAaA,EAAU,CAAA,CAAA,EAAI,UAAY,kCAO5BoB,EAAA,IAAA+C,EAAA,QAAAS,GAAO,MAAM5E,KAASA,EAAU,CAAA,CAAA,CAAA,4MAbJA,EAAK,CAAA,EAAC,EAAE,cAAc,EAAA,gBAGhE,OAAO,KAAKA,EAAY,CAAA,CAAA,CAAA,uBAA7B,OAAIC,GAAA,6iBALRE,EAsBMC,EAAAW,EAAAT,CAAA,EArBLU,EAEMD,EAAAI,CAAA,EADLH,EAA+EG,EAAAD,CAAA,gBAEhFF,EAiBMD,EAAAE,CAAA,uFAnB4CjB,EAAK,CAAA,EAAC,EAAE,cAAc,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,aAGhE,OAAO,KAAKpD,EAAY,CAAA,CAAA,CAAA,oBAA7B,OAAIC,GAAA,EAAA,4GAAJ,OAAIA,EAAAC,EAAA,OAAAD,GAAA,0CAAJ,OAAIA,GAAA,oIAtBD,MAAAwB,EAAOC,GAAW,MAAM,sBAExB,MAAAoD,EAAA,CACL,OAAQvC,EAAM,EAAE,4BAA4B,EAC5C,MAAOA,EAAM,EACZ,oJAAA,EAED,UAAWA,EAAM,EAAE,oCAAoC,GAG7C,GAAA,CAAA,aAAAwC,EAAA,EAAA,EAAAvB,aAgBKX,IAAC,CACZF,EAAA,EAAAoC,EAAaC,CAAU,EAAInC,EAAE,SAAW,UAASkC,CAAA,kUCwOjD/E,EAAM,CAAA,GAAAiF,GAAAjF,CAAA,MA8FJA,EAAI,CAAA,GAAKA,EAAI,CAAA,GAAIA,EAAK,CAAA,IAAAW,GAAAX,CAAA,8VArE7BG,EA0fMC,EAAAC,EAAAC,CAAA,EAzfLU,EAkEEX,EAAAiB,CAAA,oGA5FEtB,EAAM,CAAA,qEA8FJA,EAAI,CAAA,GAAKA,EAAI,CAAA,GAAIA,EAAK,CAAA,2iBAzEoB,2aApBhDG,EAqBSC,EAAA2C,EAAAzC,CAAA,EAfRU,EAaM+B,EAAA7B,CAAA,SACNF,EAA4D+B,EAAA5B,CAAA,02BAuMPnB,EAAK,EAAA,EAAC,EAAE,aAAa,EAAA,+DAwDrBA,EAAK,EAAA,EAAC,EAAE,cAAc,EAAA,qBAK5BA,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,2BAa/DA,EAAK,EAAA,EAAC,EAAE,iBAAiB,EAAA,sCAsCzBA,EAAK,EAAA,EAAC,EAAE,oBAAoB,EAAA,mGAyHkBA,EAAK,EAAA,EAAC,EAAE,cAAc,EAAA,kEApVlEA,EAAI,EAAA,EAAC,KAAK,kBAAiBkF,+BAgF7BlF,EAAM,CAAA,GAAAmF,GAAAnF,CAAA,0BAoCFA,EAAiB,EAAA,KAAAoF,2BAQpBpF,EAAiB,EAAA,GAAAqF,GAAArF,CAAA,2BAYdY,IAAAC,GAAAb,EAAI,EAAA,IAAJ,YAAAa,GAAM,OAAN,YAAAD,GAAY,OAAI,EAAA,uEAmByB,IAAA0E,GAAA,CAAA,YAAA,CAAA,OAAQ,OAAO,CAAA;yEAkBtD,GACMtF,EAAI,EAAA,EAAC,OAAO,SAAM,kBAAlBA,EAAI,EAAA,EAAC,OAAO,qFAiBpBA,EAAY,CAAA,EAAAuF,8BAQdvF,EAAY,CAAA,GAAAwF,GAAAxF,CAAA,6BAkCT,SAAAY,IAAAC,GAAAb,QAAA,YAAAa,GAAM,OAAN,YAAAD,GAAY,qBAAsB,QAAU,KAAI6E,4BAQlDC,MAAAC,IAAAjD,GAAA1C,QAAA,YAAA0C,GAAM,OAAN,YAAAiD,GAAY,qBAAsB,QAAU,MAAIC,GAAA5F,CAAA,OA8BlD6F,IAAAC,GAAA9F,EAAI,EAAA,IAAJ,YAAA8F,GAAM,OAAN,YAAAD,GAAY,qBAAkBE,GAAA/F,CAAA,8CA0CwBA,EAAqB,EAAA,GAA7CA,EAAS,EAAA,IAAA,8BAATA,EAAS,EAAA,0GAISA,EAAM,EAAA,CAAA,EAAtBA,EAAO,EAAA,IAAA,4BAAPA,EAAO,EAAA,kGAMlC,QAAAA,MAAW,OAAMgG,EAAA,GADFhG,EAAS,EAAA,IAAA,8BAATA,EAAS,EAAA,oGAQxB,QAAAA,MAAW,OAAMiG,EAAA,GADFjG,EAAS,EAAA,IAAA,8BAATA,EAAS,EAAA,kOAoB3BA,EAAW,CAAA,EAAAkG,+BAQblG,EAAW,CAAA,GAAAmG,GAAAnG,CAAA,0BAsBTA,EAAI,CAAA,EAAAoG,+BAOLpG,EAAO,CAAA,GAAAc,GAAA,4zJA3YkCuF,EAAAC,EAAA,QAAAC,EAAA,0CAAAvG,EAAK,EAAA,EAAA,KAAK,oBACxD,sBACG,iBACA,YAAU,2BAAA,uVAkEEA,EAAK,EAAA,EAAC,EAAE,YAAY,CAAA,qIAWpBA,EAAK,EAAA,EAAC,EAAE,UAAU,CAAA,aAErBA,EAAI,CAAA,soDA2SiCA,EAAO,CAAA,EACrD,iHACA,8FAA4F,6BAAA,oCAErFA,EAAO,CAAA,2IA1YrBG,EAkbOC,EAAAoG,EAAAlG,CAAA,EA5aNU,EAgEMwF,EAAAC,CAAA,EA/DLzF,EA8DMyF,EAAAxD,CAAA,EA7DLjC,EAgDSiC,EAAAqD,CAAA,sBAxBRtF,EAmBMsF,EAAArF,CAAA,SAEND,EAEOsF,EAAAvF,CAAA,SAGRC,EAUMiC,EAAAC,CAAA,EATLlC,EAQCkC,EAAAwD,CAAA,SAKJ1F,EAyWMwF,EAAAG,CAAA,EAxWL3F,EAuBM2F,EAAAC,CAAA,EAtBL5F,EASM4F,EAAAC,CAAA,EARL7F,EAOM6F,EAAAC,CAAA,EANL9F,EAKE8F,EAAAC,CAAA,OAFW/G,EAAI,CAAA,CAAA,SAMnBgB,EAUM4F,EAAAI,CAAA,EATLhG,EAQMgG,EAAAC,CAAA,EAPLjG,EAMEiG,EAAAC,CAAA,OAHWlH,EAAE,EAAA,CAAA,mCAiClBgB,EA0BM2F,EAAAQ,EAAA,EAzBLnG,EAgBMmG,GAAAC,EAAA,EAfLpG,EAA8EoG,GAAAC,EAAA,oBAE9ErG,EAYSoG,GAAAE,EAAA,iDAYXtG,EAkBM2F,EAAAY,EAAA,EAjBLvG,EAgBMuG,GAAAC,EAAA,wBAGPxG,EAIM2F,EAAAc,EAAA,EAHLzG,EAEMyG,GAAAC,EAAA,wBAGP1G,EAA2D2F,EAAAgB,EAAA,UAE3D3G,EAkDM2F,EAAAiB,EAAA,EAjDL5G,EAEM4G,GAAAC,EAAA,EADL7G,EAA+E6G,GAAAC,EAAA,oBAGhF9G,EA4CM4G,GAAAG,EAAA,EA3CL/G,EAUM+G,GAAAC,EAAA,EATLhH,EAAyEgH,GAAAC,EAAA,oBACzEjH,EAOMgH,GAAAE,EAAA,wBAGPlH,EAkBM+G,GAAAI,CAAA,EAjBLnH,EAEMmH,EAAAC,CAAA,kBAENpH,EAYSmH,EAAAE,EAAA,gDAiBZrH,EAAyD2F,EAAA2B,EAAA,UAEzDtH,EA6FM2F,EAAA4B,EAAA,EA5FLvH,EAqDMuH,GAAAC,EAAA,EApDLxH,EAsBMwH,GAAAC,EAAA,EArBLzH,EAEMyH,GAAAC,EAAA,oBAEN1H,EAgBSyH,GAAAE,EAAA,8EAwEZ3H,EAA2D2F,EAAAiC,EAAA,UAE3D5H,EAEM2F,EAAAkC,EAAA,wBAEN7H,EAEM2F,EAAAmC,EAAA,wBAEN9H,EAKM2F,EAAAoC,EAAA,wBAEN/H,EAKM2F,EAAAqC,EAAA,wBAENhI,EAEM2F,EAAAsC,EAAA,wBAENjI,EA8BM2F,EAAAuC,EAAA,EA7BLlI,EAgBMkI,GAAAC,EAAA,EAfLnI,EAA+EmI,GAAAC,EAAA,oBAE/EpI,EAYSmI,GAAAE,EAAA,mDAgBXrI,EA4CM2F,EAAA2C,EAAA,EA3CLtI,EA0CSsI,GAAAC,EAAA,EAnCRvI,EAMMuI,GAAAC,EAAA,6VAzYwC,CAAAC,IAAArI,EAAA,CAAA,EAAA,SAAAmF,KAAAA,EAAA,0CAAAvG,EAAK,EAAA,EAAA,KAAK,oBACxD,sBACG,iBACA,YAAU,yEAkEEA,EAAK,EAAA,EAAC,EAAE,YAAY,6CACrBA,EAAI,CAAA,QAAJA,EAAI,CAAA,CAAA,+BAUHA,EAAK,EAAA,EAAC,EAAE,UAAU,sDAErBA,EAAI,CAAA,wBADFA,EAAE,EAAA,QAAFA,EAAE,EAAA,CAAA,EAQbA,EAAM,CAAA,gGA2BwCA,EAAK,EAAA,EAAC,EAAE,aAAa,EAAA,KAAAO,EAAAmJ,GAAAC,EAAA,8EAiBlE3J,EAAiB,EAAA,4IAYdY,IAAAC,GAAAb,EAAI,EAAA,IAAJ,YAAAa,GAAM,OAAN,YAAAD,GAAY,OAAI,CAAA,qIA2B0BZ,EAAK,EAAA,EAAC,EAAE,cAAc,EAAA,KAAAO,EAAAqJ,GAAAC,EAAA,gCAK5B7J,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,KAAAO,EAAAuJ,GAAAC,EAAA,8CAMnD/J,EAAI,EAAA,EAAC,OAAO,gEAOxBA,EAAK,EAAA,EAAC,EAAE,iBAAiB,EAAA,KAAAO,EAAAyJ,GAAAC,EAAA,8EAkBvBjK,EAAY,CAAA,uIAoBdA,EAAK,EAAA,EAAC,EAAE,oBAAoB,EAAA,KAAAO,EAAA2J,GAAAC,EAAA,iFAsBzBxE,IAAAjD,GAAA1C,QAAA,YAAA0C,GAAM,OAAN,YAAAiD,GAAY,qBAAsB,QAAU,yEA8B9CE,IAAAC,GAAA9F,EAAI,EAAA,IAAJ,YAAA8F,GAAM,OAAN,MAAAD,GAAY,gIA0C0C7F,EAAqB,EAAA,gDAA7CA,EAAS,EAAA,gEAISA,EAAM,EAAA,8CAAtBA,EAAO,EAAA,wCAMlCoB,EAAA,CAAA,EAAA,WAAAgJ,GAAA,QAAApK,MAAW,OAAMgG,EAAA,iDADFhG,EAAS,EAAA,yCAQxBoB,EAAA,CAAA,EAAA,WAAAiJ,GAAA,QAAArK,MAAW,OAAMiG,EAAA,iDADFjG,EAAS,EAAA,gJAWgBA,EAAK,EAAA,EAAC,EAAE,cAAc,EAAA,KAAAO,EAAA+J,GAAAC,EAAA,8EAiBnEvK,EAAW,CAAA,iJA6BVA,EAAO,CAAA,+HAdqCA,EAAO,CAAA,EACrD,iHACA,8FAA4F,+EAErFA,EAAO,CAAA,2zBAjXhBG,EAIEC,EAAAoK,EAAAlK,CAAA,kJATIN,EAAI,EAAA,EAAC,KAAK,iBAAiB,GAAAqG,EAAAmE,EAAA,MAAAC,CAAA,wGADjCtK,EAIEC,EAAAoK,EAAAlK,CAAA,oCAHIN,EAAI,EAAA,EAAC,KAAK,iBAAiB,yDAgFQA,EAAK,EAAA,EAAC,EAAE,mBAAmB,EAAA,eAahEA,EAAK,EAAA,EAAC,EAAE,qBAAqB,EAAA,SAEzB0K,EAAAC,GAAA3K,MAAQ,OAAMA,EAAA,EAAA,CAAA,CAAA,uBAAnB,OAAIC,GAAA,miBAHS,2LANHD,MAAK,gBAAa,QAAA4K,GAAA,IAAA5K,EAAA,EAAA,EAAA,KAAA6K,CAAA,CAAA,8BAPjC1K,EAqBMC,EAAAa,EAAAX,CAAA,EApBLU,EAA6EC,EAAAC,CAAA,gBAE7EF,EAiBMC,EAAAE,CAAA,EAhBLH,EAeSG,EAAA0J,CAAA,EANR7J,EAEC6J,EAAAC,CAAA,0DARWC,GAAAF,EAAA7K,MAAK,cAAa,EAAA,wFANUA,EAAK,EAAA,EAAC,EAAE,mBAAmB,EAAA,KAAAO,EAAA4C,EAAAC,CAAA,uBAahEpD,EAAK,EAAA,EAAC,EAAE,qBAAqB,EAAA,KAAAO,EAAA8C,EAAAC,CAAA,gBAEzBoH,EAAAC,GAAA3K,MAAQ,OAAMA,EAAA,EAAA,CAAA,CAAA,oBAAnB,OAAIC,GAAA,EAAA,mHAAJ,qBATU8K,GAAAF,EAAA7K,MAAK,aAAa,0DAUoBS,EAAAT,KAAM,KAAI,gIAA5C8K,EAAA,QAAAE,EAAAhL,KAAM,wDAArBG,EAAqEC,EAAA0K,EAAAxK,CAAA,iBAApBc,EAAA,CAAA,EAAA,SAAAX,KAAAA,EAAAT,KAAM,KAAI,KAAAO,EAAAC,EAAAC,CAAA,EAA5CW,EAAA,CAAA,EAAA,SAAA4J,KAAAA,EAAAhL,KAAM,0EAqBUA,EAAK,EAAA,EAAC,EAAE,QAAQ,EAAA,kKAAhDG,EAAyDC,EAAA6K,EAAA3K,CAAA,sCAAzBN,EAAK,EAAA,EAAC,EAAE,QAAQ,EAAA,KAAAO,EAAAC,EAAAC,CAAA,yCAFhBT,EAAK,EAAA,EAAC,EAAE,SAAS,EAAA,kKAAjDG,EAA0DC,EAAA6K,EAAA3K,CAAA,sCAA1BN,EAAK,EAAA,EAAC,EAAE,SAAS,EAAA,KAAAO,EAAAC,EAAAC,CAAA,8KAUrCT,EAAK,EAAA,EAAC,EAAE,oDAAoD,UAC7DA,EAAI,EAAA,EAAC,KAAK,cAAW,iBAArBA,EAAI,EAAA,EAAC,KAAK,mLADTA,EAAK,EAAA,EAAC,EAAE,oDAAoD,gCAC7DA,EAAI,EAAA,EAAC,KAAK,2IAkEYA,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,kKAA9CG,EAAuDC,EAAA6K,EAAA3K,CAAA,sCAAvBN,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,KAAAO,EAAAC,EAAAC,CAAA,yCAFdT,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,kKAA9CG,EAAuDC,EAAA6K,EAAA3K,CAAA,sCAAvBN,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,KAAAO,EAAAC,EAAAC,CAAA,iFAUvC,iRAFTN,EAQMC,EAAAC,EAAAC,CAAA,gNA4B4BN,EAAK,EAAA,EAAC,EAAE,QAAQ,EAAA,kKAAhDG,EAAyDC,EAAA6K,EAAA3K,CAAA,sCAAzBN,EAAK,EAAA,EAAC,EAAE,QAAQ,EAAA,KAAAO,EAAAC,EAAAC,CAAA,yCAFhBT,EAAK,EAAA,EAAC,EAAE,SAAS,EAAA,kKAAjDG,EAA0DC,EAAA6K,EAAA3K,CAAA,sCAA1BN,EAAK,EAAA,EAAC,EAAE,SAAS,EAAA,KAAAO,EAAAC,EAAAC,CAAA,yhBAQnDN,EAyBSC,EAAA2C,EAAAzC,CAAA,oGAMJ,OAAAN,MAAK,KAAK,mBAAmB,OAAS,EAACkL,iMAD7C/K,EAkCMC,EAAAC,EAAAC,CAAA,gWAFJH,EAA4DC,EAAAC,EAAAC,CAAA,iDA9BrDN,EAAI,EAAA,EAAC,KAAK,kBAAkB,uBAAjC,OAAIC,GAAA,4NAACD,EAAI,EAAA,EAAC,KAAK,kBAAkB,oBAAjC,OAAIC,GAAA,EAAA,2HAAJ,i2BAIcD,EAAK,EAAA,EAAC,EAAE,+CAA+C,CAAA,kFAHtEG,EA0BMC,EAAAC,EAAAC,CAAA,EAzBLU,EAIEX,EAAAiB,CAAA,EADW6J,GAAA7J,EAAAtB,MAAO,OAAO,SAG3BgB,EAkBSX,EAAA0C,CAAA,sFAtBK/C,EAAK,EAAA,EAAC,EAAE,+CAA+C,yBACxDoB,EAAA,CAAA,EAAA,SAAAE,EAAA,QAAAtB,MAAO,SAAPmL,GAAA7J,EAAAtB,MAAO,OAAO,oDAyEGA,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,kKAA9CG,EAAuDC,EAAA6K,EAAA3K,CAAA,sCAAvBN,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,KAAAO,EAAAC,EAAAC,CAAA,yCAFdT,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,kKAA9CG,EAAuDC,EAAA6K,EAAA3K,CAAA,sCAAvBN,EAAK,EAAA,EAAC,EAAE,MAAM,EAAA,KAAAO,EAAAC,EAAAC,CAAA,oSAYvC2K,EAAA,MAAAC,EAAA,KAAK,UAAUrL,EAAM,EAAA,EAAA,KAAM,CAAC,sCAJrCG,EAQMC,EAAAC,EAAAC,CAAA,EAPLU,EAMEX,EAAA+K,CAAA,UAHMhK,EAAA,CAAA,EAAA,SAAAiK,KAAAA,EAAA,KAAK,UAAUrL,EAAM,EAAA,EAAA,KAAM,CAAC,qDAoBlCA,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,oFAAvBA,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,KAAAO,EAAA,EAAAE,CAAA,uCAFvBT,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,oFAAvBA,EAAK,EAAA,EAAC,EAAE,eAAe,EAAA,KAAAO,EAAA,EAAAE,CAAA;;;;;;;;;wgBAOzBN,EAwBMC,EAAAC,EAAAC,CAAA,2CA7gBTN,EAAM,EAAA,GAAAgD,GAAAhD,CAAA,8FAANA,EAAM,EAAA,gLAqbwB,MAAAgG,GAAAsF,GAASA,EAAK,OAAS,SAOvBrF,GAAAqF,GAASA,EAAK,OAAS,kIAjrBnD,MAAA7J,EAAOC,GAAW,MAAM,uBAEnB,GAAA,CAAA,SAAA6J,CAAA,EAAA/H,GACA,OAAAgI,EAA0B,IAAA,EAAAhI,GAE1B,MAAAiI,EAAQ,IAAA,EAAAjI,GACR,KAAAkI,EAAO,EAAA,EAAAlI,GAEP,OAAAmI,EAAS,EAAA,EAAAnI,EAEhBoI,EAAU,GAGVC,EACAC,EAEAC,EAAe,GACfC,EAAc,GAEdC,EAAS,GAMTC,EAAK,GACLC,EAAO,GAEPC,EAAoB,GAWpBC,EAAA,CACH,GAAI,GACJ,cAAe,KACf,KAAM,GACN,KAAA,CACC,kBAAmB,sBACnB,YAAa,GACb,mBAAoB,KACpB,KAAA,CAAA,GAED,OAAA,CACC,OAAQ,EAAA,GAINC,EAAA,CACH,OAAQ,IAELvH,EAAA,CACH,OAAQ,GACR,MAAO,OACP,UAAW,IAGRwH,GAAA,CAAA,EACAC,GAAA,CAAA,EACAC,GAAA,CAAA,EACAC,GAAA,CAAA,EAEAC,GAAA,CAAA,QAEEC,GAAYC,GAAA,UACX,MAAAC,EAAYC,EAAQ,KAAMC,IAAMA,GAAE,KAAOH,CAAa,EAExDC,IACCA,EAAU,WAAa,SAC1BnK,EAAA,GAAAoC,EAAa,QAAQnE,IAAAC,EAAAiM,GAAA,YAAAA,EAAW,OAAX,YAAAjM,EAAiB,eAAjB,YAAAD,GAA+B,QAAS,GAAAmE,CAAA,SAEtDA,EAAa,gBAMjBkI,GAAA,SAAA,KACLrB,EAAU,EAAA,EAEVjJ,EAAA,GAAA0J,EAAK,GAAKH,EAAAG,CAAA,EACV1J,EAAA,GAAA0J,EAAK,KAAOF,EAAAE,CAAA,EAERH,IAAO,IACVgB,GAAM,MAAM,uBAAuB,EAGhCf,IAAS,IACZe,GAAM,MAAM,yBAAyB,EAGtCvK,EAAA,GAAA0J,EAAK,eAAiBM,GAAAN,CAAA,EACtB1J,EAAA,GAAA0J,EAAK,KAAK,aAAetH,EAAAsH,CAAA,EAErBD,OACHC,EAAK,KAAK,YAAcA,EAAK,KAAK,YAAY,KAAW,IAAA,GAAK,KAAOA,EAAK,KAAK,eAE/E1J,EAAA,GAAA0J,EAAK,KAAK,YAAc,KAAAA,CAAA,EAGrBE,GAAU,OAAS,EACtB5J,EAAA,GAAA0J,EAAK,KAAK,UAAYE,GAAAF,CAAA,EAElBA,EAAK,KAAK,WACN,OAAAA,EAAK,KAAK,UAIfG,GAAQ,OAAS,EACpB7J,EAAA,GAAA0J,EAAK,KAAK,QAAUG,GAAAH,CAAA,EAEhBA,EAAK,KAAK,SACN,OAAAA,EAAK,KAAK,QAIfI,GAAU,OAAS,EACtB9J,EAAA,GAAA0J,EAAK,KAAK,UAAYI,GAAAJ,CAAA,EAElBA,EAAK,KAAK,WACN,OAAAA,EAAK,KAAK,UAIfK,GAAU,OAAS,EACtB/J,EAAA,GAAA0J,EAAK,KAAK,UAAYK,GAAAL,CAAA,EAElBA,EAAK,KAAK,WACN,OAAAA,EAAK,KAAK,eAInBA,EAAK,OAAO,KAAOC,EAAO,KAAOA,EAAO,KAAK,MAAM,GAAG,EAAE,OAAQa,GAAMA,EAAE,MAAA,EAAU,QAClF,OAAO,KAAKd,EAAK,MAAM,EAAE,QAASe,GAAA,EAC7Bf,EAAK,OAAOe,CAAG,IAAM,IAAMf,EAAK,OAAOe,CAAG,IAAM,OAC5C,OAAAf,EAAK,OAAOe,CAAG,IAIlB,MAAA7B,EAASc,CAAI,MAEnBT,EAAU,EAAA,GAIX1J,GAAA,SAAA,2BACO4B,GAAM,IAAA,MAAUuJ,GAAS,aAAa,KAAK,CAAA,QAC3CC,GAAU,IAAA,MAAUC,GAAa,aAAa,KAAK,CAAA,QACnDC,GAAqB,IAAA,MAAUC,GAAkB,aAAa,KAAK,CAAA,QAGnEC,EAAqB,SAAS,eAAe,qBAAqB,EAKpE,GAJAA,IACHA,EAAmB,UAAY,GAG5BjC,EAAA,IACH,QAAQ,IAAIA,CAAK,EACjB9I,EAAA,EAAAwJ,EAAOV,EAAM,IAAA,EACP,MAAAkC,GAAA,EAENhL,EAAA,GAAAuJ,EAAKT,EAAM,EAAA,OAEXW,IAAoBvL,EAAA4K,GAAA,YAAAA,EAAO,OAAP,YAAA5K,EAAa,eAAgB,IAAA,EAE7C4K,EAAM,cAAA,CACH,MAAAmC,EAAab,EACjB,OAAQC,IAAA,EAAOA,IAAA,MAAAA,GAAG,SAAA,GAAYA,IAAA,YAAAA,GAAG,QAAS,GAAA,EAC1C,KAAMA,IAAA,CAAOvB,EAAM,cAAkB,GAAAA,EAAM,aAAa,SAAW,EAAA,SAASuB,GAAE,EAAE,CAAA,EAElF,QAAQ,IAAI,aAAcY,CAAU,EAEhCA,EACHjL,EAAA,EAAA8I,EAAM,cAAgBmC,EAAW,GAAAnC,CAAA,EAEjC9I,EAAA,EAAA8I,EAAM,cAAgB,KAAAA,CAAA,EAIxB9I,EAAA,GAAA2J,EAAA,CAAA,GAAcA,KAAWb,GAAA,YAAAA,EAAO,MAAA,CAAA,OAChCa,EAAO,KAAOA,GAAA,MAAAA,EAAQ,MACX,OAAAA,EAAO,MAAS,SAAWA,EAAO,KAAK,MAAM,GAAG,GAAKA,GAAA,YAAAA,EAAQ,WAAa,KAClF,GAAA,EAEA,QAEH3J,EAAA,GAAA6J,KAAU5L,EAAA6K,GAAA,YAAAA,EAAO,OAAP,YAAA7K,EAAa,UAAA,CAAA,CAAA,EACvB+B,EAAA,GAAA8J,KAAY/J,GAAA+I,GAAA,YAAAA,EAAO,OAAP,YAAA/I,GAAa,YAAA,CAAA,CAAA,EACzBC,EAAA,GAAA+J,KAAY/G,GAAA8F,GAAA,YAAAA,EAAO,OAAP,YAAA9F,GAAa,YAAA,CAAA,CAAA,OACzB4G,MAAazG,GAAA2F,GAAA,YAAAA,EAAO,OAAP,YAAA3F,GAAa,YAAA,CAAA,GAAiB,IAAKzD,GAC3CA,GAAA,MAAAA,EAAM,iBAER,GAAIA,EAAK,gBACT,KAAMA,EAAK,KACX,OAAQ,IAECA,GAAA,MAAAA,EAAM,kBAEf,KAAMA,EAAK,KACX,KAAM,aACN,iBAAkBA,EAAK,iBACvB,OAAQ,IAGFA,IAGTM,EAAA,GAAAoC,EAAA,CAAoB,GAAAA,EAAkB,KAAAc,GAAA4F,GAAA,YAAAA,EAAO,OAAP,YAAA5F,GAAa,eAAA,CAAA,IAE/C,mBAAoB4F,EACvB9I,EAAA,GAAAgK,GAAgBlB,EAAM,cAAA,EAEtB9I,EAAA,GAAAgK,GAAA,CAAA,CAAA,EAGD,QAAQ,IAAIlB,GAAA,YAAAA,EAAO,cAAc,EACjC,QAAQ,IAAIkB,EAAa,EAEzBhK,EAAA,GAAA0J,EAAA,CACI,GAAAA,KACA,KAAK,MACP,KAAK,UACJZ,IAGG,GAAIA,EAAM,GACV,KAAMA,EAAM,IAAA,CAAA,CAAA,IAMlB,QAAQ,IAAIA,CAAK,OAGlBQ,EAAS,EAAA,kBASPT,gDAuBUK,EAAiBgC,yBAChB/B,EAAU,KAAA,2BAKjB,IAAAgC,MAAa,WACjBA,EAAO,OAAUC,GAAK,CACjB,IAAAC,EAAsB,GAAAD,EAAM,OAAO,MAAM,GAEvC,MAAAE,OAAU,MAChBA,GAAI,IAAMD,EAEVC,GAAI,OAAM,UAAA,CACH,MAAAC,GAAS,SAAS,cAAc,QAAQ,EACxClO,GAAMkO,GAAO,WAAW,IAAI,EAG5BC,GAAcF,GAAI,MAAQA,GAAI,OAGhC,IAAAG,EAAUC,GACVF,GAAc,GACjBC,EAAW,IAAMD,GACjBE,GAAY,MAEZD,EAAW,IACXC,GAAY,IAAMF,IAInBD,GAAO,MAAQ,IACfA,GAAO,OAAS,IAGV,MAAAI,IAAW,IAAMF,GAAY,EAC7BG,IAAW,IAAMF,IAAa,EAGpCrO,GAAI,UAAUiO,GAAKK,GAASC,GAASH,EAAUC,EAAS,QAGlDG,GAAgBN,GAAO,YAG7BvL,EAAA,GAAA0J,EAAK,KAAK,kBAAoBmC,GAAanC,CAAA,EAE3C1J,EAAA,EAAAmJ,EAAa,IAAI,MACjBD,EAAkB,MAAQ,GAAEA,CAAA,IAK7BC,GACAA,EAAW,OAAS,GAAC,CACpB,YAAa,aAAc,aAAc,YAAa,eAAe,EAAE,SACvEA,EAAW,CAAC,EAAE,IAAM,EAGrBgC,EAAO,cAAchC,EAAW,CAAC,CAAA,GAEjC,QAAQ,IAAG,0BAA2BA,EAAW,CAAC,EAAE,IAAM,IAAA,EAC1DnJ,EAAA,EAAAmJ,EAAa,IAAI,YAqBdD,EAAkB,MAAK,WA+CtBlJ,EAAA,GAAA0J,EAAK,KAAK,kBAAoB,sBAAqBA,CAAA,iBAiBvCF,EAAI,KAAA,2BAWJD,EAAE,KAAA,qCAyBSc,IAAOvB,EAAQuB,EAAE,KAAOvB,EAAM,GAAK,KAAI,EAAMuB,GAAA,MAAAA,EAAG,UAAUA,GAAA,YAAAA,EAAG,YAAa,sBATrFX,EAAK,cAAaoC,GAAA,IAAA,mBAClB5L,GAAC,CACZ+J,GAAS/J,EAAE,OAAO,KAAK,WAuBxBF,EAAA,GAAAyJ,GAAqBA,CAAiB,iCAe3BC,EAAK,KAAK,YAAWqC,CAAA,IAArBrC,EAAK,KAAK,YAAWqC,oBASrB7L,GAAC,OACN8L,EAAU9L,EAAE,OAClBF,EAAA,GAAA0J,EAAK,KAAK,KAAOA,EAAK,KAAK,KAAK,OAAQ5J,GAAQA,EAAI,OAASkM,CAAO,EAAAtC,CAAA,MAE5DxJ,GAAC,aACH8L,EAAU9L,EAAE,SACZhC,EAAAwL,GAAA,YAAAA,EAAM,OAAN,YAAAxL,EAAY,OAAQ,KAGzB8B,EAAA,GAAA0J,EAAK,KAAK,KAAW,CAAA,GAAAA,EAAK,KAAK,KAAQ,CAAA,KAAMsC,CAAO,CAAA,EAAAtC,CAAA,EAFpD1J,EAAA,GAAA0J,EAAK,KAAK,KAAU,CAAA,CAAA,KAAMsC,CAAO,CAAA,EAAAtC,CAAA,8DA8BrBA,EAAK,OAAO,OAAMqC,CAAA,IAAlBrC,EAAK,OAAO,OAAMqC,yBAc9B/L,EAAA,EAAAoJ,GAAgBA,CAAY,uCAgBhBlJ,GAAC,CACZF,EAAA,GAAA0J,EAAK,OAAM,CAAA,GAAQA,EAAK,UAAWC,GAAMD,CAAA,oBAqBrCxL,EAAAwL,GAAA,YAAAA,EAAM,OAAN,YAAAxL,EAAY,qBAAsB,QAAU,KAChD8B,EAAA,GAAA0J,EAAK,KAAK,mBAAwB,CAAA,CAAA,QAAS,EAAE,CAAA,EAAAA,CAAA,EAE7C1J,EAAA,GAAA0J,EAAK,KAAK,mBAAqB,KAAIA,CAAA,YAkBnCA,EAAK,KAAK,mBAAmB,SAAW,GACxCA,EAAK,KAAK,mBAAmB,KAAK,EAAE,UAAY,KAEhD1J,EAAA,GAAA0J,EAAK,KAAK,mBACN,CAAA,GAAAA,EAAK,KAAK,mBACX,CAAA,QAAS,EAAE,CAAA,EAAAA,CAAA,yBA2BM,QAAO,KAAA,2BAOzBA,EAAK,KAAK,mBAAmB,OAAOuC,EAAW,CAAC,0BA2BpBrC,GAASmC,0BAIPlC,GAAOkC,0BAKnBjC,GAASiC,0BAOThC,GAASgC,oDAiB/B/L,EAAA,EAAAqJ,GAAeA,CAAW,WAzW9BiB,mNA1TIvB,GACHS,QACHD,EAAKC,EACH,QAAQ,OAAQ,GAAG,EACnB,QAAQ,iBAAkB,EAAE,EAC5B,YAAA,CAAA"}